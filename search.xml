<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>一些数学知识</title>
    <url>/2024/04/17/%E4%B8%80%E4%BA%9B%E6%95%B0%E5%AD%A6%E7%9F%A5%E8%AF%86/</url>
    <content><![CDATA[<h2 id="矩阵求导">矩阵求导</h2>
]]></content>
      <categories>
        <category>杂货</category>
        <category>数学知识</category>
      </categories>
      <tags>
        <tag>数学知识</tag>
      </tags>
  </entry>
  <entry>
    <title>async异步编程</title>
    <url>/2024/04/18/async%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="协程">协程</h2>
<p>协程(Coroutine)，也称为微线程，是一种用户态内的上下文切换技术，就是通过一个线程实现代码块相互切换执行。</p>
<p>Python实现协程的几种方法:</p>
<ul>
<li>greenlet, 早期的模块</li>
<li>yield关键字</li>
<li>asyncio装饰器(py3.4引入)</li>
<li>async、await关键字(py3.5之后)</li>
</ul>
<h3 id="asyncio事件循环">asyncio事件循环</h3>
<p>事件循环可以看做一个死循环，去检测并执行某些代码。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">任务列表 = [任务<span class="number">1</span>, 任务<span class="number">2</span>, 任务<span class="number">3</span>, ...]</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    可执行的任务列表, 已完成的任务列表 = 在任务列表中检查所有的任务， 将<span class="string">&#x27;可执行&#x27;</span>和<span class="string">&#x27;已完成&#x27;</span>的任务返回</span><br><span class="line">    <span class="keyword">for</span> 就绪任务 <span class="keyword">in</span> 已准备就绪的任务列表:</span><br><span class="line">        执行已就绪的任务</span><br><span class="line">    <span class="keyword">for</span> 已完成的任务 <span class="keyword">in</span> 已完成的任务列表:</span><br><span class="line">        在任务列表中移除 已完成的任务</span><br><span class="line">    如果 任务列表 中的任务都已完成，则终止循环</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成或获取一个事件循环</span></span><br><span class="line">loop = asyncio.get_event_loop()</span><br><span class="line"><span class="comment"># 将任务放到&quot;任务列表&quot;</span></span><br><span class="line">loop.run_until_complete(tasks)</span><br><span class="line">asyncio.run()</span><br></pre></td></tr></table></figure>
<h3 id="await关键字">await关键字</h3>
<p>用法: <code>await</code> + 可等待的对象(协程对象、Future、Task对象)</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;world&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;return x&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">    res = <span class="keyword">await</span> func()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;func return&quot;</span>, res)</span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出结果</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">main</span></span><br><span class="line"><span class="string">hello</span></span><br><span class="line"><span class="string">world</span></span><br><span class="line"><span class="string">func return return x</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="task对象">task对象</h3>
<p>实现在事件循环中添加多个任务</p>
<p>创建 Task，意思就是把协程封装成 Task 实例，并追踪协程的 <strong>运行 / 完成状态</strong>，用于未来获取协程的结果。</p>
<p>具体来说，是通过 <code>asyncio.create_task()</code> 创建 Task，让协程对象加入时事件循环中，等待被调度执行。协程封装为 Task 后不会立马启动，当某个代码 <code>await</code> 这个 Task 的时候才会被执行。</p>
 <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;xxxx&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main start&quot;</span>)</span><br><span class="line"></span><br><span class="line">    task1 = asyncio.create_task(func(), name=<span class="string">&quot;n1&quot;</span>)</span><br><span class="line">    task2 = asyncio.create_task(func(), name=<span class="string">&#x27;n2&#x27;</span>)</span><br><span class="line">    task_list = [task1, task2]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main end&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># res1 = await task1</span></span><br><span class="line">    <span class="comment"># res2 = await task2</span></span><br><span class="line">    <span class="comment"># task列表等待</span></span><br><span class="line">    done, pending = <span class="keyword">await</span> asyncio.wait(task_list, timeout=<span class="literal">None</span>)</span><br><span class="line">    <span class="built_in">print</span>(done)</span><br><span class="line">    <span class="keyword">for</span> task_d <span class="keyword">in</span> done:</span><br><span class="line">        <span class="built_in">print</span>(task_d.get_name(),task_d.result())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">asyncio.run(main())</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Python</category>
        <category>语法知识</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>asyncio</tag>
        <tag>异步编程</tag>
      </tags>
  </entry>
  <entry>
    <title>经验贴</title>
    <url>/2024/04/04/%E7%BB%8F%E9%AA%8C%E8%B4%B4/</url>
    <content><![CDATA[<p>首先挂一个我拉的QQ考研交流群<strong>433955962</strong>，想接点答疑赚点零花钱。</p>
<hr>
]]></content>
      <categories>
        <category>研究生入学考试</category>
        <category>记录贴</category>
      </categories>
      <tags>
        <tag>考研的句号</tag>
      </tags>
  </entry>
  <entry>
    <title>政治选择题</title>
    <url>/2023/12/08/%E6%94%BF%E6%B2%BB%E9%80%89%E6%8B%A9%E9%A2%98/</url>
    <content><![CDATA[<ol>
<li>
<p><span style="font-weight: bold">《论十大关系》</span>是以毛泽东为主要代表的中国共产党人<span style="color: red"><strong>开始探索适合中国国情的社会主义建设道路的标志</strong></span>，在新的历史条件下从经济方面和政治方面提出了新的指导方针，为中共八大的召开做了理论准备。</p>
</li>
<li>
<p><span style="color: green; font-weight: bold">《关于正确处理人民内部矛盾的问题》</span></p>
</li>
</ol>
<ul>
<li>提出了<strong>中国工业化道路问题，主要是重工业和轻工业、农业的发展关系问题</strong>，强调走一条有别与苏联的中国工业化道路。</li>
<li>所谓<strong>专政方式</strong>，就是运用人民民主专政的国家机器 ，对于国家内部那些反抗社会主义改造、破坏社会主义建设的敌对分子和严重犯罪分子依法治罪，剥夺他们的政治权利，强迫他们从事劳动，并在劳动中尽量使他们改造成为新人</li>
<li>所谓<strong>民主方法</strong>，就是<strong>讨论</strong>的方法、<strong>批评</strong>的方法、<strong>说服教育</strong>的方法。</li>
</ul>
<ol start="3">
<li>
<p><span style="color:red"><strong>军政军民团结</strong></span>是实现富国和强军相统一的<span style="color: red"><strong>重要政治保障</strong></span>。</p>
</li>
<li>
<p><span style="color: red"><strong>矛盾的统一性</strong></span>规定着事物转化和发展的趋势</p>
</li>
<li>
<p>中国革命必须走农村包围城市、武装夺取政权的道路，是由中国所处的时代特点和具体国情决定的。<strong>一方面</strong>，在半殖民地半封建的中国社会，内无民主制度而受封建主义的压迫，外无民族独立而受帝国主义压迫。<strong>另一方面</strong>，近代中国是一个农业大国，农民占全国人口的绝大多数，是无产阶级可靠的同盟军和革命的主力军。（双选）</p>
</li>
<li>
<p><span style="color: red"><strong>宣传思想文化工作</strong></span>，<strong>事关</strong>党的前途命运，<strong>事关</strong>国家长治久安，<strong>事关</strong>民族凝聚力和向心力。宣传思想文化工作的<span style="color: red"><strong>首要政治任务</strong></span>是用党的<span style="color: red"><strong>创新理论武装全党、教育人民</strong></span>。</p>
</li>
<li>
<p>全面深化改革<span style="color: red"><strong>总目标</strong></span>是<strong>完善和发展中国特色社会主义制度、推进国家治理体系和治理能力现代化</strong>。全面深化改革<span style="color: red"><strong>总目标是引领</strong></span>。<span style="color: red"><strong>制度建设是主线</strong></span>。<span style="color: red"><strong>经济体质改革是重点</strong></span>。<span style="color: red"><strong>重要领域和关键环节改革是突破口</strong></span>。</p>
</li>
<li>
<p>党带领人民在伟大斗争中孕育的<span style="color: red"><strong>革命文化</strong></span>和<span style="color: red"><strong>社会主义先进文化</strong></span>是我们<strong>坚定文化自信的坚强</strong><span style="color: red"><strong>基石</strong></span>。</p>
</li>
</ol>
<ul>
<li>
<p>中华民族<span style="color: red"><strong>优秀传统文化</strong></span>是我们坚定文化自信的<span style="color: red"><strong>深厚基础</strong></span>。</p>
</li>
<li>
<p>中国特色<span style="color: red"><strong>社会主义伟大实践</strong></span>是坚定文化自信的<span style="color: red"><strong>现实基础</strong></span>。</p>
</li>
</ul>
<ol start="9">
<li>
<p><span style="color: red"><strong>全面贯彻实施宪法</strong></span>是建设社会主义法治国家的<span style="color: red"><strong>首要任务和基础性工程</strong></span>，也是坚持和完善人民代表大会制度的必然要求。</p>
</li>
<li>
<p><span style="color: red"><strong>构建新发展格局</strong></span>是把握未来发展主动权的<span style="color: red"><strong>战略性布局和先手棋</strong></span>。</p>
</li>
<li>
<p><span style="color: red"><strong>贯彻新发展理念</strong></span>是<strong>新时代我国发展壮大</strong>的必由之路。</p>
</li>
<li>
<p>三三制：<strong>共产党员</strong>：<strong>工人和农民</strong>；<strong>党外进步人士</strong>：小资产阶级；中间派：民族资产阶级、开明绅士</p>
</li>
<li>
<p><span style="color: green; font-weight: bold">巩固抗日民族统一战线的策略方针：</span></p>
</li>
</ol>
<ul>
<li>
<p>总方针：<strong>发展进步势力，争取中间势力，孤立顽固势力</strong></p>
</li>
<li>
<p>进步势力：主要指<strong>工人、农民和城市小资产阶级</strong></p>
</li>
<li>
<p>中间势力：<strong>民族资产阶级、开明绅士和地方实力派</strong></p>
</li>
<li>
<p>顽固势力：大地主、大资产阶级的抗日派，即以蒋介石为代表的国民党亲英美派。（<strong>又联合又斗争</strong>政策，坚持<strong>有理、有利、有节</strong>的斗争原则）</p>
</li>
</ul>
<ol start="14">
<li>
<p><span style="color: red; font-weight: bold">近代化</span>开端：洋务运动；<span style="color: red; font-weight: bold">近代史</span>开端：鸦片战争。</p>
</li>
<li>
<p>构建统筹各领域安全的新格局，必须把维护<span style="color: red; font-weight: bold">政治安全</span>作为应对各领域安全与风险挑战的<span style="color: red; font-weight: bold">首要任务</span>；<span style="color: red; font-weight: bold">维护重点领域国家安全</span>是<span style="color: red; font-weight: bold">主阵地、主战场</span>；<span style="color: red; font-weight: bold">经济安全</span>是国家安全的<span style="color: red; font-weight: bold">基础</span>；<span style="color: red; font-weight: bold">牢牢守住安全发展这条底线</span>是构建新发展格局的<span style="color: red; font-weight: bold">重要前提和保障</span>。</p>
</li>
<li>
<p>以邓小平<strong>南方谈话</strong>和党的<strong>十四大</strong>为标志，改革开放和现代化建设事业进入从计划经济体制向社会主义市场经济体制转变的<strong>新阶段</strong>。</p>
</li>
<li>
<p>党的<strong>十四届二中全会</strong>，将党的十四大提出的社会主义市场经济体制改革的目标和基本原则具体化，<strong>进一步勾画了建立社会主义市场经济体制的基本框架</strong>。</p>
</li>
<li>
<p><strong>集体主义</strong>是社会主义道德的<strong>原则</strong>。</p>
</li>
<li>
<p><strong>教育</strong>是国家经济社会发展的<strong>支撑力量</strong>，在国家发展中始终具有<strong>基础性先导性全局性地位</strong>。</p>
</li>
<li>
<p>社会主义发展道路多样性的<span style="color: red; font-weight: bold">现实原因</span>是<strong>时代和实践的不断发展</strong>；<span style="color: red; font-weight: bold">根本原因</span>是<strong>生产力发展状况和社会发展阶段</strong>。</p>
</li>
<li>
<p>中国特色社会主义<strong>最本质的特征</strong>和中国<span style="color: red; font-weight: bold">最大的国情</span>是<strong>党的领导</strong>；<strong>社会主义初级阶段</strong>是我国的<span style="color: red; font-weight: bold">基本国情</span>、<strong>最大实际</strong>。</p>
</li>
<li>
<p>建设农业强国<strong>基本要求</strong>是实现<strong>农业现代化</strong></p>
</li>
<li>
<p><span style="color: green; font-weight: bold">乡村振兴战略</span></p>
</li>
</ol>
<ul>
<li><span style="color: red; font-weight: bold">农业农村现代化</span>是<strong>总目标</strong></li>
<li><span style="color: red; font-weight: bold">坚持农业农村优先发展</span>是<strong>总方针</strong></li>
<li>产业兴旺、生态宜居、乡风文明、治理有效、生活富裕是<span style="color: red; font-weight: bold">总要求</span></li>
<li><span style="color: red; font-weight: bold">建立健全城乡融合发展体制机制和政策体系</span>是<strong>制度保障</strong></li>
</ul>
<ol start="24">
<li>
<p><span style="color: red; font-weight: bold">自主创新</span>是攀登世界科技高峰的必由之路。</p>
</li>
<li>
<p>道德最基本的功能是<strong>认识功能</strong>、<strong>规范功能</strong>、<strong>调节功能</strong>。</p>
</li>
<li>
<p>习说的新时代文化使命是<strong>继续推动文化繁荣、建设文化强国、建设中华民族现代文明</strong>。要<strong>坚定文化自信</strong>、<strong>秉持开放包容</strong>、<strong>坚持守正创新</strong>（三点）。</p>
</li>
<li>
<p>科学发展观：推动经济社会发展是<span style="color: red; font-weight: bold">第一要义</span>；以人为本是<span style="color: red; font-weight: bold">核心立场</span>；统筹兼顾是<span style="color: red; font-weight: bold">根本方法</span>；全面协调可持续发展是<span style="color: red; font-weight: bold">基本要求</span>。</p>
</li>
<li>
<p>推动高质量发展的必由之路是<strong>加快实现高水平科技自立自强</strong>。（高科技）</p>
</li>
<li>
<p><strong>走自己的路</strong>是党全部理论和实践的立足点。</p>
</li>
<li>
<p><span style="color:green"><strong>新民主主义革命的领导力量</strong></span></p>
</li>
</ol>
<ul>
<li>
<p>无产阶级及其政党实现对各革命阶级的领导，必须建立以工农联盟为基础的广泛的<strong>统一战线</strong>，这是实现领导权的<strong>关键</strong>。</p>
</li>
<li>
<p>坚持独立自主的原则，保持党在思想上、政治上、组织上的对独立性，实行又联合又斗争的方针，是坚持领导权的<strong>基本方略</strong>。</p>
</li>
<li>
<p>建立无产阶级以农民为主体的强大的<strong>革命武装</strong>，是保证领导权的<strong>坚强支柱</strong>。</p>
</li>
<li>
<p>加强无产阶级政党的建设，是实现领导权的<strong>根本保证</strong>。</p>
</li>
<li>
<p>无产阶级领导权的<strong>中心问题</strong>是<strong>农民问题</strong>，农民问题也是中国革命的<strong>基本问题</strong>。无产阶级的<strong>领导权是中国革命的中心问题</strong>，也是新民主主义革命理论的<strong>核心问题</strong>。<strong>分清敌友</strong>是中国革命的<strong>首要问题</strong>。</p>
</li>
</ul>
<img src="/2023/12/08/%E6%94%BF%E6%B2%BB%E9%80%89%E6%8B%A9%E9%A2%98/image1.png" style="zoom:60%;">
<ol start="30">
<li>
<p>社会主义工商业改造中，第一步实行初级形式的国家资本主义。                                                                                                                                                            在<strong>私营工业</strong>中实行<strong>委托加工</strong>、<strong>计划订货</strong>、<strong>统购包销</strong>；在<strong>私营商业</strong>中采取委托<strong>经销、代销</strong>等形式。</p>
</li>
<li>
<p><span style="color: green; font-weight: bold">现代化产业体系</span></p>
</li>
</ol>
<ul>
<li>
<p><strong>保持优势产业的领先地位</strong>，是支撑我国国际竞争力的<strong>基石</strong>。</p>
</li>
<li>
<p><strong>战略性新兴产业</strong>具有<strong>先导性</strong>，代表新一轮科技革命和产业变革的方向，是引领国家未来产业发展的<strong>决定性力量</strong>。</p>
</li>
<li>
<p><strong>现代服务业</strong>是现代化产业体系的<strong>重要支撑</strong>。</p>
</li>
<li>
<p><strong>基础设施</strong>是经济社会发展的<strong>重要支撑</strong>。</p>
</li>
</ul>
<ol start="32">
<li>
<p>中国革命<strong>道德的灵魂</strong>是为<strong>实现社会主义和共产主义的理想信念</strong>而奋斗。</p>
</li>
<li>
<p>垄断利润的形成<strong>关键</strong>在于<strong>垄断组织在经济生活中起了决定性作用</strong>,从而阻碍了资本在各部门之间的自由转移,限制了利润平均化的趋势。</p>
</li>
<li>
<p>构建新发展格局的关键在于实现经济循环的畅通无阻。能否实现,主要<strong>取决于供给和需求两端是否动力强劲、总体匹配,动态平衡、良性互动</strong>。</p>
</li>
<li>
<p>太平天国运动是中国近代史上<strong>第一次反对国内封建势力和外国侵略</strong>的斗争。                                                                                                                                         三元里人民抗英是中国近代史上中国人民<strong>第一次大规模的反侵略</strong>武装斗争。</p>
</li>
<li>
<p><strong>抽象劳动</strong>是价值的<strong>唯一源泉</strong>。剩余价值是资本积累的源泉，<strong>资本积累</strong>是资本主义<strong>扩大再生产的源泉</strong>。</p>
</li>
<li>
<p><span style="color: green; font-weight: bold">六个坚持</span></p>
</li>
</ol>
<ul>
<li>
<p>坚持人民至上是<span style="color: red; font-weight: bold">根本价值立场</span>，体现唯物主义群众史观</p>
</li>
<li>
<p>坚持自信自立是<span style="color: red; font-weight: bold">内在精神特质</span>，体现了客观规律性和主观能动性的有机结合</p>
</li>
<li>
<p>坚持守正创新是<span style="color: red; font-weight: bold">鲜明理论品格</span>，体现了变与不变、继承与发展的内在联系</p>
</li>
<li>
<p>坚持问题导向是<span style="color: red; font-weight: bold">重要实践要求</span>，体现了矛盾的普遍性和客观性</p>
</li>
<li>
<p>坚持系统观念是<span style="color: red; font-weight: bold">基本思想和工作方法</span>，体现了辩证唯物主义普遍联系的原理</p>
</li>
<li>
<p>坚持胸怀天下是<span style="color: red; font-weight: bold">中国共产党人境界格局</span>，体现了马克思主义追求人类进步和解放的崇高理想</p>
</li>
</ul>
<ol start="38">
<li>
<p>建设高水平自贸试验区：坚持党的全面领导，坚持以<strong>高水平开放</strong>为<strong>引领</strong>、以<strong>制度创新</strong>为<strong>核心</strong>，统筹发展和安全，高标准对接国际经贸规则，深入推进制度型开放，加强改革整体谋划和系统集成，推动全产业链创新发展，让自贸试验区更好发挥示范作用。</p>
</li>
<li>
<p>东北全面振兴：<strong>根基</strong>在<strong>实体经济</strong>，<strong>关键</strong>在<strong>科技创新</strong>，<strong>方向</strong>是<strong>产业升级</strong>；以<strong>发展现代化大农业</strong>为<strong>主攻方向</strong>，加快推进农业农村现代化；当好国家粮食稳产保供“<strong>压舱石</strong>”,是东北的<strong>首要担当</strong>。</p>
</li>
<li>
<p><span style="color: green; font-weight: bold">当代资本主义变化的新特征——资产阶级内部层级结构日趋复杂</span></p>
</li>
</ol>
<ul>
<li>
<p><strong>最高层</strong>是<strong>极少数国际金融垄断寡头阶层</strong>；</p>
</li>
<li>
<p>第二层是与前者联合，以<strong>能源、军工、高科技</strong>利益集团为主体的<strong>国际金融-产业垄断阶层</strong>；</p>
</li>
<li>
<p>第三层是占据各产业垄断地位的<strong>产业垄断资本家</strong>阶层</p>
</li>
<li>
<p>第四层是由<strong>经理资本家、食利者阶层、中小企业资本家</strong>等构成的<strong>一般资产阶级阶层</strong>。</p>
</li>
</ul>
<ol start="41">
<li><span style="color: green; font-weight: bold">长江经济带高质量发展座谈会</span></li>
</ol>
<ul>
<li>
<p>坚持把<strong>强化区域协同融通</strong>作为<span style="color: red; font-weight: bold">着力点</span></p>
</li>
<li>
<p>把<strong>产业绿色转型升级作</strong>为<span style="color: red; font-weight: bold">重中之重</span>；坚持创新引领发展，把长江经济带的科研优势、人才优势转化为发展优势</p>
</li>
<li>
<p>推动长江经济带高质量发展<strong>根本上</strong>依赖于<strong>长江流域高质量的生态环境</strong></p>
</li>
</ul>
<ol start="42">
<li><span style="color: green; font-weight: bold">《党和国家机构改革方案》</span></li>
</ol>
<ul>
<li>
<p>深化党和国家机构改革，<span style="color: red; font-weight: bold">目标</span>是<strong>构建系统完备、科学规范、运行高效的党和国家机构职能体系</strong></p>
</li>
<li>
<p>以习思想为<span style="color: red; font-weight: bold">指导</span></p>
</li>
<li>
<p>以<strong>加强党中央集中统一领导</strong>为<span style="color: red; font-weight: bold">统领</span></p>
</li>
<li>
<p>以推进国家<strong>治理体系和治理能力现代化</strong>为<span style="color: red; font-weight: bold">导向</span></p>
</li>
<li>
<p>坚持<strong>稳中求进</strong>工作<span style="color: red; font-weight: bold">总基调</span></p>
</li>
</ul>
<ol start="43">
<li><span style="color: green; font-weight: bold">资本主义生产关系产生途径</span></li>
</ol>
<ul>
<li>
<p>从小商品经济分化出来</p>
</li>
<li>
<p>从商人和高利贷者转化而成</p>
</li>
</ul>
<ol start="44">
<li><span style="color: green; font-weight: bold">无产阶级要实现对同盟者的领导必须具备的条件</span></li>
</ol>
<ul>
<li>
<p>率领同盟者向着共同的敌人作坚决的斗争，并取得胜利</p>
</li>
<li>
<p>对同盟者给予物质福利，至少不损害其利益，同时给予政治教育</p>
</li>
</ul>
<ol start="45">
<li><span style="color: green; font-weight: bold">独立自主是党百年奋斗的十大历史经验之一</span></li>
</ol>
<ul>
<li><span style="color: red;  font-weight: bold">独立自主</span>是<strong>中华民族精神之魂</strong>，是我们<strong>立党立国的重要原则</strong></li>
<li><span style="color: red; font-weight: bold">密切联系群众</span>是中国共产党的<strong>最大政治优势</strong></li>
<li><span style="color: red; font-weight: bold">人民立场</span>是我们党<strong>区别于其他政党的显著标志</strong>，是<strong>根本立场</strong></li>
</ul>
<ol start="46">
<li>
<p><span style="color: green; font-weight: bold">党的七大</span></p>
<p>党的七大标志着我们党在政治上、思想上、组织上走向了成熟。</p>
</li>
</ol>
<ul>
<li>在政治上，党通过延整风，使全党团结在毛泽东的旗帜下，实现了党的空前统一和团结</li>
<li>在思想上，党确立了毛泽东思想在全党的指导地位，把毛泽东思想写入党章</li>
<li>在组织上，党形成了一支高举毛泽东旗帜的久经考验的政治家集团</li>
</ul>
<ol start="47">
<li><span style="color: green; font-weight: bold">中国特色社会主义法治道路核心要义</span></li>
</ol>
<ul>
<li>坚持党的领导</li>
<li>坚持中国特色社会主义制度</li>
<li>贯彻中国特色社会主义法治理论</li>
</ul>
<ol start="48">
<li><span style="color: green; font-weight: bold">金融工作会议</span></li>
</ol>
<ul>
<li>金融工作必须坚持党中央对金融工作的集中统一领导（<span style="color: red; font-weight: bold">根本保证</span>），坚持<strong>以人民为中心</strong>的<span style="color: red; font-weight: bold">价值取向</span></li>
<li>把金融<strong>服务实体经济</strong>作为<span style="color: red; font-weight: bold">根本宗旨</span></li>
<li>坚持把<strong>防控风险</strong>作为金融工作的<span style="color: red; font-weight: bold">永恒主题</span></li>
<li>坚持在市场化法治化轨道上推进⾦融创新发展，坚持深化⾦融供给侧结构性改⾰（<span style="color: red; font-weight: bold">主线</span>），坚持统筹⾦融开放和安全，坚持<strong>稳中求进</strong>⼯作<span style="color: red; font-weight:bold">总基调</span>(8个坚持)</li>
</ul>
<ol start="49">
<li><span style="color: green; font-weight: bold">第三届“一带一路”国际合作高峰论坛</span></li>
</ol>
<ul>
<li><span style="color: red; font-weight: bold">最清晰信号</span>是团结合作、开放共赢</li>
<li><span style="color: red; font-weight: bold">最重要共识</span>是开启高质量共建“一带一路”新阶段</li>
<li><span style="color: red; font-weight: bold">最宏伟愿景</span>是携手实现世界现代化</li>
<li><span style="color: red; font-weight: bold">最鲜明特色</span>是行动导向高效务实</li>
</ul>
<ol start="50">
<li><span style="color: green; font-weight: bold">价值规律在市场配置资源过程中的作用</span></li>
</ol>
<ul>
<li>自发地调节生产资料和劳动力在社会各生产部门之间的分配比例</li>
<li>自发地刺激社会生产力的发展</li>
<li>自发地调节社会收入分配</li>
</ul>
<ol start="51">
<li>法律至上具体表现为<strong>法律的普遍适用</strong>、<strong>优先适用</strong>和<strong>不可违反</strong></li>
<li><span style="color: red; font-weight: bold">《在晋绥干部会议上的讲话》完整总结概括了新民主主义革命总路线的内容</span>，即物产阶级领导的，人民大众的，反对帝国主义、封建主义和官僚资本主义的革命。  <span style="color: red; font-weight: bold">《中国革命和中国共产党》第一次提出了“新民主主义的革命”的科学概念</span></li>
<li><span style="color: green; font-weight: bold">党的领导制度是我国的根本领导制度</span></li>
</ol>
<ul>
<li>党的领导制度是中国特色社会主义<strong>制度建设</strong>的<span style="color:red; font-weight: bold">关键</span>；是国家治理体系的核心。</li>
<li>健全党的全面领导制度、确保党在各种组织中发挥领导作用是<span style="color:red; font-weight: bold">主体内容</span></li>
</ul>
<ol start="54">
<li><span style="color:red; font-weight: bold">协商民主</span>是中国特色社会主义民主政治中<strong>独特的、独有的、独到的</strong>民主形式</li>
<li><span style="color: green; font-weight: bold">全面抗战的路线和持久战的战略总方针</span></li>
</ol>
<ul>
<li>在陕北<span style="color: red; font-weight: bold">洛川</span>召开政治局扩大会议，制定了抗日救国十大纲领，强调要打倒日本帝国主义关键在于使已经发动的抗战成为<strong>全面的全民族的抗战</strong>。</li>
<li>会议强调了
<ul>
<li>坚持统一战线中无产阶级的<strong>领导权</strong></li>
<li>在敌人后方放手发动独立自主的<strong>山地游击战</strong></li>
<li>在国民党统治区放手发动抗日的群众运动</li>
</ul>
</li>
<li><mark>（在<span style="color: red; font-weight: bold">瓦窑堡会议</span>上提出了党的基本策略任务是建立广泛的抗日民族统一战线）</mark></li>
</ul>
<ol start="56">
<li><span style="color: green; font-weight: bold">邓小平改革开放坚持的根本原则</span></li>
</ol>
<ul>
<li>社会主义公有制经济为主体</li>
<li>共同富裕</li>
</ul>
<ol start="57">
<li><span style="color: green; font-weight: bold">中国加入世界贸易组织</span></li>
</ol>
<img src="/2023/12/08/%E6%94%BF%E6%B2%BB%E9%80%89%E6%8B%A9%E9%A2%98/image-20231210195251321.png" alt="image-20231210195251321" style="zoom:67%;">
<ol start="58">
<li>
<p>社会主义核心价值观的<strong>基础和首要要求</strong>是<span style="color: red; font-weight: bold">爱国</span></p>
</li>
<li>
<p><span style="color: red; font-weight: bold">个人品德建设</span>在社会道德建设中具有<strong>基础性</strong>作用</p>
</li>
<li>
<p><span style="color: green; font-weight: bold">世界互联网大会乌镇峰会</span></p>
</li>
</ol>
<ul>
<li><strong>主题</strong>：建设<span style="color: red; font-weight: bold">包容</span>、<span style="color: red; font-weight: bold">普惠</span>、<span style="color: red; font-weight: bold">有韧性</span>的数字世界——携手构建网络空间命运共同体。</li>
<li>致辞：倡导<span style="color: red; font-weight: bold">发展优先</span>，构建更加<strong>普惠繁荣</strong>的网络空间；倡导<span style="color: red; font-weight: bold">安危与共</span>，构建更加<strong>和平安全</strong>的网络空间；倡导<span style="color: red; font-weight: bold">文明互鉴</span>，构建更加<strong>平等包容</strong>的网络空间。</li>
</ul>
<ol start="61">
<li>
<p>中国式现代化的关键是<span style="color: red; font-weight: bold">科技现代化</span></p>
</li>
<li>
<p>亚洲价值观的核心是<span style="color:red; font-weight: bold">和平、合作、包容、融合</span></p>
</li>
<li>
<p>社会主义民主政治的<strong>本质属性</strong>是<span style="color: red; font-weight: bold">全过程人民民主</span></p>
</li>
<li>
<p>社会经济权利：劳动权，休息权，社会保障权，物质帮助权。<mark>(私有财产权、继承权是财产权利)</mark></p>
</li>
<li>
<p><span style="color: green; font-weight: bold">当代资本主义变化的新特征</span></p>
</li>
</ol>
<img src="/2023/12/08/%E6%94%BF%E6%B2%BB%E9%80%89%E6%8B%A9%E9%A2%98/image-20231217100303766.png" alt="image-20231217100303766" style="zoom:80%;">
<img src="/2023/12/08/%E6%94%BF%E6%B2%BB%E9%80%89%E6%8B%A9%E9%A2%98/image-20231217100331618.png" alt="image-20231217100331618" style="zoom:80%;">
<ol start="66">
<li><span style="color: red; font-weight: bold">全面深化改革开放</span>，是<strong>新时代坚持和发展中国特色社会主义的根本动力</strong>。</li>
<li><span style="color: red; font-weight: bold">党性原则</span>是新闻舆论工作的<strong>根本原则</strong>，坚持党性原则<strong>最根本</strong>的是<strong>坚持党对新闻舆论工作的领导</strong>。</li>
<li><span style="color: green; font-weight: bold">主题教育</span></li>
</ol>
<ul>
<li><span style="color: red; font-weight: bold">总要求</span>：学思想、强党性、重实践、建新功</li>
<li><span style="color: red; font-weight: bold">根本任务</span>：坚持学思用贯通、知信行统一</li>
</ul>
<ol start="69">
<li>
<p>社会发展进步<strong>集中表现</strong>为<span style="color: red; font-weight: bold">社会形态的更替</span>。<strong>人的发展</strong>，<strong>最根本</strong>的是人的<span style="color: red; font-weight: bold">自由程度的提高</span>，人的发展程度构成了社会进步的重要标志。物质资料的生产方式发展变化决定整个社会历史的发展变化和社会形态的更替。</p>
</li>
<li>
<p><strong>公正</strong>是人类社会进步的<strong>标尺</strong>，是社会主义制度的本质要求。法治是现代社会的主要特征。<mark>诚信是社会存续和发展的重要价值基石</mark>。</p>
</li>
<li>
<p><span style="color: green; font-weight: bold">统战工作</span></p>
</li>
</ol>
<ul>
<li><strong>本质要求</strong>是<span style="color: red; font-weight: bold">大团结大联合</span></li>
<li><strong>关键</strong>是坚持<span style="color: red; font-weight: bold">求同存异</span></li>
<li><strong>党的领导</strong>是统一战线<span style="color: red; font-weight: bold">最鲜明的特征</span></li>
</ul>
]]></content>
      <categories>
        <category>研究生入学考试</category>
        <category>政治选择题</category>
      </categories>
      <tags>
        <tag>政治</tag>
      </tags>
  </entry>
  <entry>
    <title>计网模拟题</title>
    <url>/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/</url>
    <content><![CDATA[<h2 id="2024-年全国硕士研究生入学统一考试模拟题01"><strong>2024 年全国硕士研究生入学统一考试模拟题01</strong></h2>
<h3 id="一、单项选择题：第1-40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。">一、<strong>单项选择题：第1</strong>~<strong>40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。</strong></h3>
<ul>
<li>
<ol start="33">
<li>在OSI/RM中，不属于网络层相邻下层涉及的范畴是（  ）。</li>
</ol>
<p>A．物理地址</p>
<p>B．封装成帧</p>
<p>C．透明传输</p>
<p>D．频分复用</p>
</li>
<li>
<ol start="34">
<li>假设某信道中的信号功率为0.6W，噪声功率为0.0193W，信道的频带宽度为160MHz，信道的长度为1km，信号在该信道的传播速率为200,000km/s，则该信道的时延带宽积是（  ）。</li>
</ol>
<p>A．500b</p>
<p>B．512b</p>
<p>C．1024b</p>
<p>D．4000b</p>
</li>
<li>
<ol start="35">
<li>以下有关VLAN的叙述中，<strong>错误</strong>的有（ ）。</li>
</ol>
<p>I. VLAN是一种新型局域网</p>
<p>II. VLAN使用的802.1Q帧的最大长度为1518B</p>
<p>III. 连接在同一交换机上的多个站点可以属于不同的VLAN</p>
<p>IV. 不同VLAN中的站点之间不能直接通信</p>
<p>V. 属于同一VLAN的多个站点不能连接在不同的交换机上</p>
<p>A．I、V</p>
<p>B．II、IV</p>
<p>C．I、II、V</p>
<p>D．II、III、IV、V</p>
</li>
<li>
<ol start="36">
<li>若主机A的IP地址是192.168.0.129/25，则主机A所在网络中可分配给其他主机或路由器接口的最小地址是（  ）。</li>
</ol>
<p>A．192.168.0.127</p>
<p>B．192.168.0.128</p>
<p>C．192.168.0.129</p>
<p>D．192.168.0.130</p>
</li>
<li>
<ol start="37">
<li>若将某个 “/17”地址块划分为9（不多也不少）个子块，则可能的最小子块中所包含的IP地址数量为（  ）。</li>
</ol>
<p>A．126</p>
<p>B．128</p>
<p>C．2046</p>
<p>D．2048</p>
</li>
<li>
<ol start="38">
<li>以下有关SDN的叙述中，错误的是（  ）。</li>
</ol>
<p>A. 数据层面与控制层面是分离的，二者不在同一个设备中</p>
<p>B. 各分组交换机的流表中的流表项，都是由SDN控制器进行计算、管理和安装的</p>
<p>C. SDN控制器与网络控制应用程序的交互都要通过南向API接口</p>
<p>D. OpenFlow协议是目前被广泛采用的SDN控制器通信层的协议</p>
</li>
<li>
<ol start="39">
<li>在TCP建立连接的过程中，TCP服务器收到SYN=1的TCP报文段并给TCP客户发送相应的SYN=1且ACK=1的TCP报文段后，TCP服务器的TCP状态转换为（  ）。</li>
</ol>
<p>A．SYN-RCVD</p>
<p>B．TIME-WAIT</p>
<p>C．ESTABLISHED</p>
<p>D．CLOSED</p>
</li>
<li>
<ol start="40">
<li>假设主机H通过HTTP/1.1请求浏览某个Web服务器S上的Web页rfc.html，rfc.html引用了同目录下的3个JPEG小图像，一次请求-响应的时间为RTT，忽略其他各种时延，不考虑拥塞控制和流量控制，则从发送HTTP请求报文开始到收到全部内容为止，所耗费的时间是（  ）。</li>
</ol>
<p>A．2RTT</p>
<p>B．2.5RTT</p>
<p>C．4RTT</p>
<p>D．4.5RTT</p>
</li>
</ul>
<h3 id="二、综合应用题：第41-47-题，共70-分。">二、<strong>综合应用题：第41~47 题，共70 分。</strong></h3>
<ul>
<li>
<ol start="47">
<li>（9分）某网络拓扑如下图所示，现做如下假设：</li>
</ol>
<p>（1） 服务器Server1是本地域名服务器，其记录有Internet中Web服务器的域名和IP地址的对应关系。</p>
<p>（2） 服务器Server2为主机H提供网络参数（IP地址、子网掩码、默认网关的IP地址、本地域名服务器的IP地址）。</p>
<p>（3） S为二层交换机，其各接口的接口号已标注在接口旁边。</p>
<p>（4） Server1、Server2、路由器R1和R2各自相关接口的IP地址和MAC地址已标注在它们各自的旁边； H的MAC地址已标注在其旁边。</p>
<p>（5） 一开始H的ARP表和S的交换表均为空，并且后续各表获得的相关记录没有老化时间（即长期保存）。</p>
<p>（6） H获取到IP地址、子网掩码以及默认网关的IP地址后，利用浏览器通过域名www.abc.com访问Web服务器，并且整个访问过程中没有传输差错，也未发生与Web访问无关的网络通信。</p>
</li>
</ul>
<img src="https://p.sda1.dev/14/ca8243e36a1b972682be5ded7495f088/1.png" alt="1.png" style="zoom: 67%;">
<p>请回答以下问题：</p>
<p>（1） H使用什么协议从Server2获取到自己的IP地址？该IP地址所在范围是什么？H从Server2获取到的默认网关的IP地址是什么？</p>
<p>（2） H向Server1请求Web服务器的域名www.abc.com所对应的IP地址时，发送给Server1的第一个以太网帧的数据载荷封装的是什么报文？该以太网帧的目的MAC地址是什么？</p>
<p>（3） H访问Web服务器的过程中，除HTTP外还用到了哪个应用层协议？该应用层协议的熟知端口号是什么？从应用层到数据链路层，该应用层协议报文分别通过哪些协议进行逐层封装？</p>
<p>（4） 若S的交换表结构为&lt;MAC地址，接口号&gt;，则H获取到自己的IP地址等网络参数时，S的交换表中的内容是什么？当H收到来自Web服务器的响应时，S的交换表中的内容是什么？</p>
<p>（5） 为了使H能够与Web服务器通信，R1需要开启什么功能？H给Web服务器发送的IP数据报，从R1转发出来时，其源IP地址是什么？</p>
<h2 id="2024-年全国硕士研究生入学统一考试模拟题01-答案"><strong>2024 年全国硕士研究生入学统一考试模拟题01 答案</strong></h2>
<ul>
<li>
<ol start="33">
<li>D</li>
</ol>
<p>在OSI/RM中，网络层的相邻下层是数据链路层。</p>
<p>选项A中的物理地址、也称为硬件地址、MAC地址，属于数据链路层范畴。</p>
<p>选项B中的封装成帧、选项C中的透明传输都属于数据链路层范畴。另外，差错检测也属于数据链路层范畴。</p>
<p>选项D中的<strong>频分复用，属于物理层范畴。</strong></p>
</li>
<li>
<ol start="34">
<li>D</li>
</ol>
<p>最大传输速率是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>160</mn><mo>∗</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mfrac><mn>0.6</mn><mn>0.0193</mn></mfrac><mo stretchy="false">)</mo><mo>=</mo><mn>800</mn><mi>M</mi><mi>b</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">160*log_2(1+\frac{0.6}{0.0193})=800Mb/s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">160</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.0193</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">800</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">b</span><span class="mord">/</span><span class="mord mathnormal">s</span></span></span></span>。传播时延为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>200000</mn></mfrac><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{1}{200000}s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">200000</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">s</span></span></span></span>，时延带宽积为<strong>单向传播时延<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">×</span></span></span></span>带宽</strong>。因此时延带宽积为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>800</mn><mi>M</mi><mo>∗</mo><mfrac><mn>1</mn><mn>200000</mn></mfrac><mo>=</mo><mn>4000</mn><mi>b</mi></mrow><annotation encoding="application/x-tex">800M * \frac{1}{200000}=4000b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">800</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">200000</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">4000</span><span class="mord mathnormal">b</span></span></span></span>。</p>
</li>
<li>
<ol start="35">
<li>C</li>
</ol>
<p>I项的叙述错误。VLAN是在以太网交换机上实现的一种分割广播域的技术，而不是一种新型的局域网。</p>
<p>II项的叙述错误。802.1Q帧对以太网V2的MAC帧格式进行了扩展：在源地址字段和类型字段之间插入了4字节的VLAN标签字段，则802.1Q帧的最大长度为1518B+4B=1522B。</p>
<p>III项的叙述正确。在同一个交换机上可以划分不同的VLAN。</p>
<p>IV项的叙述正确。不同VLAN中的站点之间不能直接通信，要实现它们之间的通信，需要使用三层交换机或路由器。</p>
<p>V项的叙述错误。属于同一VLAN的多个站点，可以连接在不同的交换机上。只要将相关的交换机接口划分到同一VLAN即可。</p>
</li>
<li>
<ol start="36">
<li>D</li>
</ol>
</li>
<li>
<ol start="37">
<li>B</li>
</ol>
<p>满足网络号不是前缀就行。一种可能的划分方法是: 0, 10, 110, 1110, 11110,  111110, 1111110, 11111110, 11111111。网络号最长是8位。</p>
</li>
<li>
<ol start="38">
<li>C</li>
</ol>
<img src="https://p.sda1.dev/14/ac356a62795b375f0ed50afb18fbd778/38.png" alt="38.png" style="zoom:67%;">
</li>
<li>
<ol start="39">
<li>A</li>
</ol>
<img src="https://p.sda1.dev/14/fbaab7001a2e3136b971b2f92fc8a113/18.jpg" style="zoom:80%;">
</li>
<li>
<ol start="40">
<li>A</li>
</ol>
<img src="https://p.sda1.dev/14/04fde899361ea840aa8192436fef5fe0/40.png" alt="40.png" style="zoom: 50%;">
</li>
<li>
<ol start="47">
<li></li>
</ol>
<p>(1). H通过<strong>DHCP协议</strong>从Server2获取到自己的IP地址。该IP地址所在范围是<strong>192.168.16.195-192.168.16.253</strong>。H从Server2获取的默认网关的IP地址是<strong>192.168.16.254</strong>。</p>
<p>(2). 发送给Server1的第一个以太网帧的数据载荷是<strong>ARP请求报文</strong>。该以太网帧的目的MAC地址是<strong>FF-FF-FF-FF-FF-FF</strong>。</p>
<p>(3). 除HTTP外还用的应用层协议是<strong>DNS协议</strong>。对应<strong>熟知端口号是53</strong>。从应用层到数据链路层逐层封装的协议为:DNS协议，UDP协议，IP协议，最后在数据链路层被封装在以太网帧中。</p>
<img src="https://p.sda1.dev/14/debc8cc1f2119e41b63e2d97c0f84872/Image_1698924422482.jpg" alt="Image_1698924422482.jpg" style="zoom: 50%;">
</li>
</ul>
<p>​	(4). H获取到自己的IP地址等网络参数时，S的交换表中的内容是:</p>
<table>
<thead>
<tr>
<th style="text-align:center">MAC地址</th>
<th style="text-align:center">接口号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">00-11-22-33-44-aa</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">00-11-22-33-44-ee</td>
<td style="text-align:center">3</td>
</tr>
</tbody>
</table>
<p>收到来自Web服务器的相应时，S的交换表内容是:</p>
<table>
<thead>
<tr>
<th style="text-align:center">MAC地址</th>
<th style="text-align:center">接口号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">00-11-22-33-44-aa</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">00-11-22-33-44-ee</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">00-11-22-33-44-bb</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">00-11-22-33-44-dd</td>
<td style="text-align:center">2</td>
</tr>
</tbody>
</table>
<p>​	(5). R1需要开启<strong>NAT功能</strong>。源IP地址是<strong>218.75.230.2/30</strong></p>
<hr>
<h2 id="2024-年全国硕士研究生入学统一考试模拟题02"><strong>2024 年全国硕士研究生入学统一考试模拟题02</strong></h2>
<h3 id="一、单项选择题：第1-40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。-2">一、<strong>单项选择题：第1</strong>~<strong>40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。</strong></h3>
<ul>
<li>
<ol start="33">
<li>以下有关计算机网络体系结构的相关叙述中，<strong>错误</strong>的是（ ）。</li>
</ol>
<p>I. 对等实体是指通信双方相同网络体系结构中相同层次中的实体</p>
<p>II. 协议的三要素为语法、语义、同步（或称时序）</p>
<p>III. 实体为了使用下层提供的服务，需要知道实现服务的具体协议细节</p>
<p>IV. 对等层次之间传送的数据包称为该层的SDU</p>
<p>V. 上层要使用相邻下层所提供的服务，需要通过与相邻下层交换一些命令，这些命令称为服务原语</p>
<p>A．I，IV</p>
<p>B．III、IV</p>
<p>C．II、III</p>
<p>D．III、IV、V</p>
</li>
<li>
<ol start="34">
<li>有X、Y和Z共3个站进行CDMA通信，其中X站的码片序列是(-1 -1 -1 +1 +1 -1 +1 +1)，Y站的码片序列是(-1 -1 +1 -1 +1 +1 +1 -1)，则Z站的码片序列可以是（ ）。</li>
</ol>
<p>A. (+1 +1 +1 -1 -1 +1 -1 -1)</p>
<p>B. (+1 +1 -1 +1 -1 -1 -1 +1)</p>
<p>C. (-1 -1 +1 -1 -1 +1 -1 -1)</p>
<p>D. (-1 +1 -1 +1 +1 +1 -1 -1)</p>
</li>
<li>
<ol start="35">
<li>以下有关停止-等待协议与GBN协议的相关叙述中，<strong>正确</strong>的是（ ）。</li>
</ol>
<p>I. 停止-等待协议的发送窗口和接收窗口的尺寸都是1</p>
<p>II. GBN协议的发送窗口和接收窗口的尺寸都大于1</p>
<p>III. 对于RTT远大于分组发送时延的卫星链路，不适合使用停止-等待协议，因为其信道利用率很低</p>
<p>IV. GBN协议的信道利用率大于停止-等待协议的信道利用率</p>
<p>A．I，IV</p>
<p>B．I、III</p>
<p>C．II、IV</p>
<p>D．I、III、IV</p>
</li>
<li>
<ol start="36">
<li>在下图所示的802.11无线局域网中，主机A要通过接入点AP给主机B发送一个数据帧，则该数据帧从主机A发出时，其地址字段中的地址1、地址2以及地址3分别为是（ ）。</li>
</ol>
<img src="https://p.sda1.dev/14/ada875f76f8b8279319019ea8f73b217/2_36.png" alt="2_36.png" style="zoom:67%;">
<p>A. MAC1、MAC2、MAC3</p>
<p>B. MAC3、MAC2、MAC1</p>
<p>C. MAC3、MAC1、MAC2</p>
<p>D. MAC2、MAC1、MAC3</p>
</li>
<li>
<ol start="37">
<li>网络拓扑如下图所示，假设交换机当前已学习到了主机E的MAC地址，主机A给E发送ARP请求报文，主机E收到后给主机A发送ARP响应报文。则能收到ARP请求报文和ARP响应报文的主机数量分别（ ）。</li>
</ol>
<img src="https://p.sda1.dev/14/e7d59d65b48c2d192508053976d9ee2d/2_37.png" alt="2_37.png" style="zoom:67%;">
<p>A．5，3</p>
<p>B．5，1</p>
<p>C．3，5</p>
<p>D．1，1</p>
</li>
<li>
<ol start="38">
<li>将IP多播地址226.0.9.26和226.128.9.26转换成以太网的硬件多播地址分别是（ ）。</li>
</ol>
<p>A. 00-00-5E-00-00-00，00-00-5E-7F-FF-FF</p>
<p>B. 01-00-5E-00-09-26，01-00-5E-10-09-26</p>
<p>C. 01-00-5E-00-09-1A，01-00-5E-00-09-1A</p>
<p>D. 00-00-5E-7F-FF-FF, 00-00-5E-00-00-00</p>
</li>
<li>
<ol start="39">
<li>下列有关SDN的叙述中，<strong>正确</strong>的是（ ）。</li>
</ol>
<p>A. SDN是近年来出现的一种新型物理网络</p>
<p>B. SDN等同于OpenFlow</p>
<p>C. SDN将网络的控制层面和数据层面分开</p>
<p>D. OpenFlow交换机就是IP路由器</p>
</li>
<li>
<ol start="40">
<li>下列有关IPv4和IPv6的叙述中，<strong>错误</strong>的是（ ）。</li>
</ol>
<p>A. IPv4数据报首部固定部分长度为20字节，而IPv6数据报的基本首部长度为40字节</p>
<p>B. IPv6支持任播</p>
<p>C. IPv6首部取消了首部校验和字段</p>
<p>D. 与IPv6配套使用的网际层协议有ICMPv6和IGMPv6</p>
</li>
</ul>
<h3 id="二、综合应用题：第41-47-题，共70-分。-2">二、<strong>综合应用题：第41~47 题，共70 分。</strong></h3>
<ul>
<li>
<ol start="47">
<li>（9分）某网络拓扑如下图所示，AS1和AS2分别是两个自治系统，R1~R4都是路由器。本题所需的相关信息（例如网络地址、路由器接口的IP地址，MTU等）已标注在图中。</li>
</ol>
<img src="https://p.sda1.dev/14/e048536e18ac77dd8396e387099467dc/2_47.png" alt="2_47.png" style="zoom:67%;">
<p>请回答以下问题：</p>
<p>（1） 若AS2内部各路由器使用RIP协议进行路由选择且已收敛，网络192.1.1.0/25中的主机A给网络192.1.1.128/25中的主机B发送一个IP数据报，其首部中TTL字段的初始值为128，则当主机B正确接收到该IP数据报时，其首部中的TTL字段的值为多少？若TTL字段的初始值被设置为2，则会出现什么情况？</p>
<p>（2） 请给R2添加一条去往AS1内部各网络的聚合路由条目（而非默认路由）,路由条目的格式为（目的网络 子网掩码 下一跳）。这条聚合路由是否会引入图中AS1内部三个网络以外的其他网络？</p>
<p>（3） AS1与AS2之间可使用的路由选择协议是什么？该路由选择协议使用运输层的哪个协议？</p>
<p>（4） 若R4在给网络192.1.2.192/26转发一个总长度为1580B的IP数据报（首部长度为20B）时进行了分片，且每个分片尽可能大，则最小的分片IP数据报的长度字段和片偏移字段的取值分别是多少？</p>
<p>（5） 若R4的路由表中仅包含有直连网络的路由，当R4收到一个目的地址为192.1.4.16的IP数据报时，会如何处理？</p>
<p>（6） 假设AS1与AS2可以完全互通，AS1中的某台主机通过浏览器访问AS2中的某台Web服务器，采用HTTP/1.1协议的持续的非流水线方式，一次请求-响应时间为RTT，若浏览器所请求的Web页面引用了2个图片，则从浏览器向Web服务器发出的第一个请求报文开始到浏览器收到全部内容为止，需要的RTT数量是多少？</p>
</li>
</ul>
<p>​</p>
<h2 id="2024-年全国硕士研究生入学统一考试模拟题02-答案"><strong>2024 年全国硕士研究生入学统一考试模拟题02</strong> 答案</h2>
<ul>
<li>
<ol start="33">
<li>B</li>
</ol>
<p>实体看得见下层提供的服务，但并不知道实现该服务的具体协议。也就是说，下层的协议对上层的实体是“透明”的。因此，叙述III错误。</p>
<p>对等层次之间传送的数据包称为该层的协议数据单元PDU；同一系统内层与层之间交换的数据包称为服务数据单元SDU。因此，叙述IV错误。</p>
</li>
<li>
<ol start="34">
<li>D</li>
</ol>
<p>CDMA系统给每个站分配的码片序列需要满足以下两个条件：</p>
<p>● 条件1：必须各不相同</p>
<p>● 条件2：必须相互正交，即规格化内积为0</p>
</li>
<li>
<ol start="35">
<li>B</li>
</ol>
<p>使用n个比特给分组编号，GBN协议的发送窗口的尺寸WT的取指范围是：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>&lt;</mo><msub><mi>W</mi><mi>T</mi></msub><mo>≤</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1&lt;W_T\le 2^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6835em;vertical-align:-0.0391em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7477em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。</p>
<p><strong>只有在不出现传输差错的情况下，GBN协议的信道利用率大于停止-等待协议的信道利用率</strong>；若出现传输差错，则GBN协议就需要回退N帧进行重传，信道利用率不一定大于停止-等待协议的信道利用率。因此，叙述IV错误。</p>
</li>
<li>
<ol start="36">
<li>D</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">去往AP</th>
<th style="text-align:center">来自AP</th>
<th style="text-align:center">地址1</th>
<th style="text-align:center">地址2</th>
<th style="text-align:center">地址3</th>
<th style="text-align:center">地址4</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">目的地址</td>
<td style="text-align:center">源地址</td>
<td style="text-align:center">BSSID</td>
<td style="text-align:center">未使用</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">接收地址=目的地址</td>
<td style="text-align:center">发送地址=AP地址</td>
<td style="text-align:center">源地址</td>
<td style="text-align:center">未使用</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">接收地址=AP地址</td>
<td style="text-align:center">发送地址=源地址</td>
<td style="text-align:center">目的地址</td>
<td style="text-align:center">未使用</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">接收地址=AP地址</td>
<td style="text-align:center">发送地址=AP地址</td>
<td style="text-align:center">目的地址</td>
<td style="text-align:center">源地址</td>
</tr>
</tbody>
</table>
</li>
<li>
<ol start="37">
<li>A</li>
</ol>
<img src="https://p.sda1.dev/14/47f1427fcaee0776c5a2ffedc78bc868/2_37_.png" alt="2_37_.png" style="zoom: 67%;">
</li>
<li>
<ol start="38">
<li>C</li>
</ol>
<img src="https://p.sda1.dev/14/e49b20ef0de0421bf63c6b1373547bf8/2_38.png" alt="2_38.png" style="zoom: 67%;">
</li>
<li>
<ol start="39">
<li>C</li>
</ol>
<p>SDN是一种新型网络体系结构，是一种设计、构建和管理网络的<strong>新方法和新概念</strong>，但<strong>不是一种新型物理网络</strong>。因此，选项A的叙述错误。</p>
<p>OpenFlow协议可被看成是在SDN体系结构中<strong>控制层面与数据层面之间的通信接口</strong>。因此，选项B的叙述错误。</p>
<p>SDN的核心思想就是<strong>把网络的控制层面和数据层面分离</strong>，而让控制层面利用软件来控制数据层面中的许多设备。因此，选项C的叙述正确。</p>
<p>在SDN的<strong>广义转发</strong>中，<strong>完成“匹配+动作”的设备并不局限在网络层工作</strong>，因此不再称为路由器，而称为“OpenFlow交换机”或“分组交换机”，或更简单地称为“交换机”。相应的，在SDN中取代传统路由器中转发表的是“流表（Flow Table）”。因此，选项D的叙述错误。</p>
</li>
<li>
<ol start="40">
<li>D</li>
</ol>
<p>与IPv4协议配套使用的网际层协议有：ICMP、IGMP、ARP和RARP。</p>
<p>在IPv6中，ICMPv6包括了IPv4中的ARP和IGMP的功能。邻站询问和邻站通告报文代替了原来的ARP协议，而多播听众发现报文替代了原来的IGMP协议。另外，IPv6取消了RARP协议。因此，与IPv6配套使用的网际层协议只有ICMPv6一个协议，选项D的叙述错误。</p>
</li>
<li>
<ol start="47">
<li></li>
</ol>
<ul>
<li>
<p>(1). 主机B正确收到IP数据报时，其首部中<strong>TTL字段是126</strong>。若TTL初始值设置为2，IP数据报进入R1时，TTL-1变成1，进入R3时，TTL变成0，<strong>R3会丢弃该IP数据报，并向该IP数据报的源主机A发送ICMP差错报告报文，类型为时间超过</strong>。</p>
</li>
<li>
<p>(2). AS1中IP后8位分别为：</p>
<p>​	<strong>0</strong>000 0000</p>
<p>​	<strong>10</strong>00 0000</p>
<p>​	<strong>110</strong>0 0000</p>
<p>路由聚合后为<strong>192.1.2.0/24</strong>。因此R2添加的路由条目为：</p>
<table>
<thead>
<tr>
<th style="text-align:center">目的网络</th>
<th style="text-align:center">子网掩码</th>
<th style="text-align:center">下一跳</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">192.1.2.0/24</td>
<td style="text-align:center">255.255.255.0</td>
<td style="text-align:center">192.1.3.30/30</td>
</tr>
</tbody>
</table>
<p>从网络号可以看出，刚好是前缀划分的方法，因此聚合后没有引入其他网络。</p>
</li>
<li>
<p>(3). AS1和AS2之间可使用的路由协议是BGP，该协议使用的运输层协议是TCP。</p>
</li>
<li>
<p>(4). R4转发后MTU=800B，因此数据部分是8的整数倍，则数据部分为776B，首部20B。总长度1580B的IP数据报应划分为3个分片，第一个总长度为796B，片偏移0；第二个总长度为796B，片偏移为97；第三个长度为28B，片偏移为194。<strong>所以最小的分片IP数据报的长度字段为28，片偏移字段为194。</strong></p>
</li>
</ul>
<img src="https://p.sda1.dev/14/3e1c81743232344cc8defb04baa95434/2_47_4.png" alt="2_47_4.png" style="zoom:67%;">
<ul>
<li>
<p>(5). 该IP数据报所去的目的网络地址不在R4的路由表中，R4不知道应从自己的哪个接口转发该IP数据报，<strong>因此将其丢弃，并且会给发送该IP数据报的源主机发送ICMP差错报告报文，具体为目的网络不可达。</strong></p>
</li>
<li>
<p>(6). <strong>4RTT</strong></p>
<img src="https://p.sda1.dev/14/5be4f36e071810c990fa098307956eb7/2_47_6.png" alt="2_47_6.png" style="zoom: 50%;">
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="2024-年全国硕士研究生入学统一考试模拟题03"><strong>2024 年全国硕士研究生入学统一考试模拟题03</strong></h2>
<h3 id="一、单项选择题：第1-40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。-3">一、<strong>单项选择题：第1</strong>~<strong>40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。</strong></h3>
<ul>
<li>
<ol start="33">
<li>以下有关OSI/RM的叙述中，<strong>错误</strong>的是（  ）。</li>
</ol>
<p>I. 10Base-T中“T”的含义，属于物理层范畴</p>
<p>II. 物理地址、硬件地址以及MAC地址，都属于数据链路层范畴</p>
<p>III. 网络层不涉及拥塞控制功能</p>
<p>IV. 运输层为其上层提供端到端的服务</p>
<p>V. 应用层使用其下层提供的服务，在本层协议的控制下实现网络应用</p>
<p>A．I，III</p>
<p>B．II、V</p>
<p>C．I、II、IV</p>
<p>D．III、IV、V</p>
</li>
<li>
<ol start="34">
<li>假设下图所示的两个不同的编码波形表示的是同一串比特流，则该比特流是（  ）。</li>
</ol>
<img src="https://p.sda1.dev/14/1e142157f5fc68040ace3caf817f5b13/3_34.png" alt="3_34.png" style="zoom: 50%;">
<p>A. 011111100101</p>
<p>B. 111111100101</p>
<p>C. 000000011011</p>
<p>D. 111111100100</p>
</li>
<li>
<ol start="35">
<li>采用CRC进行检错，接收到的信息为101101001，生成多项式为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>X</mi><mn>3</mn></msup><mo>+</mo><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">G(X)=X^3+X^2+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，则以下叙述<strong>错误</strong>的是（  ）。</li>
</ol>
<p>A. 生成多项式各项系数构成的位串为1101</p>
<p>B. 接收到的信息的最后3位，即001为冗余码</p>
<p>C. 接收方认为收到的信息没有出现误码</p>
<p>D. 收发双方应使用相同的生成多项式</p>
</li>
<li>
<ol start="36">
<li>某个按MSS为1540B封装的TCP报文段被封装成IP数据报，假设TCP和IP都使用固定首部（没有选项或扩展部分），某个路由器收到该IP数据报后向MTU为800B的链路转发该IP数据报时进行了分片，且每个分片尽可能大，则最小的分片IP数据报的长度字段和片偏移字段的取值分别是（  ）。</li>
</ol>
<p>A. 28，194</p>
<p>B. 784，97</p>
<p>C. 800，97</p>
<p>D. 800，0</p>
</li>
<li>
<ol start="37">
<li>下图给出的是一个移动IP的相关示例。移动主机A的归属网络地址、外地网络地址、永久地址以及漫游到外地网络后从外地代理获得的一个属于该外地网络的转交地址已标注在图中。假设图中的固定主机B要给处于外地网络的A发送一个IPv4数据报，则该IPv4数据报从B发送出来时的目的IP地址和从配置有归属代理的路由器转发出来时的目的IP地址分别是（  ）。</li>
</ol>
<img src="https://p.sda1.dev/14/435ad86a839862cd01b94403fe7013f7/3_37.png" alt="3_37.png" style="zoom:50%;">
<p>A. 218.75.230.16，175.1.1.1</p>
<p>B. 175.1.1.1，218.75.230.16</p>
<p>C. 218.75.230.16，0.0.0.0</p>
<p>D. 255.255.255.255， 218.75.230.16</p>
</li>
<li>
<ol start="38">
<li>包含在TCP报文段首部中但不包含在UDP用户数据报首部中的字段是（  ）。</li>
</ol>
<p>A. 检验和</p>
<p>B. 源端口</p>
<p>C. 目的端口</p>
<p>D. 序号</p>
</li>
<li>
<ol start="39">
<li>以下关于TCP窗口与拥塞控制概念的叙述中，<strong>错误</strong>的是（  ）。</li>
</ol>
<p>A. 接收窗口值通过TCP首部中的窗口字段通知数据的发送方</p>
<p>B. 发送窗口值=min[接收端窗口值，拥塞窗口值]</p>
<p>C. 拥塞窗口值是接收方根据网络拥塞情况确定的窗口值</p>
<p>D. 拥塞窗口值在开始时可以按指数规律增长</p>
</li>
<li>
<ol start="40">
<li>浏览器请求Web服务器中的某个万维网文档，若该文档除包含文本外，还有2个图片，则在使用HTTP/1.0时，需要建立TCP连接和UDP连接的次数分别是（  ）。</li>
</ol>
<p>A. 3，0</p>
<p>B. 2，1</p>
<p>C. 0，2</p>
<p>D. 1，0</p>
</li>
</ul>
<h3 id="二、综合应用题：第41-47-题，共70-分。-3">二、<strong>综合应用题：第41~47 题，共70 分。</strong></h3>
<ul>
<li>
<ol start="47">
<li>已知路由器R的路由表如下所示。</li>
</ol>
<img src="https://p.sda1.dev/14/e751919c75c761b60135b3738ef8b49f/3_47.png" alt="3_47.png" style="zoom: 60%;">
<p>请回答以下问题：</p>
<p>（1） 试画出各网络、必要的路由器、特定主机的连接拓扑，标注出必要的IP地址和接口，对不能确定的情况请指明。</p>
<p>（2） 请给出路由器R的路由表中地址掩码这一列的点分十进制形式。</p>
<p>（3） 假设DHCP服务器的IP地址为192.168.0.60，网络192.168.0.128/26中的各主机需要从DHCP服务器获取各自的网络参数（例如IP地址和子网掩码等），则需要在路由器R上进行怎样的配置？为什么要进行这样的配置？</p>
<p>（4） 若IP地址为192.168.1.16的主机给IP地址为192.168.2.2的主机发送一个IP数据报，在不产生任何传输错误的情况下，为了使该IP数据报能够到达目的主机，其首部中TTL字段的初始值最少应设置为多少？该IP数据报从源主机发出时，其首部中源IP地址和目的IP地址分别是什么？该IP数据报从路由器R转发出来时，其首部中源IP地址和目的IP地址分别是什么、封装该IP数据报的以太网帧的源MAC地址和目的MAC地址分别是什么？</p>
</li>
</ul>
<h2 id="2024-年全国硕士研究生入学统一考试模拟题03-答案"><strong>2024 年全国硕士研究生入学统一考试模拟题03</strong> 答案</h2>
<ul>
<li>
<ol start="33">
<li>A</li>
</ol>
<p>10Base-T中“T”的含义是双绞线，传输媒体不属于网络体系结构。因此，叙述I错误。</p>
<p>路由器会采用主动丢包策略，这表明网络层参与拥塞控制。因此，叙述III错误。</p>
</li>
<li>
<ol start="34">
<li>B</li>
</ol>
<p>曼彻斯特编码：每个码元的中间时刻电平发生跳变：正跳变表示1还是0，负跳变表示0还是1，可以自行定义。</p>
<p>差分曼彻斯特编码： 码元中间时刻的电平跳变仅表示时钟信号，而不表示数据。 数据的表示在于每一个码元开始处是否有电平跳变：无跳变表示1，有跳变表示0。</p>
</li>
<li>
<ol start="35">
<li>C</li>
</ol>
</li>
<li>
<ol start="36">
<li>A</li>
</ol>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/3_37_.png" style="zoom: 50%;">
</li>
<li>
<ol start="37">
<li>A</li>
</ol>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/3_38_.png" style="zoom:50%;">
</li>
<li>
<ol start="38">
<li>D</li>
</ol>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/3_38.png" style="zoom:50%;">
</li>
<li>
<ol start="39">
<li>C</li>
</ol>
<p>拥塞窗口值是<strong>发送方</strong>根据网络拥塞情况确定的窗口值。</p>
</li>
<li>
<ol start="40">
<li>A</li>
</ol>
<p>HTTP/1.0，HTTP/1.1，HTTP/2.0在运输层使用TCP，而HTTP/3.0在运输层使用UDP。</p>
</li>
<li>
<ol start="47">
<li>
<p>(1).</p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/3_47_1.png" style="zoom:50%;">
</li>
</ol>
</li>
</ul>
<p>​	(2).</p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/3_47_2.jpg" style="zoom: 67%;">
<p>​	(3).</p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/3_47_3.png" style="zoom:50%;">
<p>​	(4).</p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/3_47_4.png" style="zoom: 50%;">
<hr>
<h2 id="2024-年全国硕士研究生入学统一考试模拟题04"><strong>2024 年全国硕士研究生入学统一考试模拟题04</strong></h2>
<h3 id="一、单项选择题：第1-40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。-4">一、<strong>单项选择题：第1</strong>~<strong>40小题，每小题2分，共80分。下列每题给出的四个选项中，只有一个选项最符合试题要求。</strong></h3>
<ul>
<li>
<ol start="33">
<li>OSI参考模型自下而上的第3层完成的主要功能是（ C ）。</li>
</ol>
<p>A．数据表示和转换</p>
<p>B．差错控制</p>
<p>C．路由选择</p>
<p>D．会话管理</p>
</li>
<li>
<ol start="34">
<li>以下有关100Base-T快速以太网的叙述中，<strong>错误</strong>的是（ B ）。</li>
</ol>
<p>A. 网段的最大电缆长度为100m</p>
<p>B. 最大传输速率为100MB/s</p>
<p>C. 传输基带信号</p>
<p>D. 使用双绞线作为传输介质</p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/4_34.png" style="zoom:67%;">
</li>
<li>
<ol start="35">
<li>数据链路层使用GBN协议，采用3个比特给帧编序号，发送方的发送窗口取最大值，不考虑流量控制。假设发送方发送的第一个帧的序号为0，并且将序号落入发送窗口内的所有帧都已经发送出去。当计时器超时时，若发送方只收到了1、3号帧的确认，则发送方需要重发的帧的数量以及发送窗口内的最后一个序号分别是（ C ）。</li>
</ol>
<p>A. 1，2</p>
<p>B. 2，0</p>
<p>C. 3，2</p>
<p>D. 7，0</p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/4_35.png" style="zoom:80%;">
</li>
<li>
<ol start="36">
<li>主机A和B位于总线型以太网的两端，它们使用CSMA/CD协议和截断二进制指数退避算法进行重传。假设该网络中仅有这两台主机，则第11次重传失败的概率是（ C ）。</li>
</ol>
<p>A. 0</p>
<p>B. <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>0.25</mn><msup><mo stretchy="false">)</mo><mn>11</mn></msup></mrow><annotation encoding="application/x-tex">(0.25)^{11}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0.25</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>C.$ (0.5)^{10}$</p>
<p>D. 1</p>
</li>
<li>
<ol start="37">
<li>若网络层要发送长度为21B的数据，将其封装成IP数据报时采用固定首部（没有选项部分），封装好的IP数据报通过以太网传输，则数据链路层将其封装成帧时，需要在帧的数据载荷部分额外填充的字节数量是（ B ）。</li>
</ol>
<p>A. 0</p>
<p>B. 5</p>
<p>C. 23</p>
<p>D. 1459</p>
</li>
<li>
<ol start="38">
<li>某路由器的路由表中有四项路由条目，各路由条目中的目的网络如下。</li>
</ol>
<p>路由条目1：目的网络地址为11.0.0.0/8</p>
<p>路由条目2：目的网络地址为11.1.0.0/16</p>
<p>路由条目3：目的网络地址为11.1.2.0/24</p>
<p>路由条目4：目的网络地址为0.0.0.0/0</p>
<p>若该路由器收到一个IP数据报，其目的地址为11.1.2.5，则转发该IP数据报时应当选择的路由条目是（ C ）。</p>
<p>A. 路由条目1</p>
<p>B. 路由条目2</p>
<p>C. 路由条目3</p>
<p>D. 路由条目4</p>
</li>
<li>
<ol start="39">
<li>TCP双方基于长度为2000m的链路传送数据，信号在该链路上的传播速率为200,000km/s，该链路的时延带宽积为1000b，如果充分利用链路的带宽且不考虑流量控制，则TCP出现序号绕回的周期约为（ B ）。</li>
</ol>
<p>A. 42.9s</p>
<p>B. 343.6s</p>
<p>C. 687.2s</p>
<p>D. 996.4s</p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/4_39.png" style="zoom:80%;">
</li>
<li>
<ol start="40">
<li>某主机通过已知URL获取Web服务器中的某个Web页，若一开始主机不知道Web服务器的IP地址并且主机的ARP高速缓存是空的，则除HTTP外，主机需要使用的应用层协议和运输层协议有（ C ）。</li>
</ol>
<p>I. FTP</p>
<p>II. DNS</p>
<p>III. UDP</p>
<p>IV. TCP</p>
<p>V. ICMP</p>
<p>VI. ARP</p>
<p>A. I、IV</p>
<p>B. II、IV、VI</p>
<p>C. II、III、IV</p>
<p>D. II、IV、V、VI</p>
</li>
</ul>
<h3 id="二、综合应用题：第41-47-题，共70-分。-4">二、<strong>综合应用题：第41~47 题，共70 分。</strong></h3>
<ul>
<li>
<ol start="47">
<li>假设用户在自己的主机上使用浏览器访问远程服务器上的某个Web页面，该Web页面非常简单，仅引用了同目录下的3个非常小的GIF图像，若忽略Web页面和这些GIF图像的传输时延，用户主机访问远程服务器的往返时间记为RTT，请回答以下问题。</li>
</ol>
<ol>
<li>若使用HTTP/1.0标准协议且不考虑“TCP四报文挥手”过程，则从浏览器向Web服务器发出第一个请求报文开始到浏览器收到全部内容为止，需要的RTT数量至少是？</li>
<li>若使用HTTP/1.1协议以持续的非流水线方式，则从浏览器<strong>向Web服务器发出Web请求</strong>开始到浏览器收到全部内容为止，需要的RTT数量至少是？</li>
<li>若使用HTTP/1.1标准协议，则从浏览器向Web服务器发出HTTP请求报文开始到浏览器收到全部内容为止，需要的RTT数量<strong>至少</strong>是？</li>
<li>若根据Web页面引用对象的数量采用并行TCP连接的非持续HTTP，则从浏览器向Web服务器发出第一个请求报文开始到浏览器收到全部内容为止，需要的RTT数量至少是？</li>
</ol>
<p><strong>HTTP/1.0标准协议不支持持续连接和流水线。</strong></p>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/4_47.png" style="zoom:80%;">
</li>
</ul>
<ol>
<li>8</li>
<li></li>
</ol>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/4_47_2.png" style="zoom: 50%;">
<ol start="3">
<li></li>
</ol>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/4_37_4.png" style="zoom:50%;">
<ol start="4">
<li></li>
</ol>
<img src="/2023/12/01/%E8%AE%A1%E7%BD%91%E6%A8%A1%E6%8B%9F%E9%A2%98/4_47_4.png" style="zoom:50%;">
]]></content>
      <categories>
        <category>研究生入学考试</category>
        <category>计算机网络</category>
      </categories>
      <tags>
        <tag>计网</tag>
      </tags>
  </entry>
  <entry>
    <title>计网每日一题</title>
    <url>/2023/09/15/%E8%AE%A1%E7%BD%91%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/</url>
    <content><![CDATA[<h2 id="day1-9月6日">day1 9月6日</h2>
<img src="https://p.sda1.dev/13/3826706c5f7f985eb5ed6a510916b81e/day1解析.png" style="zoom:67%;">
<img src="https://p.sda1.dev/13/ae27e446c4f39bcc62f7ce4bc0515d17/day1.png" style="zoom: 67%;">
<h2 id="day2-9月7日">day2 9月7日</h2>
<img src="https://p.sda1.dev/13/e0f3b1cb6ef45301b3415298ebc46abc/day2.png" style="zoom: 67%;">
<img src="https://p.sda1.dev/13/26e84f1f12abcbea3879bb6719bd4969/day2解析.png" style="zoom:67%;">
<h2 id="day3-9月8日">day3 9月8日</h2>
<img src="https://p.sda1.dev/13/13944e69af8e0ac63e42572e0552ce31/day3.png" style="zoom:67%;">
<img src="https://p.sda1.dev/13/bc78ef73a3c4ac8251d527a1ef68962c/day3解析.png" style="zoom:67%;">
<h2 id="day4-9月9日">day4 9月9日</h2>
<img src="https://p.sda1.dev/13/245deb9873831f2a4f0a585d2d3316cb/day4.png" style="zoom: 67%;">
<img src="https://p.sda1.dev/13/439db40d097118747c5c994e60f8d8b4/day4解析.png" style="zoom:67%;">
<h2 id="day5-9月10日">day5 9月10日</h2>
<img src="https://p.sda1.dev/13/b39ba3bc619ca86392120e5d8530f2ee/day5解析.png" style="zoom:80%;">
<h2 id="day6-9月11日">day6 9月11日</h2>
<img src="https://p.sda1.dev/13/fd343bd932885d77cd993dda5a7fae04/day6.png" style="zoom:80%;">
<h2 id="day7-9月12日">day7 9月12日</h2>
<img src="https://p.sda1.dev/13/c8b596cb4b5ba8c2122cb78265866996/day7.png" style="zoom:80%;">
<h2 id="day8-9月13日">day8 9月13日</h2>
<img src="https://p.sda1.dev/13/efe3abf321337481d3abef8abf8e0fd9/da8.png" style="zoom:80%;">
<p>TTL字段经过一个路由器减一</p>
<h2 id="day9-9月14日">day9 9月14日</h2>
<img src="https://p.sda1.dev/13/567ed9cb6a590e40cc43471f53447edc/day9.png" style="zoom:80%;">
<img src="https://p.sda1.dev/13/d84e243dbd5cf4b1f4db5b736e75cc89/day9解析.png" style="zoom:80%;">
<h2 id="day10-9月15日">day10 9月15日</h2>
<img src="https://p.sda1.dev/13/85c4ee948fc325f8ad2270269c5971ce/day10.png" style="zoom:80%;">
<h2 id="day11-9月16日">day11 9月16日</h2>
<img src="https://p.sda1.dev/13/9d9cb429e857ca239214ee84e77b5541/day11.png" style="zoom:80%;">
<h2 id="day12-9月17日">day12 9月17日</h2>
<img src="https://p.sda1.dev/13/e3257293467c30c53fd480ed2d3aed53/day12.png" alt="d" style="zoom:80%;">
<img src="https://p.sda1.dev/13/bb5efd370a561e13a608ef8d890d41f6/day12j.png" style="zoom:80%;">
<h2 id="day13-9月18日">day13 9月18日</h2>
<img src="https://p.sda1.dev/13/e5cd6c8478656bd931331795623fe818/day13.png" style="zoom:80%;">
<img src="https://p.sda1.dev/13/d6fb806688c8268d94ef493babfca777/day13j.png" style="zoom:80%;">
<h2 id="day14-9月19日">day14 9月19日</h2>
<img src="https://p.sda1.dev/13/2659f9e56b2fd8147367d5e219f20148/919.png" style="zoom:80%;">
<h2 id="day15-9月20日">day15 9月20日</h2>
<img src="https://p.sda1.dev/13/bcb0657cbb838d7d5631721590f2861e/920.png" style="zoom:80%;">
<img src="https://p.sda1.dev/13/530c7f2761d190777c5beaeb9931a00f/9201.png" style="zoom:80%;">
<h2 id="day16-9月21日">day16 9月21日</h2>
<img src="https://p.sda1.dev/14/217025d6633b49c8b1f0d9bbad5c2a47/16.jpg" style="zoom:80%;">
<h2 id="day17-9月22日">day17 9月22日</h2>
<img src="https://p.sda1.dev/14/5f236e1bab95a73c7dab28fc2f76d38d/17.jpg" style="zoom:80%;">
<h2 id="day18-9月23日">day18 9月23日</h2>
<img src="https://p.sda1.dev/14/fbaab7001a2e3136b971b2f92fc8a113/18.jpg" style="zoom:80%;">
<h2 id="day19-9月24日">day19 9月24日</h2>
<img src="https://p.sda1.dev/14/357e5daa5ef7b1209eccd2c751c0b5d4/19.jpg" style="zoom:80%;">
<h2 id="day20-9月25日">day20 9月25日</h2>
<img src="https://p.sda1.dev/14/765944aaa2126007a6f3c373a344d9e6/20.jpg" style="zoom:80%;">
<h2 id="day21-9月26日">day21 9月26日</h2>
<img src="https://p.sda1.dev/14/491d9610790c10ccd8c6d7fd082f0e58/21.jpg" style="zoom:80%;">
<h2 id="day22-9月27日">day22 9月27日</h2>
<img src="https://p.sda1.dev/14/3fa33aa6907222e389cb8d0675a41ed5/22.jpg" style="zoom:80%;">
<h2 id="day23-10月4日">day23 10月4日</h2>
<img src="https://p.sda1.dev/14/142106b27b0ea40a68f2eb9106a204e6/23.jpg" style="zoom:50%;">
<img src="https://p.sda1.dev/14/8bfc27dd1dad0053ef61ec6023104bfa/22_.jpg" style="zoom: 80%;">
<h2 id="day24-10月5日">day24 10月5日</h2>
<img src="https://p.sda1.dev/14/87af403f127657a2874a99786f9c7170/24.jpg" style="zoom:80%;">
<h2 id="day25-10月6日">day25 10月6日</h2>
<img src="https://p.sda1.dev/14/7d554fdf639df33d83ed8fda0fcbe81d/25.jpg" style="zoom:80%;">
<h2 id="day26-10月7日">day26 10月7日</h2>
<img src="https://p.sda1.dev/14/07c816c53d93d70f6ce0a66f81e7f998/26.jpg" style="zoom:67%;">
<p>IP地址的后23位与mac地址进行映射</p>
<h2 id="day27-10月8日">day27 10月8日</h2>
<img src="https://p.sda1.dev/14/1d21893a493c5712eefc02099887cf00/27.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/073cf5a5452688abb987f29fad6a91d9/27_.jpg" style="zoom:67%;">
<h2 id="day28-10月9日">day28 10月9日</h2>
<img src="https://p.sda1.dev/14/6262dd16ce739522ba81220492abf41b/28.jpg" style="zoom:80%;">
<h2 id="day29-10月10日">day29 10月10日</h2>
<img src="https://p.sda1.dev/14/e8aadbd1df089e9cde37fda08dfa0fdc/29.jpg" alt="29.jpg" style="zoom:67%;">
<p><img src="https://p.sda1.dev/14/cf800dfa0480c30ef23cc38435569b17/29_.jpg" alt></p>
<h2 id="day30-10月11日">day30 10月11日</h2>
<img src="https://p.sda1.dev/14/ee93c3965b4705f0a4b10bd6aa762bbf/30.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/49f1dc5411da92fe4eb44e683388a25a/30_.jpg" style="zoom:67%;">
<h2 id="day31-10月12日">day31 10月12日</h2>
<img src="https://p.sda1.dev/14/55a3dcd1689747589b1fd1c2a0a38c56/31.jpg" style="zoom:80%;">
<h2 id="day32-10月13日">day32 10月13日</h2>
<img src="https://p.sda1.dev/14/11c9f3d7e441725f09925dcde57a2a1e/32.jpg" alt="32.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/e50674b499bd486686fe9523c00a8fa2/32_.jpg" alt="32_.jpg" style="zoom:67%;">
<h2 id="day33-10月14日">day33 10月14日</h2>
<img src="https://p.sda1.dev/14/1862a5b5ff535dc6ddaa97bba92be4c3/33.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/587cf00f90fc3ea0ce87ef94471c855c/33_.jpg" style="zoom:67%;">
<h2 id="day34-10月15日">day34 10月15日</h2>
<img src="https://p.sda1.dev/14/458913835e5b433084b2fa2ba0f606de/34.jpg" alt="34.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/2e00d8c33c8341f882baa69a1999787a/34_.jpg" alt="34_.jpg" style="zoom:67%;">
<h2 id="day35-10月16日">day35 10月16日</h2>
<img src="https://p.sda1.dev/14/3e91dfdf5a1ca7ef795d30ffaa03f70d/35.jpg" alt="35.jpg" style="zoom:80%;">
<h2 id="day36-10月17日">day36 10月17日</h2>
<img src="https://p.sda1.dev/14/6fc22882b30b8e57c3df88c70e8cd0d8/36.jpg" alt="36.jpg" style="zoom:80%;">
<h2 id="day37-10月18日">day37 10月18日</h2>
<img src="https://p.sda1.dev/14/274c423406a2daa981b34ff87b8248d2/37.jpg" alt="37.jpg" style="zoom:80%;">
<h2 id="day38-10月19日">day38 10月19日</h2>
<img src="https://p.sda1.dev/14/7f3189db95699d2db85b60085624c7ad/38.jpg" alt="38.jpg" style="zoom:80%;">
<h2 id="day39-10月20日">day39 10月20日</h2>
<img src="https://p.sda1.dev/14/7ace162519cb145633cba9605ba0f6d4/39.jpg" alt="39.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/22a37e27601f26a5bd80534330379ec6/39_.jpg" alt="39_.jpg" style="zoom:67%;">
<p><strong>第二段是带数据的报文段，但不叫数据报文段，所以必须从实际第三段算起。</strong></p>
<h2 id="day40-10月21日">day40 10月21日</h2>
<img src="https://p.sda1.dev/14/3aa110932043c6f8881d45f210a08093/40.jpg" alt="40.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/565c7d8411531209d4ce743fe95dbaba/40_.jpg" alt="40_.jpg" style="zoom:67%;">
<h2 id="day41-10月22日">day41 10月22日</h2>
<img src="https://p.sda1.dev/14/c7a05b69ebc85459cfb73ce637019e78/41.jpg" alt="41.jpg" style="zoom:80%;">
<h2 id="day42-10月23日">day42 10月23日</h2>
<img src="https://p.sda1.dev/14/0d812311329d4f2df53120f10ebf2beb/42.jpg" alt="42.jpg" style="zoom:80%;">
<h2 id="day43-10月24日">day43 10月24日</h2>
<img src="https://p.sda1.dev/14/859bdbe767feed4010d31aa952bade1c/43.jpg" alt="43.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/777a757228b13522b114491578433220/43_.jpg" alt="43_.jpg" style="zoom:67%;">
<h2 id="day44-10月25日">day44 10月25日</h2>
<img src="https://p.sda1.dev/14/4556237393eb499ff25a9863c7440d4b/44.jpg" alt="44.jpg" style="zoom:80%;">
<img src="https://p.sda1.dev/14/aab69db8120a69b6100947301cf16254/44_.jpg" alt="44_.jpg" style="zoom:80%;">
<h2 id="day45-10月26日">day45 10月26日</h2>
<img src="https://p.sda1.dev/14/9fedbeb6e0d5dc1241ece81d6191548b/45.jpg" alt="45.jpg" style="zoom:80%;">
<h2 id="day46-10月27日">day46 10月27日</h2>
<img src="https://p.sda1.dev/14/5ea5d1188d3123ef7e9f510b3ea0f87f/46.jpg" alt="46.jpg" style="zoom:80%;">
<h2 id="day47-10月28日">day47 10月28日</h2>
<img src="https://p.sda1.dev/14/8b784202f47c7433fe3cf48730ffcb31/47.jpg" alt="47.jpg" style="zoom:80%;">
<img src="https://p.sda1.dev/14/70d9e71b255938bab8b7c24eb9f3b3e8/47_.jpg" alt="47_.jpg" style="zoom:80%;">
<h2 id="day48-10月29日">day48 10月29日</h2>
<img src="https://p.sda1.dev/14/677d591e81e6562f1c739e26c1cf6ca7/48.jpg" alt="48.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/f6a63cd252d2f82213c870cc59617b41/48_.jpg" alt="48_.jpg" style="zoom:67%;">
<h2 id="day49-10月30日">day49 10月30日</h2>
<img src="https://p.sda1.dev/14/3a0c7620fc215e4057cada613b27ffc5/49.jpg" alt="49.jpg" style="zoom:80%;">
<h2 id="day50-10月31日">day50 10月31日</h2>
<img src="https://p.sda1.dev/14/862ecb947b9f8565f78537e889d6bc18/50.jpg" alt="50.jpg" style="zoom:80%;">
<h2 id="day51-11月1日">day51 11月1日</h2>
<img src="https://p.sda1.dev/14/584d33a8c0efe6f6cb4820db63b2425e/51.jpg" alt="51.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/aad26e927ee04890a03d0d624e374778/51_.jpg" alt="51_.jpg" style="zoom:67%;">
<h2 id="day52-11月2日">day52 11月2日</h2>
<img src="https://p.sda1.dev/14/b431628ddc3d1fc8d7096c669260779b/52.jpg" alt="52.jpg" style="zoom:67%;">
<h2 id="day53-11月10日">day53 11月10日</h2>
<img src="https://p.sda1.dev/14/b2a891f970eb84d81348bdf9afe688ec/53.jpg" alt="53.jpg" style="zoom: 80%;">
<img src="https://p.sda1.dev/14/650a06cefaaadb531827f1a945193c12/53_.jpg" alt="53_.jpg" style="zoom: 80%;">
<h2 id="day54-11月11日">day54 11月11日</h2>
<img src="https://p.sda1.dev/14/1e7550c607b29888545d2107690389e1/54.jpg" alt="54.jpg" style="zoom:80%;">
<h2 id="day55-11月12日">day55 11月12日</h2>
<img src="https://p.sda1.dev/14/87826d73a831c73c757ea73c2c189ff9/55_.jpg" alt="55_.jpg" style="zoom:80%;">
<h2 id="day56-11月13日">day56 11月13日</h2>
<img src="https://p.sda1.dev/14/07149ab2870b7aafb62cbe5e79db018e/56.jpg" alt="56.jpg" style="zoom:80%;">
<h2 id="day57-11月14日">day57 11月14日</h2>
<img src="https://p.sda1.dev/14/4e78a8f3db14ef6c30bdb959741f3376/57.jpg" alt="57.jpg" style="zoom:80%;">
<h2 id="day58-11月15日">day58 11月15日</h2>
<img src="https://p.sda1.dev/14/fb1cbdf9bb9fbafac2bd788f77601367/58.jpg" alt="58.jpg" style="zoom:80%;">
<h2 id="day59-11月16日">day59 11月16日</h2>
<img src="https://p.sda1.dev/14/c733d55cea2cf91d2899dace34674f00/59.jpg" alt="59.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/e4015576d7573be9c591f57abb376bfd/59_.jpg" alt="59_.jpg" style="zoom:67%;">
<h2 id="day60-11月17日">day60 11月17日</h2>
<img src="https://p.sda1.dev/14/70cdedfd3c93f9ba595c52c7d847a44a/60.jpg" alt="60.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/fb0b6a80eba884cf89bd89c802ee1b29/60_.jpg" alt="60_.jpg" style="zoom:67%;">
<h2 id="day61-11月18日">day61 11月18日</h2>
<img src="https://p.sda1.dev/14/8310d54fb590c656f60233ec73804254/61.jpg" alt="61.jpg" style="zoom:80%;">
<img src="https://p.sda1.dev/14/01770f372f3d24494e159b7a956b6b02/61_.jpg" alt="61_.jpg" style="zoom:80%;">
<h2 id="day62-11月19日">day62 11月19日</h2>
<img src="https://p.sda1.dev/14/50a413d62f5e99299d060be6f5c0d04a/62.jpg" alt="62.jpg" style="zoom:80%;">
<h2 id="day63-11月20日">day63 11月20日</h2>
<img src="https://p.sda1.dev/14/687ab8528c889563b09c6deab31399f9/63.jpg" alt="63.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/2998adb431d10f06ef0f441c969ca0a3/63_.jpg" alt="63_.jpg" style="zoom:67%;">
<h2 id="day64-11月21日">day64 11月21日</h2>
<img src="https://p.sda1.dev/14/b6ebeb3f8eed1f07df7f7107e6131d86/64.jpg" alt="64.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/a9a1a1f659139617d2009b4533a11606/64_.jpg" alt="64_.jpg" style="zoom:67%;">
<h2 id="day65-11月22日">day65 11月22日</h2>
<img src="https://p.sda1.dev/14/ed86c0234fef7f41cfac0cbdcf7f2c17/65.jpg" alt="65.jpg" style="zoom:80%;">
<h2 id="day66-11月23日">day66 11月23日</h2>
<img src="https://p.sda1.dev/14/e1e9415020eba265e4ff6f38dc80419a/66.jpg" alt="66.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/32deef7527ed159313f77ca3d893b94f/65_.jpg" alt="65_.jpg" style="zoom:67%;">
<h2 id="day67-11月24日">day67 11月24日</h2>
<img src="https://p.sda1.dev/14/b3f100fc05f11d85aced0974ad63d7d2/67.jpg" alt="67.jpg" style="zoom:80%;">
<h2 id="day68-11月25日">day68 11月25日</h2>
<img src="https://p.sda1.dev/14/1788afff6071f1a36594fe5205baaf91/68.jpg" alt="68.jpg" style="zoom:80%;">
<h2 id="day69-11月26日">day69 11月26日</h2>
<img src="https://p.sda1.dev/14/8d7f2054913383661703c82a5d622218/69.jpg" alt="69.jpg" style="zoom:80%;">
<h2 id="day70-11月27日">day70 11月27日</h2>
<img src="https://p.sda1.dev/14/33d924bbed9ea03024a06393e00f4444/70.jpg" alt="70.jpg" style="zoom:80%;">
<h2 id="day71-11月28日">day71 11月28日</h2>
<img src="https://p.sda1.dev/14/7428a417684ac2c0493fb5351c558a9e/71.jpg" alt="71.jpg" style="zoom:67%;">
<img src="https://p.sda1.dev/14/ef67e821bd2175c1528897e5fb3a9dd5/71_.jpg" alt="71_.jpg" style="zoom:67%;">
<h2 id="day72-11月29日">day72 11月29日</h2>
<img src="https://p.sda1.dev/14/6756dd0406633d59d806dab2e7e63b67/72.jpg" alt="72.jpg" style="zoom:80%;">
<h2 id="day73-11月30日">day73 11月30日</h2>
<img src="https://p.sda1.dev/14/eb93cbaa09435df8b0010132069ff5b2/73.jpg" alt="73.jpg" style="zoom:80%;">
]]></content>
      <categories>
        <category>研究生入学考试</category>
        <category>计算机网络</category>
      </categories>
      <tags>
        <tag>计网</tag>
      </tags>
  </entry>
  <entry>
    <title>408真题</title>
    <url>/2023/11/27/408%E7%9C%9F%E9%A2%98/</url>
    <content><![CDATA[<h2 id="边角知识">边角知识</h2>
<h3 id="海明码">海明码</h3>
<p>原理先不深究了，先记住校验位的计算，以及如何校验</p>
<h4 id="校验位确认">校验位确认</h4>
<p>校验位的个数k要满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup><mo>−</mo><mn>1</mn><mo>≥</mo><mi>n</mi><mo>+</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">2^k-1 \ge n + k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9324em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>，即k个二进制位要能够表示数据位加校验位错误位的情况以及没有错的情况。</p>
<p>假如原数据从低到高为1010 110，则校验位需要4位，记为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>p</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>p</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">p_0,p_1,p_2,p_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，对应放在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>i</mi></msup></mrow><annotation encoding="application/x-tex">2^i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8247em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>处，即</p>
<table>
<thead>
<tr>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
<th style="text-align:center">4</th>
<th style="text-align:center">5</th>
<th style="text-align:center">6</th>
<th style="text-align:center">7</th>
<th style="text-align:center">8</th>
<th style="text-align:center">9</th>
<th style="text-align:center">10</th>
<th style="text-align:center">11</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">p_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">D_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">p_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">D_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">D_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">D_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">p_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">D_5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>6</mn></msub></mrow><annotation encoding="application/x-tex">D_6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mn>7</mn></msub></mrow><annotation encoding="application/x-tex">D_7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
</tr>
<tr>
<td style="text-align:center">待求</td>
<td style="text-align:center">待求</td>
<td style="text-align:center">1</td>
<td style="text-align:center">待求</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">待求</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p>求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">p_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的方法是将位置二进制表示下<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>位为1的所有数异或结果为0，例如求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，就是将所有二进制下2位为1的数据异或使其为0，就能得到所求的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p>
<table>
<thead>
<tr>
<th style="text-align:center">0001</th>
<th style="text-align:center">0010</th>
<th style="text-align:center">0011</th>
<th style="text-align:center">0100</th>
<th style="text-align:center">0101</th>
<th style="text-align:center">0110</th>
<th style="text-align:center">0111</th>
<th style="text-align:center">1000</th>
<th style="text-align:center">1001</th>
<th style="text-align:center">1010</th>
<th style="text-align:center">1011</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">p_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">p_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">1</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">p_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">p_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>⨁</mo><mn>1</mn><mo>⨁</mo><mn>1</mn><mo>⨁</mo><mn>0</mn><mo>⨁</mo><mn>1</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">p_1 \bigoplus 1 \bigoplus 1 \bigoplus 0 \bigoplus1=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">p_1=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，同理可得<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>p</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn><mo separator="true">,</mo><msub><mi>p</mi><mn>3</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">p_0=0, p_2=1, p_3=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>。</p>
<h4 id="检错">检错</h4>
<p>检错时根据构造好的数据，同样在位置二进制表示下进行计算，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">s_i,\ i=0, 1, 2,3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span></span></span></span>分别用二进制下第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>位为1的数异或得到。例如下边的数据</p>
<table>
<thead>
<tr>
<th style="text-align:center">0001</th>
<th style="text-align:center">0010</th>
<th style="text-align:center">0011</th>
<th style="text-align:center">0100</th>
<th style="text-align:center">0101</th>
<th style="text-align:center">0110</th>
<th style="text-align:center">0111</th>
<th style="text-align:center">1000</th>
<th style="text-align:center">1001</th>
<th style="text-align:center">1010</th>
<th style="text-align:center">1011</th>
<th style="text-align:center">1100</th>
<th style="text-align:center">1101</th>
<th style="text-align:center">1110</th>
<th style="text-align:center">1111</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center">8</td>
<td style="text-align:center">9</td>
<td style="text-align:center">10</td>
<td style="text-align:center">11</td>
<td style="text-align:center">12</td>
<td style="text-align:center">13</td>
<td style="text-align:center">14</td>
<td style="text-align:center">15</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mn>0</mn></msub><mo>=</mo><mn>1</mn><mo>⨁</mo><mn>0</mn><mo>⨁</mo><mn>1</mn><mo>⨁</mo><mn>1</mn><mo>⨁</mo><mn>1</mn><mo>⨁</mo><mn>1</mn><mo>⨁</mo><mn>1</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">s_0=1\bigoplus 0 \bigoplus 1 \bigoplus 1 \bigoplus 1 \bigoplus 1 \bigoplus 1 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol small-op" style="position:relative;top:0em;">⨁</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mn>1</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">s_1 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mn>2</mn></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">s_2 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mn>3</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">s_3=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
<p>因此，错误位为1000B， 即第8位。</p>
<h2 id="数据结构部分">数据结构部分</h2>
<h3 id="2009年">2009年</h3>
<ul>
<li>
<ol start="41">
<li>该方法不能求得最短路径。</li>
</ol>
<p>设初始顶点为1,目标顶点为4,欲求从顶点1到顶点4之间的最短路径，显然 这两点之间的最短路径长度为2。利用给定方法求得的路径长度为3,但这条路径并不是这 两点之间的最短路径。</p>
<img src="https://p.sda1.dev/14/52025298fed74a362eef79a5fe8f8e46/1.png" alt="1.png" style="zoom:80%;">
</li>
<li>
<ol start="42">
<li></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">LNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">LNode</span> *link;</span><br><span class="line">&#125; *LinkList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find_k</span><span class="params">(LinkList list, <span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LinkList p, q;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    p = q = list-&gt;link;</span><br><span class="line">    <span class="keyword">while</span>(p != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(cnt &lt; k) cnt++;</span><br><span class="line">        <span class="keyword">else</span> q = q-&gt;link;</span><br><span class="line">        p = p-&gt;link;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt &lt; k) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// 链表长度小于k, 查找失败</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; q-&gt;data &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// 查找成功</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2010年">2010年</h3>
<ul>
<li>
<ol start="41">
<li>(1). 装填因子为0.7，则散列表长度为10，所构造散列表为</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">0</th>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
<th style="text-align:center">4</th>
<th style="text-align:center">5</th>
<th style="text-align:center">6</th>
<th style="text-align:center">7</th>
<th style="text-align:center">8</th>
<th style="text-align:center">9</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">14</td>
<td style="text-align:center"></td>
<td style="text-align:center">8</td>
<td style="text-align:center"></td>
<td style="text-align:center">11</td>
<td style="text-align:center">30</td>
<td style="text-align:center">18</td>
<td style="text-align:center">9</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>(2). 查找成功的平均查找长度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>3</mn><mo>+</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>12</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}\times (1 + 2 + 1 + 1 + 1 + 3 + 3) = \frac{12}{7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">7</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">7</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p>
<p>查找失败的平均查找长度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac><mo stretchy="false">(</mo><mn>3</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>5</mn><mo>+</mo><mn>4</mn><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>18</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}(3+2+1+2+1+5+4)=\frac{18}{7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">7</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">7</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">18</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。</p>
</li>
<li>
<ol start="42">
<li></li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(<span class="type">int</span> l, <span class="type">int</span> r, <span class="type">int</span> a[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = l, j = r;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = a[i];</span><br><span class="line">        a[i] = a[j];</span><br><span class="line">        a[j] = t;</span><br><span class="line">        i++, j--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">leftShift</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n, <span class="type">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">reverse</span>(<span class="number">0</span>, n<span class="number">-1</span>, a);</span><br><span class="line">    <span class="built_in">reverse</span>(<span class="number">0</span>, n-p<span class="number">-1</span>, a);</span><br><span class="line">    <span class="built_in">reverse</span>(n-p, n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2011年">2011年</h3>
<ul>
<li>
<ol start="42">
<li></li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 遍历两个数组，记录遍历元素的个数，到中间时处理边界，求中位数 O(n)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> n = nums1.<span class="built_in">size</span>(), m = nums2.<span class="built_in">size</span>();</span><br><span class="line">        <span class="type">int</span> k = (n + m) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">return</span> m % <span class="number">2</span> ? nums2[k] : (nums2[k<span class="number">-1</span>] + nums2[k]) / <span class="number">2.0</span>;</span><br><span class="line">        <span class="keyword">if</span>(m == <span class="number">0</span>) <span class="keyword">return</span> n % <span class="number">2</span> ? nums1[k] : (nums1[k<span class="number">-1</span>] + nums1[k]) / <span class="number">2.0</span>;</span><br><span class="line">        <span class="type">double</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> l = <span class="number">0</span>; l &lt; k - <span class="number">1</span>; l++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i &lt; n &amp;&amp; j &lt; m &amp;&amp; nums1[i] &lt;= nums2[j]) i++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &lt; n &amp;&amp; j &lt; m &amp;&amp; nums1[i] &gt; nums2[j]) j++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &lt; n) i++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(j &lt; m) j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((n + m) % <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i &lt; n &amp;&amp; j &lt; m &amp;&amp; nums1[i] &lt;= nums2[j]) i++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &lt; n &amp;&amp; j &lt; m &amp;&amp; nums1[i] &gt; nums2[j]) j++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &lt; n) i++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(j &lt; m) j++;</span><br><span class="line">            <span class="keyword">if</span>(i &lt; n &amp;&amp; j &lt; m) res = <span class="built_in">min</span>(nums1[i], nums2[j]);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &lt; n) res = nums1[i];</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(j &lt; m) res = nums2[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; j &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">if</span>(i == n<span class="number">-1</span> || j == m<span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i &lt; n - <span class="number">1</span>) res = <span class="built_in">min</span>(nums1[i] + nums1[i+<span class="number">1</span>], nums1[i] + nums2[j]) / <span class="number">2.0</span>;</span><br><span class="line">                <span class="keyword">if</span>(j &lt; m - <span class="number">1</span>) res = <span class="built_in">min</span>(nums2[j] + nums2[j+<span class="number">1</span>], nums1[i] + nums2[j]) / <span class="number">2.0</span>;</span><br><span class="line">                res = res == <span class="number">0</span> ? (nums1[i] + nums2[j]) / <span class="number">2.0</span> : res;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(i &gt;= n || j &gt;= m)</span><br><span class="line">            &#123;</span><br><span class="line">                res = i &gt;= n ? (nums2[j] + nums2[j+<span class="number">1</span>]) / <span class="number">2.0</span> : (nums1[i] + nums1[i+<span class="number">1</span>]) / <span class="number">2.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                res = <span class="built_in">min</span>(<span class="built_in">min</span>(nums1[i] + nums1[i+<span class="number">1</span>], nums2[j] + nums2[j+<span class="number">1</span>]), nums1[i] + nums2[j]) / <span class="number">2.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// O(logn)的做法，应该想不出来，放弃了</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, <span class="type">int</span> i, vector&lt;<span class="type">int</span>&gt;&amp; nums2, <span class="type">int</span> j, <span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums1.<span class="built_in">size</span>() - i &gt; nums2.<span class="built_in">size</span>() - j) <span class="keyword">return</span> <span class="built_in">find</span>(nums2, j, nums1, i, k);</span><br><span class="line">        <span class="keyword">if</span>(nums1.<span class="built_in">size</span>() == i) <span class="keyword">return</span> nums2[j+k<span class="number">-1</span>];</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">min</span>(nums1[i], nums2[j]);</span><br><span class="line">        <span class="type">int</span> si = <span class="built_in">min</span>(i + k / <span class="number">2</span>, (<span class="type">int</span>)nums1.<span class="built_in">size</span>()), sj = j + k - k / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums1[si<span class="number">-1</span>] &gt; nums2[sj<span class="number">-1</span>]) <span class="keyword">return</span> <span class="built_in">find</span>(nums1, i, nums2, sj, k - (sj - j));</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">find</span>(nums1, si, nums2, j, k - (si - i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums1, vector&lt;<span class="type">int</span>&gt;&amp; nums2)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> total = nums1.<span class="built_in">size</span>() + nums2.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(total % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> left = <span class="built_in">find</span>(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, total / <span class="number">2</span>);</span><br><span class="line">            <span class="type">int</span> right = <span class="built_in">find</span>(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, total / <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> (left + right) / <span class="number">2.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> res = <span class="built_in">find</span>(nums1, <span class="number">0</span>, nums2, <span class="number">0</span>, total / <span class="number">2</span> + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> (<span class="type">double</span>)res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2012年">2012年</h3>
<ul>
<li>
<ol start="41">
<li>(1). 根据构造哈夫曼树的思想，先将A和B合并，得到一个含有45个元素的表AB，然后将表AB和表C合并，得到一个含有85个元素的表ABC，再将表D和表E合并得到一个含有110个元素的表DE，之后将表ABC和表DE合并，得到一个含有195个元素的表ABCDE，最后将表ABCDE和表F合并得到一个含有395个元素的最终表。由于<mark>两个表合并时最多比较次数为n+m-1</mark>，所以最坏情况下比较的总次数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>44</mn><mo>+</mo><mn>84</mn><mo>+</mo><mn>109</mn><mo>+</mo><mn>194</mn><mo>+</mo><mn>394</mn><mo>=</mo><mn>825</mn></mrow><annotation encoding="application/x-tex">44 + 84 + 109 + 194 + 394=825</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">44</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">84</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">109</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">194</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">394</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">825</span></span></span></span>。</li>
</ol>
<p>(2). 各表的合并策略是：在对多个有序表进行两两合并时，若表长不同，则最坏情况下总的比较 次数依赖于表的合并次序。可以借用哈夫曼树的构造思想，依次选择最短的两个表进行合并, 可以获得最坏情况下最佳的合并效率。</p>
</li>
<li>
<ol start="42">
<li></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 核心思想是遍历链表，让两个指针走过相同数目的节点个数</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">ListNode *<span class="title">findFirstCommonNode</span><span class="params">(ListNode *headA, ListNode *headB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(headA==<span class="literal">NULL</span>||headB==<span class="literal">NULL</span>)<span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">        ListNode *pa = headA,*pb = headB;</span><br><span class="line">        <span class="keyword">while</span>(pa!=pb)&#123;</span><br><span class="line">            pa = pa==<span class="literal">NULL</span> ? headB : pa-&gt;next;</span><br><span class="line">            pb = pb==<span class="literal">NULL</span> ? headA : pb-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pa;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2013年">2013年</h3>
<ul>
<li>
<ol start="41">
<li></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 摩尔投票法</span></span><br><span class="line"><span class="comment">// 集合为空或者集合中只有主元，加入</span></span><br><span class="line"><span class="comment">// 如果不是主元且集合中有主元则带走一个主元</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">moreThanHalfNum_Solution</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> cnt = <span class="number">0</span>, val;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x : nums)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!cnt) val = x, cnt++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(val == x) cnt++;</span><br><span class="line">            <span class="keyword">else</span> cnt--;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> x : nums)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(x == val) cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt &lt; nums.<span class="built_in">size</span>() / <span class="number">2</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">return</span> val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2014年">2014年</h3>
<ul>
<li>
<ol start="41">
<li></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">wpl</span><span class="params">(TreeNode *root, <span class="type">int</span> d)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;left == <span class="literal">NULL</span> &amp;&amp; root-&gt;right == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> root-&gt;val * d;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">return</span> (<span class="built_in">wpl</span>(root-&gt;left, d+<span class="number">1</span>) + <span class="built_in">wpl</span>(root-&gt;right, d+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">pathSum</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">wpl</span>(root, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2015年">2015年</h3>
<ul>
<li>
<ol start="41">
<li></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 单链表结点数据类型定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">node</span> *next;</span><br><span class="line">&#125;NODE *Pnode;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(Pnode h, <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Pnode p = h, r;</span><br><span class="line">    <span class="type">int</span> cnt[n+<span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memset</span>(cnt, <span class="number">0</span>, <span class="built_in">sizeof</span>(cnt));</span><br><span class="line">    <span class="keyword">while</span>(p-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x = p-&gt;next-&gt;val &gt; <span class="number">0</span> ? p-&gt;next-&gt;val : -p-&gt;next-&gt;val;</span><br><span class="line">        <span class="keyword">if</span>(cnt[m] == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt[m] = <span class="number">1</span>;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            r = p-&gt;next;</span><br><span class="line">            p-&gt;next = r-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(r);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2016年">2016年</h3>
<ul>
<li>
<ol start="42">
<li>(1). 根据定义，正则k叉树结点的度要么为k要么为0，设度为0即页结点个数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">n_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，度为k的结点个数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">n_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，则有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>k</mi></msub><mo>×</mo><mi>k</mi><mo>+</mo><mn>1</mn><mo>=</mo><msub><mi>n</mi><mi>k</mi></msub><mo>+</mo><msub><mi>n</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">n_k \times k + 1 = n_k + n_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>所以，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mn>0</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mi>n</mi><mi>k</mi></msub><mo>+</mo><mn>1</mn><mo>=</mo><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi>m</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n_0=(k-1)n_k+1=(k-1)m+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。</li>
</ol>
<p>(2). 当T的结点数最多时，每个非页结点的度都为k，所以结点个数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>i</mi><mo>=</mo><mi>h</mi><mo>−</mo><mn>1</mn></mrow></msubsup><msup><mi>k</mi><mi>i</mi></msup><mo>=</mo><mfrac><mrow><mn>1</mn><mo>−</mo><msup><mi>k</mi><mi>h</mi></msup></mrow><mrow><mn>1</mn><mo>−</mo><mi>k</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><msup><mi>k</mi><mi>h</mi></msup><mo>−</mo><mn>1</mn></mrow><mrow><mi>k</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\sum \limits_{i=0}^{i=h-1}k^i=\frac{1-k^h}{1-k}=\frac{k^h-1}{k-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.5138em;vertical-align:-0.9777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5361em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">∑</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4463em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0429em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.927em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4463em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0429em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.927em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。当T的结点数最少时，除最后一层外，每一层只有一个结点的度为k，所以结点个数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mi>k</mi><mo stretchy="false">(</mo><mi>h</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">1+k(h-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<ol start="43">
<li>直接用快排吧，拿大部分分</li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">q_sort</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> l, <span class="type">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> v = a[l + r &gt;&gt; <span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> i = i - <span class="number">1</span>, j = r + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">do</span> i++; <span class="keyword">while</span>(a[i] &lt; v);</span><br><span class="line">        <span class="keyword">do</span> j--; <span class="keyword">while</span>(a[j] &gt; v);</span><br><span class="line">        <span class="keyword">if</span>(i &lt; j) <span class="built_in">swap</span>(a[i], a[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">q_sort</span>(a, l, j);</span><br><span class="line">    <span class="built_in">q_sort</span>(a, j+<span class="number">1</span>, r); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2017年">2017年</h3>
<ul>
<li>
<ol start="41">
<li>答案的写法好啊</li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">BtreeToE</span><span class="params">(BTree *root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">BtreeToExp</span>(root, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">BtreeToExp</span><span class="params">(Btree *root, <span class="type">int</span> deep)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">NULL</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(root-&gt;left == <span class="literal">NULL</span> &amp;&amp; root-&gt;right == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, root-&gt;data); <span class="comment">// 如果是页结点则直接输出</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(deep &gt; <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">        <span class="built_in">BtreeToExp</span>(root-&gt;left, deep+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, root-&gt;data);</span><br><span class="line">        <span class="built_in">BtreeToExp</span>(root-&gt;right, deep+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">BtreeToExp</span>(root-&gt;right, deep+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(deep &gt; <span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2018年">2018年</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find_miss_min</span><span class="params">(<span class="type">int</span> a[], <span class="type">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt[n+<span class="number">1</span>];</span><br><span class="line">    <span class="built_in">memset</span>(cnt, <span class="number">0</span>, <span class="built_in">sizeof</span>(cnt));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i] &gt; <span class="number">0</span> &amp;&amp; a[i] &lt;= n)</span><br><span class="line">            cnt[a[i] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(cnt[i] == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res = i + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2019年">2019年</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * struct ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode *next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">rearrangedList</span><span class="params">(ListNode* head)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!head-&gt;next)<span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span> n = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(ListNode *h=head;h;h=h-&gt;next)</span><br><span class="line">            n++;</span><br><span class="line">        <span class="type">int</span> mid = (n + <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        ListNode *a = head;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;mid<span class="number">-1</span>;i++)</span><br><span class="line">            a = a-&gt;next;</span><br><span class="line">        ListNode *b = a-&gt;next, *c = b-&gt;next;</span><br><span class="line">        a-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        b-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">while</span>(c)</span><br><span class="line">        &#123;</span><br><span class="line">            ListNode *t = c-&gt;next;</span><br><span class="line">            c-&gt;next = b;</span><br><span class="line">            b = c;</span><br><span class="line">            c = t;</span><br><span class="line">        &#125;</span><br><span class="line">        ListNode *p = head;</span><br><span class="line">        <span class="keyword">while</span>(b)</span><br><span class="line">        &#123;</span><br><span class="line">            ListNode *o = b-&gt;next;</span><br><span class="line">            b-&gt;next = p-&gt;next;</span><br><span class="line">            p-&gt;next = b;</span><br><span class="line">            p = p-&gt;next-&gt;next;</span><br><span class="line">            b = o;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="2020年">2020年</h3>
<ul>
<li>
<ol start="41">
<li></li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[N], b[N], c[N];</span><br><span class="line"><span class="type">int</span> l, m, n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;l, &amp;m, &amp;n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;l;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;b[i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;c[i]);</span><br><span class="line">    </span><br><span class="line">    LL res =<span class="number">1e18</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>, j=<span class="number">0</span>, k=<span class="number">0</span>;i&lt;l&amp;&amp;j&lt;m&amp;&amp;k&lt;n;)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x = a[i], y = b[j], z = c[k];</span><br><span class="line">        res = <span class="built_in">min</span>(res, (LL)<span class="built_in">max</span>(<span class="built_in">max</span>(x, y), z) - (LL)<span class="built_in">min</span>(<span class="built_in">min</span>(x, y), z));</span><br><span class="line">        <span class="keyword">if</span>(x &lt;= y &amp;&amp; x &lt;= z) i++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(y &lt;= x &amp;&amp; y &lt;= z) j++;</span><br><span class="line">        <span class="keyword">else</span> k++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, res * <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="2021年">2021年</h3>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 答案的代码</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">IsExistEL</span><span class="params">(MGraph G )</span></span>&#123;</span><br><span class="line">  <span class="comment">//记录度为奇数的顶点个数</span></span><br><span class="line">  <span class="type">int</span> count = <span class="number">0</span>; </span><br><span class="line">  <span class="comment">//暂存每个结点的度</span></span><br><span class="line">  <span class="type">int</span> row = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">    <span class="comment">//每行初始化为0 </span></span><br><span class="line">    row = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">for</span> <span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">      <span class="comment">//若邻接矩阵值为1，row代表的结点加1 </span></span><br><span class="line">      <span class="keyword">if</span>(G.edge[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">        row++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//如果度为奇数则记录</span></span><br><span class="line">    <span class="keyword">if</span>(row % <span class="number">2</span> == <span class="number">0</span>) count++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//若度数为奇数的count结点为0或者为2，则存在EL路径，否则不存在EL路径。</span></span><br><span class="line">  <span class="keyword">if</span> (count == <span class="number">0</span> || count == <span class="number">2</span>)<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2022年">2022年</h3>
<ul>
<li>
<ol start="41">
<li>判断二叉搜索树</li>
</ol>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * struct TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode *left;</span></span><br><span class="line"><span class="comment"> *     TreeNode *right;</span></span><br><span class="line"><span class="comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span></span><br><span class="line"><span class="comment"> * &#125;;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">checkInoeder</span><span class="params">(TreeNode *root, <span class="type">long</span> <span class="type">long</span> low, <span class="type">long</span> <span class="type">long</span> up)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="literal">nullptr</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(root-&gt;val &lt;= low || root-&gt;val &gt;= up) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">checkInoeder</span>(root-&gt;left, low, root-&gt;val) &amp;&amp; <span class="built_in">checkInoeder</span>(root-&gt;right, root-&gt;val, up);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isValidBST</span><span class="params">(TreeNode* root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">checkInoeder</span>(root, LONG_MIN, LONG_MAX);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h2 id="2023年">2023年</h2>
<h3 id="43">43</h3>
<ul>
<li>(1) 数组a起始虚拟地址是0042 2000H，页大小为4KB，页内偏移为4位，数组a恰在一个页面的起始位置，数组a大小为24*64*4，分布在2个页面中。会发生2次缺页异常。第一次页故障地址是0042 2000H，第二次页故障地址是0042 3000H。</li>
<li>(2) 不具有时间局部性。因为对数组a的每个元素仅访问了一次。</li>
<li>(3) 块大小为32B，按字节编址，则块内地址占5位，32位虚拟地址中低5位A4~A0表示。Cache采用4路组相连，数据区大小为8KB，Cache行数为：8KB/32B=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">2^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span>行，组数为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">2^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>，因此组号占6位，用A10-A5表示。</li>
</ul>
<p>​	a[1][0]的虚拟地址是0042 2000H+(1*64+0)*4=0042 2100H。</p>
<p>​	0042 2100H低12位二进制为：0001 0000 0000B，组号为001000B，即8。</p>
<ul>
<li>(4) 数组a占用主存块数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn><mo>∗</mo><mn>64</mn><mo>∗</mo><mn>4</mn><mi mathvariant="normal">/</mi><mn>32</mn><mo>=</mo><mn>192</mn></mrow><annotation encoding="application/x-tex">24*64*4/32=192</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">24</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">64</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4/32</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">192</span></span></span></span>。一个Cache可存放数组元素8个，Cache共有256个Cache行，因此访问数组a时，只有每次访问Cache行的第一个元素时发生确实，所以命中率是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>8</mn><mo>−</mo><mn>1</mn></mrow><mn>8</mn></mfrac><mo>∗</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>87.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{8-1}{8}*100\%=87.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">87.5%</span></span></span></span>。将i和j的次序调换，即按列优先访问，由于数据Cache能够存放所有元素，所以命中率不变，仍为87.5%。</li>
</ul>
<h3 id="44">44</h3>
<ul>
<li>(1) 第19条指令虚拟地址为0040 10AEH，指令长度为11B，按字节编址，所以第20条指令的虚拟地址是0040 10AEH+11 = 0040 10B9H。</li>
<li>(2) 这两条指令都采用相对寻址方式。第2条指令的跳转目标地址计算过程为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>C</mi><mo>+</mo><mn>2</mn><mo>+</mo><mn>09</mn><mi>H</mi><mo>=</mo><mn>00401079</mn><mi>H</mi><mo>+</mo><mn>2</mn><mo>+</mo><mn>09</mn><mi>H</mi><mo>=</mo><mn>00401084</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">PC+2+09H=0040 1079H + 2 + 09H=0040 1084H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">PC</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">09</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">00401079</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">09</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">00401084</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。</li>
<li>(3) 源操作数采用变址寻址方式。<code>ecx</code>中存放的是i*256。计算机M采用小端存储方式。</li>
<li>(4) 不会发生缺页异常。因为第19条指令和第一条指令的虚页号均为00401H，在同一页中，第一次执行第一条指令时发生缺页异常，进行异常处理后页面会调入内存，因此此时不会发生缺页异常。</li>
</ul>
<h3 id="45">45</h3>
<ul>
<li>
<p>(1) if (key == TRUE) swap key, lock; 错误，应改为:while (key == TRUE) swap key, lock;                                                                                                                lock = TRUE;错误，应改为: lock = FALSE;</p>
</li>
<li>
<p>(2) 不能。因为函数调用执行过程不具有原子性，进行调用时可能会被其他进程打断，导致交换过程出错。</p>
</li>
</ul>
<h3 id="47">47</h3>
<ul>
<li>(1) 操作1前一个操作是3，后一个操作是5。操作6的后一个操作是4。</li>
<li>(2) 在操作2之后CPU一定从进程P切换到其他进程。操作1之后CPU才能选中进程P执行。</li>
<li>(3) 完成操作3的代码属于键盘驱动程序。</li>
<li>(4) 进程P处于阻塞态，CPU处于内核态。</li>
</ul>
<p>​	（在系统调用返回之前将进程插入到就绪队列）</p>
<h3 id="48">48</h3>
<ul>
<li>(1) 控制连接是持久的。数据连接是非持久的。登录FTP服务器时，建立的TCP连接是控制连接。</li>
<li>(2) F的第一个字节的序号是101。在断开连接过程中，FTP服务器发送的第二次挥手ACK段的确认序号是18102。</li>
<li>(3) 收到确认序号为2101的确认段时，H的拥塞窗口调整为3MSS。收到确认序号7101的确认段时，H的拥塞窗口调整为5MSS。</li>
<li>(4) 至少需要6个RTT,即60ms。应用层数据平均发送速率是18000B/60ms=0.3MBps=2.4Mbps。</li>
</ul>
<hr>
<h2 id="2022年-2">2022年</h2>
<h3 id="43-2">43</h3>
<ul>
<li>(1) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>F</mi><mo>=</mo><msub><mi>F</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">SF=F_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">SF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</li>
</ul>
<p>​	A加B时，真值表为：</p>
<table>
<thead>
<tr>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">A_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">B_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">F_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">OF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">OF</span></span></span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p>所以，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>F</mi><mo>=</mo><mover accent="true"><msub><mi>A</mi><mn>15</mn></msub><mo stretchy="true">‾</mo></mover><mover accent="true"><msub><mi>B</mi><mn>15</mn></msub><mo stretchy="true">‾</mo></mover><msub><mi>F</mi><mn>15</mn></msub><mo>+</mo><msub><mi>A</mi><mn>15</mn></msub><msub><mi>B</mi><mn>15</mn></msub><mover accent="true"><msub><mi>F</mi><mn>15</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">OF=\overline{A_{15}}\overline{B_{15}}F_{15}+A_{15}B_{15}\overline{F_{15}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">OF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></p>
<p>A减B时，真值表：</p>
<table>
<thead>
<tr>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">A_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">B_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mn>15</mn></msub></mrow><annotation encoding="application/x-tex">F_{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></th>
<th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">OF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">OF</span></span></span></span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>F</mi><mo>=</mo><mover accent="true"><msub><mi>A</mi><mn>15</mn></msub><mo stretchy="true">‾</mo></mover><msub><mi>B</mi><mn>15</mn></msub><msub><mi>F</mi><mn>15</mn></msub><mo>+</mo><msub><mi>A</mi><mn>15</mn></msub><mover accent="true"><msub><mi>B</mi><mn>15</mn></msub><mo stretchy="true">‾</mo></mover><mover accent="true"><msub><mi>F</mi><mn>15</mn></msub><mo stretchy="true">‾</mo></mover></mrow><annotation encoding="application/x-tex">OF=\overline{A_{15}}B_{15}F_{15}+A_{15}\overline{B_{15}}\overline{F_{15}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">OF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0333em;vertical-align:-0.15em;"></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mord overline"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8833em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.8033em;"><span class="pstrut" style="height:3em;"></span><span class="overline-line" style="border-bottom-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></p>
<ul>
<li>(2) 因为单总线结构中每一个时刻总线上总有一个数据有效，ALU有两个输入端和一个输出端，因而需要设置Y和Z两个暂存器，缓存ALU的一个输入端和输出端的数据。</li>
<li>(3) rd、rs为4为，因此GPRs中最多有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>4</mn></msup><mo>=</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">2^4=16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span></span></span></span>个通用寄存器。rs和rd来自指令寄存器IR。rd应连接地址译码器。</li>
<li>(4) 取指令阶段控制信号序列是1. PCout, MARin, 2. Read, 3. MDRout, IRin。需要7个时钟周期。</li>
<li>(5) 控制信号由控制段元CU产生。IR、FR的输出信号会连接到该部件的输入端。</li>
</ul>
<h3 id="44-2">44</h3>
<ul>
<li>(1) 地址信息三个字段名称分别为磁道号、盘面号、扇区号。每个盘面有20000个磁道，因此磁道号至少为15位；有4个双面盘面，盘面号至少为3位；每个磁道有500个扇区，扇区号至少为9位。</li>
<li>(2) 磁盘转速为7200RPM，一转用时<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>60</mn><mo>∗</mo><mn>1000</mn></mrow><mn>7200</mn></mfrac><mo>=</mo><mfrac><mn>25</mn><mn>3</mn></mfrac><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{60*1000}{7200}=\frac{25}{3}ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">7200</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">60</span><span class="mbin mtight">∗</span><span class="mord mtight">1000</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span>，平均寻道时间是5ms，因此一个扇区的平均访问时间是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi>m</mi><mi>s</mi><mo>+</mo><mfrac><mn>25</mn><mn>3</mn></mfrac><mo>∗</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mi>m</mi><mi>s</mi><mo>+</mo><mfrac><mn>25</mn><mn>3</mn></mfrac><mo>∗</mo><mfrac><mn>1</mn><mn>500</mn></mfrac><mo>=</mo><mn>9.18</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">5ms+\frac{25}{3}*\frac{1}{2}ms+\frac{25}{3}*\frac{1}{500}=9.18ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">500</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9.18</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span>。</li>
<li>(3) 在一个扇区读写过程中，向CPU发送DMA总线请求次数为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>512</mn><mo>∗</mo><mn>8</mn></mrow><mn>64</mn></mfrac><mo>=</mo><mn>64</mn></mrow><annotation encoding="application/x-tex">\frac{512*8}{64}=64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">64</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">512</span><span class="mbin mtight">∗</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">64</span></span></span></span>次。</li>
</ul>
<p>​	DMA控制器可以获得总线使用权，因为DMA控制的优先权比CPU高，否则会造成数据丢失。</p>
<h3 id="45-2">45</h3>
<ul>
<li>(1) 目录文件stu的目录项内容为：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">文件名</th>
<th style="text-align:center">索引节点号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">course</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">doc</td>
<td style="text-align:center">10</td>
</tr>
</tbody>
</table>
<ul>
<li>(2) 文件doc和文件course1的索引节点号均为10，因此doc占用的磁盘块号和course1的相同，即x=30.</li>
<li>(3) 需要读2个磁盘块。因为目录文件course的内容已经在内存中，因此可以在内存中找到文件course1的索引节点号10，然后存磁盘块30中读取索引节点信息，根据索引节点信息访问文件对应的磁盘块，因此需要访问2个磁盘块。</li>
<li>(4) 文件系统磁盘块大小为4KB，目录项大小为4B。10个直接索引可表示的最大文件长度为40KB，直接索引和一级间接索引可表示的最大文件长度为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>40</mn><mi>K</mi><mi>B</mi><mo>+</mo><mfrac><mrow><mn>4</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><mo>∗</mo><mn>4</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>40</mn><mi>K</mi><mi>B</mi><mo>+</mo><mn>4</mn><mi>M</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">40KB+\frac{4KB}{4B}*4KB=40KB+4MB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">40</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">40</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span></span></span></span>;再加上二级间接索引可表示文件最大长度为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>40</mn><mi>K</mi><mi>B</mi><mo>+</mo><mn>4</mn><mi>M</mi><mi>B</mi><mo>+</mo><mo stretchy="false">(</mo><mfrac><mrow><mn>4</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>∗</mo><mn>4</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>40</mn><mi>K</mi><mi>B</mi><mo>+</mo><mn>4</mn><mi>M</mi><mi>B</mi><mo>+</mo><mn>4</mn><mi>G</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">40KB+4MB+(\frac{4KB}{4B})^2*4KB=40KB+4MB+4GB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">40</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">40</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">GB</span></span></span></span>.因此存储6MB大小的文件需要用到一级和二级间接地址项。</li>
</ul>
<h3 id="46">46</h3>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">Semaphore S_AC = <span class="number">0</span>; <span class="comment">// 实现A和C的同步</span></span><br><span class="line">Semaphore A_CE = <span class="number">0</span>; <span class="comment">// 实现C和E的同步</span></span><br><span class="line"></span><br><span class="line">T1 &#123; <span class="comment">// 线程T1</span></span><br><span class="line">    执行A;</span><br><span class="line">    <span class="built_in">signal</span>(S_AC);</span><br><span class="line">    <span class="built_in">wait</span>(S_CE);</span><br><span class="line">    执行E;</span><br><span class="line">    执行F；</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">T2 &#123; <span class="comment">// 线程T2</span></span><br><span class="line">    执行B;</span><br><span class="line">    <span class="built_in">wait</span>(S_AC);</span><br><span class="line">    执行C;</span><br><span class="line">    <span class="built_in">signa</span>(S_CE);</span><br><span class="line">    执行D;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="47-2">47</h3>
<ul>
<li>(1) 设备1选择100BaseT以太网交换机；设备2选择100BaseT集线器。</li>
<li>(2) 最小帧发送时间为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>64</mn><mo>∗</mo><mn>8</mn></mrow><mrow><mn>100</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow></mfrac><mo>=</mo><mn>5.12</mn><mi>u</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{64*8}{100*10^6}=5.12us</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">100</span><span class="mbin mtight">∗</span><span class="mord mtight">1</span><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">64</span><span class="mbin mtight">∗</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.12</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span></span></span></span>。因此征用期最小为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>τ</mi><mo>=</mo><mn>5.12</mn><mi>u</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">2\tau=5.12us</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.1132em;">τ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.12</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span></span></span></span>，相距最远距离为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>∗</mo><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup><mo>∗</mo><mo stretchy="false">(</mo><mn>5.12</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>−</mo><mn>1.51</mn><mo stretchy="false">)</mo><mi>u</mi><mi>s</mi><mo>=</mo><mn>210</mn><mi>m</mi></mrow><annotation encoding="application/x-tex">2*10^8 * (5.12 / 2 - 1.51)us=210m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5.12/2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1.51</span><span class="mclose">)</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">210</span><span class="mord mathnormal">m</span></span></span></span>。</li>
<li>(3) M是DHCP发现报文。路由器E0接口能够收到封装M的以太网帧。S向DHCP服务器转发的封装M的以太网帧的目的MAC地址是FF-FF-FF-FF-FF-FF-FF。</li>
<li>(4) 地址1:00-11-11-11-11-E1，地址2: 00-11-11-11-11-C1, 地址3：00-11-11-11-11-D1。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">去往AP</th>
<th style="text-align:center">来自AP</th>
<th style="text-align:center">地址1</th>
<th style="text-align:center">地址2</th>
<th style="text-align:center">地址3</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">接收地址=目的地址</td>
<td style="text-align:center">发送地址=AP地址</td>
<td style="text-align:center">源地址</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">接收地址=AP地址</td>
<td style="text-align:center">发送地址=源地址</td>
<td style="text-align:center">目的地址</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="2021年-2">2021年</h2>
<h3 id="43-3">43</h3>
<ul>
<li>
<p>(1) ALU的宽度为16位。（ALU的宽度通常和机器字长相同）地址线为20位，因此可寻址主存空间大小为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>20</mn></msup><mi>B</mi><mo>=</mo><mn>1</mn><mi>M</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">2^{20}B=1MB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span></span></span></span>。指令寄存器应有16位，主存地址寄存器应有20位，主存数据寄存器应有8位。</p>
</li>
<li>
<p>(2) R型格式最多可以定义<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>4</mn></msup><mo>=</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">2^4=16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span></span></span></span>种操作。I型和J型指令最多可定义<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>6</mn></msup><mo>−</mo><mn>1</mn><mo>=</mo><mn>63</mn></mrow><annotation encoding="application/x-tex">2^6-1=63</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">63</span></span></span></span>种操作。通用寄存器最多有4个。</p>
</li>
<li>
<p>(3) 01B2H二进制为：0000 0001 1011 0010B，op1=0010，为带符号整数减法，rs为01B，rt为10B，rd为11B，因此该指令的功能是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo><mo>←</mo><mi>R</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>−</mo><mi>R</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">R[3]\leftarrow R[1]-R[2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">←</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span></span></span> 执行01B2H后，3号寄存器内容应为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mn>052</mn><mi>H</mi><mo>−</mo><mn>0008</mn><mi>H</mi><mo>=</mo><mi>B</mi><mn>04</mn><mi>A</mi><mi>H</mi></mrow><annotation encoding="application/x-tex">B052H-0008H=B04AH</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">052</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0008</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">04</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>，结果没有溢出。                                                                                                                        执行01B3H后，3号寄存器内容应为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mn>052</mn><mi>H</mi><mo>∗</mo><mn>0008</mn><mi>H</mi><mo>=</mo><mn>8290</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">B052H*0008H=8290H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">052</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0008</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">8290</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>,结果溢出。</p>
</li>
<li>
<p>(4)<code> imm</code>应进行符号扩展。</p>
</li>
<li>
<p>(5) 无条件转移指令可以采用J型指令格式。</p>
</li>
</ul>
<h3 id="44-3">44</h3>
<ul>
<li>(1) 页大小为4KB，按字节变址，因此页内地址占12位，所以虚拟地址的高18位是虚页号，低12位是页内地址。</li>
<li>(2) TLB采用2路组相连，有8组，因此组号占3位，TLB标记占18-3=15为，所以M的虚拟地址中高15位为TLB标记，低3位是TLB组号。</li>
<li>(3) 虚页号10, 12, 16, 17, 26, 4, 12, 20对应TLB组号为2, 4, 0, 1, 2, 4, 4, 4。采用二路组相连时，先后访问虚页号12，4，12，20时会发生页面替换。才用LRU替换策略时，访问到续页号20时，组号4对应的TLB满，最近访问了12号虚页，因此应替换4号虚页，所以4号虚页对应的TLB表项被替换。</li>
<li>(4) 虚拟地址位数增加到32位，TLB表项的位数应该增加2位。</li>
</ul>
<h3 id="45-3">45</h3>
<ul>
<li>(1) 因为信号量S是被多个进程共享的变量，多个进程都能够通过wait()和signal()访问S，因此在wait()和signal()种需要互斥访问S。</li>
<li>(2) 方法1错误，方法2正确。因为在方法1中wait()中，在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mo>≤</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">S\le0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>时，提前关闭了中断，由于signal()不能修改S，则会一直执行<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>h</mi><mi>i</mi><mi>l</mi><mi>e</mi><mo stretchy="false">(</mo><mi>s</mi><mo>≤</mo><mn>0</mn><mo stretchy="false">)</mo><mo separator="true">;</mo></mrow><annotation encoding="application/x-tex">while(s\le0);</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">hi</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mpunct">;</span></span></span></span>造成死循环。</li>
<li>(3) 用户不能使用开关中断指令实现临界区互斥。因为开关中断指令是特权指令，只能运行在内核态，用户不能执行开关中断指令。</li>
</ul>
<h3 id="46-2">46</h3>
<ul>
<li>(1) 执行顺序是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>O</mi><mi>M</mi><mtext>中的引导程序</mtext><mo>→</mo><mtext>磁盘引导程序</mtext><mo>→</mo><mtext>分区引导程序</mtext><mo>→</mo><mtext>操作系统初始化程序</mtext></mrow><annotation encoding="application/x-tex">ROM中的引导程序\rightarrow 磁盘引导程序 \rightarrow 分区引导程序 \rightarrow 操作系统初始化程序</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">ROM</span><span class="mord cjk_fallback">中的引导程序</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">磁盘引导程序</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">分区引导程序</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">操作系统初始化程序</span></span></span></span>。</li>
<li>(2) 正确顺序是：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>磁盘的物理格式化</mtext><mo>→</mo><mtext>对磁盘进行分区</mtext><mo>→</mo><mtext>逻辑格式化</mtext><mo>→</mo><mtext>操作系统的安装</mtext></mrow><annotation encoding="application/x-tex">磁盘的物理格式化 \rightarrow 对磁盘进行分区 \rightarrow 逻辑格式化 \rightarrow 操作系统的安装</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">磁盘的物理格式化</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">对磁盘进行分区</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">逻辑格式化</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">操作系统的安装</span></span></span></span>。</li>
<li>(3) 磁盘扇区的划分在对磁盘进行分区操作中完成。文件系统根目录建立在逻辑格式化中完成。</li>
</ul>
<p>操作系统启动过程为:</p>
<ol>
<li>激活CPU。激活的CPU读取ROM中的boot程序，将指令寄存器置为BIOS的第一条指令，开始执行BIOS的指令。</li>
<li>硬件自检。启动BIOS程序后，先进行硬件自检，检查硬件是否出现故障。</li>
<li>加载带有操作系统的硬盘。硬件自检后，BIOS开始读取Boot Sequence，把控制权交给启动顺序排在第一位的存储设备，然后将该存储设备引导扇区的内容加载到内存中。</li>
<li>加载主引导记录MBR。硬盘以特定的标识符区分引导硬盘和非引导硬盘。如果发现一个存储设备不是引导盘，就检查下一个存储设备。主引导记录MBR的作用是告诉CPU去硬盘的哪个分区找操作系统。</li>
<li>扫描硬盘分区表，并加载硬盘活动分区。MBR包含硬盘分区表，硬盘分区表以特定的标识符区分活动分区和非活动分区。主引导记录扫描硬盘分区表，进而识别包含操作系统的硬盘分区。找到硬盘活动分区后，开始加载硬盘活动分区，将控制权交给活动分区。</li>
<li>加载分区引导记录PBR。读取活动分区的第一个扇区，这个扇区称为分区引导记录，作用是寻找并激活分区根目录下用于引导操作系统的程序。</li>
<li>加载启动管理器。</li>
<li>加载操作系统。</li>
</ol>
<h3 id="47-3">47</h3>
<ul>
<li>
<p>(1) 除HTTP外还运行了DNS协议。</p>
<p>从应用层到数据链路层，该应用层协议报文逐层封装关系为: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>N</mi><mi>S</mi><mtext>报文</mtext><mo>→</mo><mi>U</mi><mi>D</mi><mi>P</mi><mtext>数据报</mtext><mo>→</mo><mi>I</mi><mi>P</mi><mtext>数据报</mtext><mo>→</mo><mi>C</mi><mi>S</mi><mi>M</mi><mi>A</mi><mi mathvariant="normal">/</mi><mi>C</mi><mi>D</mi><mtext>帧</mtext></mrow><annotation encoding="application/x-tex">DNS报文 \rightarrow UDP数据报 \rightarrow IP数据报 \rightarrow CSMA/CD帧</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.05764em;">NS</span><span class="mord cjk_fallback">报文</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord cjk_fallback">数据报</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord cjk_fallback">数据报</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">CSM</span><span class="mord mathnormal">A</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord cjk_fallback">帧</span></span></span></span>。</p>
</li>
<li>
<p>(2) t1时刻S交换表内容是:</p>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">MAC地址</th>
<th style="text-align:center">端口</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">00-11-22-33-44-cc</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">00-11-22-33-44-bb</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">00-11-22-33-44-aa</td>
<td style="text-align:center">2</td>
</tr>
</tbody>
</table>
<ul>
<li>(3) H2至少会收到2个与此次Web访问相关的帧。接收到的是封装ARP查询报文的以太网帧。帧的目的MAC地址是FF-FF-FF-FF-FF-FF。</li>
</ul>
<hr>
<h2 id="2020年-2">2020年</h2>
<h3 id="43-4">43</h3>
<ul>
<li>(1) 因为乘法运算可以转换成多个数相加，编译器可以将乘法运算转换成一个循环代码段，在循环代码段中通过比较、加法、移位等指令实现乘法运算。</li>
<li>(2) 控制逻辑的作用是控制循环的次数和加法以及移位操作。</li>
<li>(3) 没有乘法指令的执行时间最长，使用阵列乘法器实现的乘法指令执行时间最短。因为没有乘法指令时，编译器会将乘法运算转换成多条加法、移位指令，而每条指令的执行都需要取指、译码、执行、写回等机器周期，在第二种情况中，有ALU和移位器实现的乘法指令，执行阶段需要进行多次移位和加法操作，需要多个机器周期，而第三种情况，执行时一个机器周期即可完成运算。因此第一种情况执行时间最长，第三种情况执行时间最短。</li>
<li>(4) 带符号整数和无符号整数乘法指令执行得到的2n位乘积均为0000 0000 FFFFF FFFEH。                                                                                                                函数<code>umul()</code>的返回结果没有溢出，imul()的返回结果溢出。                                                                                                                                                                   对于无符号整数乘法运算，进去乘积的低n位时，高n位全为0则没有溢出，反之溢出。</li>
</ul>
<h3 id="44-4">44</h3>
<ul>
<li>(1) 主存按字节编址，主存块大小为64B，则块内偏移占6位。Cache采用8路组相联，数据区容量为32KB，Cache行数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>32</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>64</mn><mi>B</mi></mrow></mfrac><mo>=</mo><msup><mn>2</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">\frac{32KB}{64B}=2^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">64</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>。组数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">2^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>，所以组号占6位，则标记占32-6-6=20位。LRU位占3位。由于采用直写策略，所以没有修改位。</li>
<li>(2) int型数据占4B，一个Cache行可以存放16个数据元素。1024个数据占用Cache行为64行，由于s的起始地址后6位全为0， 在一个内存块的起始地址，因此访问数组s时，只有每次访问对应Cache行的第一个元素时缺失，所以缺失次数为64次。</li>
<li>(3) 主存单元0001 0003H，二进制为0000 0000 0000 0001 0000 0000 0000 0011B，块内地址是00 0011B，组号为0000 00B，标记为0000 0000 0000 0001 0000B，即00010H。开始访问时，Cache为空，因此访问Cache缺失。此时从主存中取出对应地址的数据块，存入cache 0组的任意一行，将标记位置为00010H，有效位置1，LRU位置0，最后根据块内地址从该行中取出对应的内容。</li>
</ul>
<h3 id="45-4">45</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore S_AC = <span class="number">0</span>; <span class="comment">// 实现操作A和操作C的同步</span></span><br><span class="line">Semaphore S_BC = <span class="number">0</span>; <span class="comment">// 实现操作B和操作C的同步</span></span><br><span class="line">Semaphore S_CE = <span class="number">0</span>; <span class="comment">// 实现操作C和操作E的同步</span></span><br><span class="line">Semaphore S_DE = <span class="number">0</span>; <span class="comment">// 实现操作D和操作E的同步</span></span><br><span class="line"></span><br><span class="line">CoBegin</span><br><span class="line">    Begin 操作A; signal(S_AC); End</span><br><span class="line">    Begin 操作B; signal(S_BC); End</span><br><span class="line">    Begin <span class="title function_">wait</span><span class="params">(S_AC)</span>; wait(S_BC); 操作C; signal(S_CE); End</span><br><span class="line">    Begin 操作D; signal(S_ED); End</span><br><span class="line">    Begin <span class="title function_">wait</span><span class="params">(S_CE)</span>; wait(S_DE); 操作E; End        </span><br><span class="line">CoEnd</span><br></pre></td></tr></table></figure>
<h3 id="46-3">46</h3>
<ul>
<li>(1) 数组元素a[1][2]的虚拟地址是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1080</mn><mtext> </mtext><mn>0000</mn><mi>H</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>∗</mo><mn>1024</mn><mo>+</mo><mn>2</mn><mo stretchy="false">)</mo><mo>∗</mo><mn>4</mn><mo>=</mo><mn>1080</mn><mtext> </mtext><mn>1008</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">1080\ 0000H + (1 * 1024 + 2) * 4=1080 \ 1008H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">1080</span><span class="mspace"> </span><span class="mord">0000</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1024</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1080</span><span class="mspace"> </span><span class="mord">1008</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。对应的页目录号是00 0100 0010B即042H，页号是001H。页目录的起始物理地址是0020 1000H，<strong>页目录项长度为4B</strong>，则其对应的页目录项的物理地址是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0020</mn><mtext> </mtext><mn>1000</mn><mi>H</mi><mo>+</mo><mn>042</mn><mi>H</mi><mo>∗</mo><mn>4</mn><mo>=</mo><mn>0020</mn><mtext> </mtext><mn>1108</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">0020 \ 1000H + 042H*4=0020 \ 1108H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">0020</span><span class="mspace"> </span><span class="mord">1000</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">042</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0020</span><span class="mspace"> </span><span class="mord">1108</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。该目录项中存放的也框号是00301H，<strong>页目录项大小为4B</strong>，所以该数组元素所在页对应的页表项物理地址是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>00301</mn><mi>H</mi><mo>&lt;</mo><mo>&lt;</mo><mn>12</mn><mo>+</mo><mn>001</mn><mi>H</mi><mo>∗</mo><mn>4</mn><mo>=</mo><mn>0030</mn><mtext> </mtext><mn>1004</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">00301H &lt;&lt; 12 + 001H * 4=0030 \ 1004H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord">00301</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">12</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">001</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0030</span><span class="mspace"> </span><span class="mord">1004</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。</li>
<li>(2) 数组a在虚拟地址空间中所占的区域必须连续。在物理空间中所占的区域不必须连续。</li>
<li>(3) 按行遍历局部性更好。</li>
</ul>
<h3 id="47-4">47</h3>
<ul>
<li>(1) 需要在R2中配置NAT表项，配置为:</li>
</ul>
<table>
<thead>
<tr>
<th>外网</th>
<th></th>
<th>内网</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>IP地址</td>
<td>端口号</td>
<td>IP地址</td>
<td>端口号</td>
</tr>
<tr>
<td>203.10.2.2</td>
<td>80</td>
<td>192.168.1.3</td>
<td>80</td>
</tr>
</tbody>
</table>
<p>（只需在R2中配置Web服务器的 NAT表项，而不用在R3中配置H2和H3的NAT表项，原因在于我们只知道Web服务器的 端口号80,而客户端的端口号是随机分配的，无法做静态配置，只能通过自动动态配置实现。）</p>
<ul>
<li>(2) H2发送的P的源地址是192.168.1.2， 目的IP地址是203.10.2.2；经过R3转发后，P的源IP地址是203.10.2.6，目的IP地址是203.10.2.2；经过R2转发后, 源IP地址是203.10.2.6，目的IP地址是192.168.1.2。</li>
</ul>
<hr>
<h2 id="2019年-2">2019年</h2>
<h3 id="43-5">43</h3>
<p>首先可以利用信号量，限制同时请求资源的进程数， 哲学家问题中，限制最多有n-1个哲学家同时请求筷子可以防止死锁。这里还有一个碗的资源，因此可以用碗和n-1的最小值来实现同步与互斥。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore bowl; <span class="comment">// 用于协调哲学家对碗的使用</span></span><br><span class="line">Semaphore chopsticks[n]; <span class="comment">// 用于协调哲学家对筷子的使用</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    chopsticks[i] = <span class="number">1</span>;</span><br><span class="line">bowl = min(n<span class="number">-1</span>, m); <span class="comment">// 确保不死锁</span></span><br><span class="line"></span><br><span class="line">CoBegin</span><br><span class="line"><span class="title function_">while</span><span class="params">(TRUE)</span>&#123;</span><br><span class="line">    思考;</span><br><span class="line">    P(bowl);</span><br><span class="line">    P(chopsticks[i]);</span><br><span class="line">    P(chopsticks[(i+<span class="number">1</span>)%n]);</span><br><span class="line">    就餐;</span><br><span class="line">    V(chopsticka[i]);</span><br><span class="line">    V(chopsticks[(i+<span class="number">1</span>)%n]);</span><br><span class="line">    V(bowl);</span><br><span class="line">&#125;</span><br><span class="line">CoEnd</span><br></pre></td></tr></table></figure>
<p>也可以暴力的用一个大锁，用来实现一次请求所有资源，如果不能满足要求就释放锁继续循环。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore mutex = <span class="number">1</span>; <span class="comment">// 用于实现不同哲学家互斥获取资源</span></span><br><span class="line"><span class="type">int</span> bowl = m;<span class="comment">// 记录碗的数量</span></span><br><span class="line"><span class="type">int</span> chopsticks[n];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">    chopsticks[i] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">CoBegin</span><br><span class="line"><span class="title function_">while</span><span class="params">(TRUE)</span> &#123;</span><br><span class="line">    思考;</span><br><span class="line">    P(mutex);</span><br><span class="line">    <span class="keyword">if</span>(bowl &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        V(mutex);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(chopsticks[i] == <span class="number">0</span> &amp;&amp; chopsticks[(i+<span class="number">1</span>)%n] == <span class="number">0</span>) &#123;</span><br><span class="line">        V(mutex);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    bowl --;</span><br><span class="line">    chopsticks[i] = chopsticks[(i+<span class="number">1</span>)%n] = <span class="number">0</span>;</span><br><span class="line">    就餐;</span><br><span class="line">    bowl ++;</span><br><span class="line">    chopsticks[i] = chopsticks[(i+<span class="number">1</span>)%n] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="44-5">44</h3>
<ul>
<li>(1). 磁盘的容量为: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>300</mn><mo>×</mo><mn>10</mn><mo>×</mo><mn>200</mn><mo>×</mo><mn>512</mn><mi>B</mi><mo>=</mo><mn>3</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">300 \times 10 \times 200 \times 512B=3 \times 10^5 KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">300</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">200</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">512</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。</li>
<li>(2). 每个柱面簇个数为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mo>×</mo><mn>200</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">10\times 200 / 2=1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">200/2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>.因此，簇号100260，60005，101660,110560对应的柱面号分别为:100, 60，101,110。按最短寻道时间优先调度算法时，访问簇的先后顺序是: 100260,101660,110560，60005。</li>
<li>(3). 100530对应的柱面号为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100530</mn><mo>÷</mo><mn>1000</mn><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">100530 \div 1000=100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">100530</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span>，磁道号为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100530</mn><mi mathvariant="normal">%</mi><mn>1000</mn><mo>÷</mo><mn>100</mn><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">100530\%1000\div100=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.0833em;"></span><span class="mord">100530%1000</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">÷</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>，簇号为30，则扇区号为60.将簇号转换成磁盘物理地址的过程由磁盘驱动程序完成。</li>
</ul>
<h3 id="45-5">45</h3>
<ul>
<li>
<p>(1). 计算<code>f(10)</code>需要调用函数<code>f1</code> 10次。执行第16行指令<code>call</code>指令会调用<code>f1</code>。</p>
</li>
<li>
<p>(2). 第12行jle指令是条件转移指令。第16行<code>call</code>指令、第20行<code>jmp</code>指令、第30行<code>ret</code>指令一定会使程序跳转执行。</p>
</li>
<li>
<p>(3). 第16行指令虚拟地址是00401025H，指令长度为5B， 根据相邻指令虚拟地址及指令长度可知计算机按字节编址，所以第17行指令的虚拟地址为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>00401025</mn><mi>H</mi><mo>+</mo><mn>5</mn><mo>=</mo><mn>0040102</mn><mi>A</mi><mi>H</mi></mrow><annotation encoding="application/x-tex">00401025H+5=0040102AH</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">00401025</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0040102</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。                                                                                                                                                                                                          采用相对寻址方式，执行第16行指令后跳转到第一行的指令执行，其虚拟地址是00401000H，执行call指令时PC自动只想下一条指令即PC值为0040102AH，	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0040102</mn><mi>A</mi><mi>h</mi><mo>−</mo><mn>00401000</mn><mi>H</mi><mo>=</mo><mn>2</mn><mi>A</mi><mi>H</mi></mrow><annotation encoding="application/x-tex">0040102Ah-00401000H=2AH</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">0040102</span><span class="mord mathnormal">A</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">00401000</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。其负值用补码表示为D6H，因此便宜量是FFFF FFD6H。根据指令中偏移量可知M采用小端方式。</p>
</li>
<li>
<p>(4). 因为<code>f1</code>函数中变量是<code>int</code>型，其能表示的最大整数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，执行f(13)时，结果溢出，因此两者不相等。要使返回结果正确，可以将<code>int</code>型变量改为<code>long long</code>型变量。</p>
</li>
</ul>
<h3 id="46-4">46</h3>
<p>采用分页管理方式，页大小为4KB，计算机M按字节编址，所以页内偏移占12位，第一行指令和第30行指令除去低12位，即虚页号均为00401H，因此二者在同一个也页里。</p>
<p>主存块大小为64B，则块内偏移占6位，因此32位主存地址中低6位表示块内地址。Cache有64行，采用4路组相连，有16组，所以组号占4位，因此主存地址中间4位即6-9位表示组号，高22位即10-31位表示标记信息。</p>
<p>第16行指令虚拟地址为00401025H，低12位为025H，二进制为0000 0010 0101B，对应组号为0000B，所以只能在Cache的0组中命中。</p>
<h3 id="47-5">47</h3>
<ul>
<li>(1). 设备1：路由器，设备2：以太网交换机，设备3：以太网交换机。</li>
<li>(2). 设备1的接口需要配置IP地址。IF1：192.168.1.254，IF2：192.168.1.1，IF3:192.168.1.65</li>
<li>(3). R需要提供NAT内网穿透服务。</li>
<li>(4). IP数据报的目的地址为192.168.1.127,主机号全1,为本网络的广播地址，由于路由器可以 隔离广播域，因此只有主机H4会接收数据报</li>
</ul>
<hr>
<h2 id="2018年-2">2018年</h2>
<h3 id="43-6">43</h3>
<ul>
<li>(1). 设备A的数据传输速率是2MB/s，每秒查询次数至少是:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>2</mn><mi>M</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><mo>=</mo><mn>0.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">\frac{2MB}{4B}=0.5\times10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">MB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>次。因此查询时间间隔最长为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mrow><mn>0.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow></mfrac><mi>s</mi><mo>=</mo><mn>2</mn><mi>μ</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{1}{0.5\times10^6}s=2\mu s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2484em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span><span class="mbin mtight">×</span><span class="mord mtight">1</span><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mord mathnormal">μ</span><span class="mord mathnormal">s</span></span></span></span>。计算机的CPI为4，每次输入输出至少执行10条指令，因此每秒用于输入输出的CPU时钟周期数为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup><mo>×</mo><mn>10</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">0.5\times 10^6\times 10 \times 4=2\times 10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span>，因此占cpu总时间的百分比为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><mrow><mn>500</mn><mi>M</mi></mrow></mfrac><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>4</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{2\times 10^7}{500M}\times 100\%=4\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">500</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mbin mtight">×</span><span class="mord mtight">1</span><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">4%</span></span></span></span>。</li>
<li>(2). 设备B的数据传输速率是40MB/s，因此每秒中断次数最少为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>40</mn><mi>M</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">\frac{40MB}{4B}=10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">40</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">MB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span>次，每次中断处理的总时钟周期数至少是400，则每秒用于中断处理的时钟周期数是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>400</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup><mo>=</mo><mn>4000</mn><mi>M</mi></mrow><annotation encoding="application/x-tex">400\times 10^7=4000M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">400</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4000</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>次，而计算机的主频为500MHz，即每秒最多有500M个时钟周期，因此设备B不能采用中断I/O方式。</li>
<li>(3). 每次DMA传送数据块大小为1000B，则每秒需要DMA次数至少为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>40</mn><mi>M</mi><mi>B</mi></mrow><mrow><mn>1000</mn><mi>B</mi></mrow></mfrac><mo>=</mo><mn>4</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">\frac{40MB}{1000B}=4\times 10^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">40</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">MB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>次，每次DMA需要的总时钟周期数为500，所以设备B用于输入输出的时间占比为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>4</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup><mo>×</mo><mn>500</mn></mrow><mrow><mn>500</mn><mi>M</mi></mrow></mfrac><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>4</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{4\times10^4\times 500}{500M}\times 100\%=4\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3629em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">500</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mbin mtight">×</span><span class="mord mtight">1</span><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mbin mtight">×</span><span class="mord mtight">500</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">4%</span></span></span></span>。</li>
</ul>
<h3 id="44-6">44</h3>
<ul>
<li>(1). 主存物理地址占28位。</li>
<li>(2). TLB采用直接相联映射。TLB采用SRAM实现。</li>
<li>(3). Cache采用2路组相联映射。Cache采用LRU替换算法和回写策略，除数据、Tag和有效位外，还应有LRU位和脏位。从图中可以得知，Cache行中Tag位占20位，块内偏移为5位，因此Cache行存放数据为32B，组号有3位，采用2路组相联映射，所以有16个Cache行，LRU位为1位，每个Cache行的组成为：20位Tag，1为有效位，1位脏位，1位LRU位，32B数据，因此Cache的总容量为:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>32</mn><mi>B</mi><mo>+</mo><mfrac><mrow><mn>20</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn></mrow><mn>8</mn></mfrac><mo stretchy="false">)</mo><mo>×</mo><mn>16</mn><mo>=</mo><mn>558</mn><mi>B</mi></mrow><annotation encoding="application/x-tex">(32B+\frac{20+1+1+1}{8})\times16=558B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">32</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">558</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。有效位的作用是指示Cache行中的数据是否有效。</li>
<li>(4). 虚拟地址0008 C040H的二进制为: 0000 0000 0000 1000 1100 0000 0100 0000B，页内地址为040H，虚页号为0008CH，根据图中TLB可知，虚页号0008CH对应有效位为1，TLB命中，实页号为0040H，因此物理地址为0040040H。其对应的Tag为00400H，组号为010B即2组，根据图中Cache组号2中标记是00400H对应的有效位为0，而另一个Cache行标记位不匹配，因此在Cache中没有命中。                                                                                                              虚拟地址0007 C260H低12位为0010 0110 0000B，因此组号为011B，即为3.</li>
</ul>
<h3 id="45-6">45</h3>
<ul>
<li>(1). 页目录号和页号均为10位，页内偏移为12位，因此此时页目录号和页号二进制是00 0000 0110B，页内偏移二进制是0000 0000 1000B，所以虚拟地址是0000 0001 1000 0000 0110 0000 0000 1000B，即0180 6008H。</li>
<li>(2). 寄存器PDBR保存的地址是物理地址。进程切换时PDBR的内容会变化，同一进程的线程切换时，PDBR的内容不会变化。每个进程的地址空间、页目录和PDBR的内容存在一一对应的关系。进程切换时, 地址空间发生了变化，对应的页目录及其起始地址也相应变化，因此需要用进程切换后当前进 程的页目录起始地址刷新PDBR。同一进程中的线程共享该进程的地址空间，其线程发生切换 时，地址空间不变，线程使用的页目录不变，因此PDBR的内容也不变。</li>
<li>(3). 为了支持改进型CLOCK置换算法，需要在页表项中设置访问位和修改位字段。</li>
</ul>
<h3 id="46-5">46</h3>
<ul>
<li>(1). 该文件系统能支持的最大文件长度是：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>8</mn><mo>+</mo><mfrac><mrow><mn>4</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><mo>+</mo><mo stretchy="false">(</mo><mfrac><mrow><mn>4</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mfrac><mrow><mn>4</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><msup><mo stretchy="false">)</mo><mn>3</mn></msup><mo stretchy="false">)</mo><mo>×</mo><mn>4</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>32</mn><mi>K</mi><mi>B</mi><mo>+</mo><mn>4</mn><mi>M</mi><mi>B</mi><mo>+</mo><mn>4</mn><mi>G</mi><mi>B</mi><mo>+</mo><mn>4</mn><mi>T</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">(8+\frac{4KB}{4B}+(\frac{4KB}{4B})^2+(\frac{4KB}{4B})^3)\times 4KB=32KB+4MB+4GB+4TB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">32</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">GB</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">TB</span></span></span></span>。</li>
<li>(2). 存放一个5600B的文件需要占用两个簇，因此521M个簇最多可存放256M个这种图像文件。而文件系统用1M个簇存放文件索引节点，索引节点大小为64B，因此一个簇可以存放索引节点个数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>4</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>64</mn><mi>B</mi></mrow></mfrac><mo>=</mo><mn>64</mn></mrow><annotation encoding="application/x-tex">\frac{4KB}{64B}=64</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">64</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">64</span></span></span></span>，因此该文件系统最多有64M个索引节点，即最多可存放64M个文件，因此该文件系统最多能存放64M个图像文件。</li>
<li>(3). 访问两个文件最后一个簇的时间不相同。因为获取文件F1的最后一个簇的簇号只需要访问索引节点的直接地址项，而 获取文件F2的最后一个簇的簇号还需要读一级索引表。</li>
</ul>
<h3 id="47-6">47</h3>
<ul>
<li>(1). 销售部子网的广播地址是192.168.1.127。技术部子网的子网地址是192.168.1.128/25。技术部还可以连接主机台数为: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>126</mn><mo>−</mo><mn>1</mn><mo>−</mo><mo stretchy="false">(</mo><mn>208</mn><mo>−</mo><mn>129</mn><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>45</mn></mrow><annotation encoding="application/x-tex">126-1-(208-129+1)=45</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">126</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">208</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">129</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">45</span></span></span></span>台。</li>
<li>(2). 一个最大IP分片封装数据的字节数为776B。至少需要2个这样的分片。第一个分片的偏移量是0， 第二个分片的偏移量是97</li>
</ul>
<hr>
<h2 id="2017年-2">2017年</h2>
<h3 id="43-7">43</h3>
<ul>
<li>(1). 因为<code>f1</code>中数据为<code>unsigned</code>类型，当n=0时，n-1会发生溢出，其结果是二进制情况下全为1的无符号整数，即为32位无符号整数能表示的最大值，因此<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>≤</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i\le n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7955em;vertical-align:-0.136em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>恒成立，所以<code>f1</code>会出现死循环。若将变量i和n改为<code>int</code>型，则不会出现死循环，因为<code>int</code>型变量可以表示负数，当n=0时，n-1=-1，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>≤</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i\le n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7955em;vertical-align:-0.136em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>不成立，直接跳出循环，所以不会出现死循环。</li>
<li>(2). <code>f1(23)</code>和<code>f2(23)</code>的返回值相等，均为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>24</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{24}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">24</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>。<code>f1(23)</code>的机器数是00FF FFFFH。<code>f2(23)</code>的机器数是4B7FF FFFFH。</li>
<li>(3). 当n=24时，<code>f(24)</code>结果是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>25</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{25}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">25</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，即25个1。而单精度浮点数有效位最多有24位，因此<code>f2(24)</code>返回值进行了舍入，所以与<code>f1(24)</code>不相等。</li>
<li>(4). 因为<code>f1()</code>中sum是int型数据，能表示的最大整数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">31</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，因为当n=31时，计算结过发生溢出，返回值变为-1。若使<code>f1(n)</code>的返回值与<code>f(n)</code>的返回值相等，则n的最大值为30。</li>
<li>(5). 7F80 0000H二进制表示为0111 1111 1000 0000 0000 0000 0000 0000B，阶码全1，尾数全0，因此表示的值是正无穷大。若使<code>f2(n)</code>的结果不溢出，最大的n是126。若使<code>f2(n)</code>的结果精确，最大的n是23。</li>
</ul>
<h3 id="44-7">44</h3>
<ul>
<li>(1). 计算机M是CISC。因为计算机M的指令长短不一。</li>
<li>(2). <code>f1</code>的第一条指令的虚拟地址是00401020H，最后一条指令虚拟地址是0040107FH，最后一条指令长度是1B，因此<code>f1</code>的机器指令代码共占<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0040107</mn><mi>F</mi><mi>H</mi><mo>−</mo><mn>00401020</mn><mi>H</mi><mo>+</mo><mn>1</mn><mo>=</mo><mn>5</mn><mi>F</mi><mi>H</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0040107FH-00401020H+1=5FH+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">0040107</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">00401020</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>即96B。</li>
<li>(3). 当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mi>n</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">i=0, n=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>时，无符号整数n-1结果是1111 1111 1111 1111 1111 1111 1111 1111B，i二进制是0000 0000 0000 0000 0000 0000 0000 0000B，执行<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>−</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">i-(n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>时，计算机的执行过程为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mo stretchy="false">[</mo><mo>−</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub></mrow><annotation encoding="application/x-tex">i+[-(n-1)]_补</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>在硬件电路里相当于将(n-1)所有位取反，载荷i相加，最后加sub位的1，因为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0000</mn><mtext> </mtext><mn>0000</mn><mi>H</mi><mo>+</mo><mn>0000</mn><mtext> </mtext><mn>0000</mn><mi>H</mi><mo>+</mo><mn>1</mn><mo>=</mo><mn>0000</mn><mtext> </mtext><mn>0001</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">0000\ 0000H + 0000\ 0000H +1=0000 \ 0001H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">0000</span><span class="mspace"> </span><span class="mord">0000</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">0000</span><span class="mspace"> </span><span class="mord">0000</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0000</span><span class="mspace"> </span><span class="mord">0001</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>，进位C=0，所以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mi>F</mi><mo>=</mo><mi>S</mi><mi>u</mi><mi>b</mi><mo>⊕</mo><mi>C</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">CF=Sub \oplus C=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">CF</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>.</li>
<li>(4). <code>f2</code>中不能用<code>shl</code>指令实现<code>power*2</code>。因为shi指令用来将一个整数的所有有效数位作为一个整体左移;而<code>f2</code>中的变量<code>power</code>是<code>float</code> 型，其机器数中不包含最高有效数位，但包含了阶码部分，将其作为一个整体左移时并不能 实现“乘2&quot;的功能，因而f2中不能用shl指令实现<code>power*2</code>。</li>
</ul>
<h3 id="45-7">45</h3>
<ul>
<li>(1). 由于函数<code>f1</code>的机器指令的高20位，即虚页号均为00401H，所以其机器指令代码占一页。</li>
<li>(2). 第一条指令的虚拟地址是00401020H,二进制表示是0000 0000 0100 0000 0001 0000 0010 0000B，对应页目录号为0000 0000 01B，页表索引为00 0000 0001B，所以会访问页目录的1号页表项，在对应页表中访问1号表项。</li>
<li>(3). 在执行scanf（）的过程中，进程P因等待输入而从执行态变为阻塞态。输入结束时，P 被中断处理程序唤醒，变为就绪态。P被调度程序调度，变为运行态。CPU状 态会从用户态变为内核态。</li>
</ul>
<h3 id="46-6">46</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore mutex_y1 = <span class="number">1</span>; <span class="comment">// 用于thread1和thread3对y的互斥访问</span></span><br><span class="line">Semaphore mutex_y2 = <span class="number">1</span>; <span class="comment">// 用于thread2和thread3对y的互斥访问</span></span><br><span class="line">Semaphore mutex_z = <span class="number">1</span>; <span class="comment">// 用于thread2和thread3对z的互斥访问</span></span><br><span class="line"></span><br><span class="line">thread1</span><br><span class="line">&#123;</span><br><span class="line">    cnum w;</span><br><span class="line">    P(mutex_y1);</span><br><span class="line">    w = add(x, y);</span><br><span class="line">    V(mutex_y1);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">thread2</span><br><span class="line">&#123;</span><br><span class="line">    cnum w;</span><br><span class="line">    P(mutex_y2);</span><br><span class="line">    P(mutex_z);</span><br><span class="line">    w = add(y, z);</span><br><span class="line">    V(mutex_z);</span><br><span class="line">    V(mutex_y2);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">thread3</span><br><span class="line">&#123;</span><br><span class="line">    cnum w;</span><br><span class="line">    w.a = <span class="number">1</span>;</span><br><span class="line">    w.b = <span class="number">1</span>;</span><br><span class="line">    P(mutex_z);</span><br><span class="line">    z = add(z, w);</span><br><span class="line">    V(mutex_z);</span><br><span class="line">    P(mutex_y1);</span><br><span class="line">    P(mutex_y2);</span><br><span class="line">    y = add(y, w);</span><br><span class="line">    V(mutex_y2);</span><br><span class="line">    V(mutex_y1);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="47-7">47</h3>
<ul>
<li>(1). <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">t_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>时刻到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">t_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>时刻，甲方可断定乙方已经正确接收3个数据帧，分别是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mn>0</mn><mo separator="true">,</mo><mn>0</mn></mrow></msub><mo separator="true">,</mo><msub><mi>S</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>0</mn></mrow></msub><mo separator="true">,</mo><msub><mi>S</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>0</mn></mrow></msub></mrow><annotation encoding="application/x-tex">S_{0, 0}, S_{1,0}, S_{2, 0}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="mpunct mtight">,</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>。</li>
<li>(2). 从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">t_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>时刻起，甲方最多还可以发送5个数据帧。第一个数据帧是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mn>5</mn><mo separator="true">,</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">S_{5,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>，最后一个数据帧是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow></msub></mrow><annotation encoding="application/x-tex">S_{1,2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>(3). 甲方需要重新发送3个数据帧。重发的第一个数据帧是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mn>2</mn><mo separator="true">,</mo><mn>3</mn></mrow></msub></mrow><annotation encoding="application/x-tex">S_{2,3}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>(4).发送序号和确认序号均为3，因此甲方的发送窗口大小为7，则最大信道利用率是：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>7</mn><mo>×</mo><mfrac><mrow><mn>1000</mn><mo>×</mo><mn>8</mn></mrow><mrow><mn>100</mn><mi>M</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow></mfrac></mrow><mrow><mn>0.96</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mrow><mo>−</mo><mn>3</mn></mrow></msup><mo>+</mo><mfrac><mrow><mn>1000</mn><mo>×</mo><mn>8</mn></mrow><mrow><mn>100</mn><mi>M</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow></mfrac><mo>×</mo><mn>2</mn></mrow></mfrac><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>50</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{7\times \frac{1000\times 8}{100Mbps}}{0.96\times 10^{-3}+\frac{1000\times 8}{100Mbps}\times 2}\times 100\%=50\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.9781em;vertical-align:-0.739em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.239em;"><span style="top:-2.599em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.96</span><span class="mbin mtight">×</span><span class="mord mtight">1</span><span class="mord mtight"><span class="mord mtight">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">100</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1000</span><span class="mbin mtight">×</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4829em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mbin mtight">×</span><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.648em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">7</span><span class="mbin mtight">×</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">100</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1000</span><span class="mbin mtight">×</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4829em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.739em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">50%</span></span></span></span></li>
</ul>
<hr>
<h2 id="2016年-2">2016年</h2>
<h3 id="41">41</h3>
<ul>
<li>(1). H3收到的S发送过来的第二次握手TCP段的SYN=1，ACK=1。确认序号是101。</li>
<li>(2). H3收到的第8个确认段所通告的接收窗口是12KB。此时H3的拥塞窗口变为9KB。H3的发送窗口变为9KB。</li>
<li>(3). 当H3的发送窗口等于0时，下一个待发送的数据段序号是20581。H3从发送第一个数据段到发送窗口等于0，经过时间为5个RTT，所以平均数据传输速率是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>20</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>200</mn><mi>m</mi><mi>s</mi><mo>×</mo><mn>5</mn></mrow></mfrac><mo>=</mo><mn>20</mn><mi>K</mi><mi>B</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{20KB}{200ms\times 5}=20KB/s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2757em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">200</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">×</span><span class="mord mtight">5</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">20</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">/</span><span class="mord mathnormal">s</span></span></span></span>。</li>
<li>(4). S释放该连接的最短时间为1.5个RTT即300ms。</li>
</ul>
<h3 id="44-8">44</h3>
<ul>
<li>(1). 每传送一个字符，需要传输1位起始位，7位数据位，1位奇校验位和一位停止位，总共10位。从D接收到启动命令到字符送入I/O端口需要0.5ms，因此一秒最多可向I/O端口送入字符数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>1</mn><mi>s</mi></mrow><mrow><mn>0.5</mn><mi>m</mi><mi>s</mi></mrow></mfrac><mo>=</mo><mn>2000</mn></mrow><annotation encoding="application/x-tex">\frac{1s}{0.5ms}=2000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2000</span></span></span></span>个。</li>
<li>(2). CPU主频为50MHz，则CPU时钟周期为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mrow><mn>50</mn><mi>M</mi></mrow></mfrac><mo>=</mo><mn>20</mn><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{1}{50M}=20ns</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">50</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span>，设备D从启动到字符送入I/O需要0.5ms，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">2.5\times 10^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>个时钟周期，中断响应需要10个时钟周期；CPI为4，中断服务程序共有20条指令，第15条指令启动D工作，因此在第一个字符传输完成后每隔<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup><mo>+</mo><mn>10</mn><mo>+</mo><mn>15</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>2.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup><mo>+</mo><mn>70</mn></mrow><annotation encoding="application/x-tex">2.5\times10^4+10+15\times 4=2.5\times 10^4+70</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">15</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">70</span></span></span></span>个时钟周期完成一个字符的传输，传输第一个字符用时为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup><mo>+</mo><mn>10</mn><mo>+</mo><mn>20</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>2.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup><mo>+</mo><mn>70</mn><mo>+</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">2.5\times 10^4 + 10 + 20\times 4=2.5\times10^4+70+20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">20</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">70</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span></span></span></span>个时钟周期，因此传输1000个字符需要的时钟周期数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2.5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>4</mn></msup><mo>+</mo><mn>70</mn><mo stretchy="false">)</mo><mo>×</mo><mn>1000</mn><mo>+</mo><mn>20</mn><mo>=</mo><mn>25070020</mn></mrow><annotation encoding="application/x-tex">(2.5\times10^4+70)\times 1000 + 20=25070020</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">70</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">20</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">25070020</span></span></span></span>个，CPU用于完成这一任务的时间大约为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>10</mn><mo>+</mo><mn>80</mn><mo stretchy="false">)</mo><mo>×</mo><mn>1000</mn><mo>=</mo><mn>90000</mn></mrow><annotation encoding="application/x-tex">(10+80)\times 1000=90000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">80</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">90000</span></span></span></span>个时钟周期。在中断响应阶段，CPU进行的工作有关中断、保存断点和程序状态、引出中断服务程序。</li>
</ul>
<h3 id="45-8">45</h3>
<ul>
<li>(1). 计算机按字节编址，虚拟地址32位，物理地址24位，页大小为8KB，因此页内偏移为13位，虚页号19位，主存块大小为64B，则块内偏移占6位，Cache数据区大小为64KB，Cache行数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>64</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>64</mn><mi>B</mi></mrow></mfrac><mo>=</mo><mn>1</mn><mi>K</mi></mrow><annotation encoding="application/x-tex">\frac{64KB}{64B}=1K</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">64</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">64</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>，采用2路组相联，因此组数为512，组号占9位，则标记位占24-9-6=9位。所以A：19位，B：19位，C：11位，D：13位，E：9位，F：9位，G：6位。TLB标记字段B中存放的是虚页号。</li>
<li>(2). 4099对应二进制为00 0001 0000 0000 0011,所以组号为0 0000 0011B，即3号，对应H字段为00 0001 000B，即008H。</li>
<li>(3). 缺页处理的时间开销大。因为缺页处理需要访问磁盘，而Cache 缺失只要访问主存。</li>
<li>(4). 因为采用直写策略时需要同时写快速存储器和慢速存储器，而写磁盘比写主存慢很多，所以, 在Cache-主存层次，Cache可以采用直写策略，而在主存-外存（磁盘）层次，修改页面内容时总是采用回写策略。</li>
</ul>
<h3 id="46-7">46</h3>
<ul>
<li>(1). 由于采用了静态优先数，当就绪队列中总有优先数较小的进程时，优先数较大的进程一直没 有机会运行，因而会出现饥饿现象。</li>
<li>(2). 优先数的计算公式为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>i</mi><mi>o</mi><mi>r</mi><mi>i</mi><mi>t</mi><mi>y</mi><mo>=</mo><mi>n</mi><mi>i</mi><mi>c</mi><mi>e</mi><mo>+</mo><msub><mi>k</mi><mn>1</mn></msub><mo>×</mo><mi>c</mi><mi>p</mi><mi>u</mi><mi>T</mi><mi>i</mi><mi>m</mi><mi>e</mi><mo>−</mo><msub><mi>k</mi><mn>2</mn></msub><mo>×</mo><mi>w</mi><mi>a</mi><mi>i</mi><mi>t</mi><mi>T</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">priority=nice+k_1\times cpuTime - k_2\times waitTime</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">ni</span><span class="mord mathnormal">ce</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">p</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">im</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">ai</span><span class="mord mathnormal" style="margin-right:0.13889em;">tT</span><span class="mord mathnormal">im</span><span class="mord mathnormal">e</span></span></span></span>。式中,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mn>1</mn></msub><mo>&gt;</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>k</mi><mn>2</mn></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">k_1 &gt;0, k_2 &gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>,分另0用来调整cpuTime和waitTime在priority中所占的比例。waitTime 可使长时间等待的进程优先数减小，从而避免出现饥饿现象。</li>
</ul>
<h3 id="47-8">47</h3>
<ul>
<li>(1). <code>dir</code>目录文件的内容为：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">文件名</th>
<th style="text-align:center">第一个簇号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">dir1</td>
<td style="text-align:center">48</td>
</tr>
</tbody>
</table>
<p><code>dir1</code>目录文件内容为：</p>
<table>
<thead>
<tr>
<th style="text-align:center">文件名</th>
<th style="text-align:center">第一个簇号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">file1</td>
<td style="text-align:center">100</td>
</tr>
<tr>
<td style="text-align:center">file2</td>
<td style="text-align:center">200</td>
</tr>
</tbody>
</table>
<ul>
<li>(2). 簇号占2B，簇大小为4KB，所以FAT的最大长度是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>16</mn></msup><mo>×</mo><mn>2</mn><mi>B</mi><mo>=</mo><mn>128</mn><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">2^{16}\times 2B=128KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">128</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。文件系统支持的单个文件长度最大为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>16</mn></msup><mo>×</mo><mn>4</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>256</mn><mi>M</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">2^{16}\times 4KB=256MB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">256</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span></span></span></span>。</li>
<li>(3). file1的106号簇存放在100号表项中，108号簇存放在106号表项中。</li>
<li>(4). file1的第5000个字节存放在106号簇，仅FAT和dir目录已经读入内存，因此读文件file1的第5000个字节时，首先需要在内存中访问dir目录找到dir1目录文件对应的簇号为48，然后访问dir1目录文件找到file1的第一个簇号100，再在内存中访问FAT找到106号簇，将对应字节读入内存，因此要访问48号和106号簇。</li>
</ul>
<hr>
<h2 id="2015年-2">2015年</h2>
<h3 id="43-8">43</h3>
<ul>
<li>(1). 图中通用寄存器<code>R0-R3</code>，程序计数器PC程序员可见的。因为该计算机是单总线结构，ALU有两个输入端，若不设置暂存器T，则会导致ALU两端的运算数相同，导致运算出错。</li>
<li>(2). <code>ALUop</code>至少3位，<code>SRop</code>至少2位。</li>
<li>(3). 控制信号<code>SRout</code>所控制的部件的名称是三态门。</li>
<li>(4). 端点1,2,3,5,8须连接到控制部件的输出端。</li>
<li>(5). <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>→</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">6 \rightarrow 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">9</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>→</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">7 \rightarrow 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span>。</li>
<li>(6). 因为计算机采用16位定长指令字，按字节编址，执行指令时PC需要自动指向下一条指令的地址，即执行PC+2，因此二路选择器的输入端2是为了实现PC自动加1的功能。</li>
</ul>
<h3 id="44-9">44</h3>
<ul>
<li>
<p>(1). 指令的操作码字段有7位，最多可以定义128条指令。</p>
</li>
<li>
<p>(2). <code>inc R1</code>，操作码为000 0001B，Md为0，Rd为01B，后6位为0，因此其机器代码为 0000 0010 0100 0000B，即0240H。                                                <code>shl R2,R1</code>，操作码为000 0010B, Md为0，Rd为10B，Ms1为0，Rs1为01B，后三位为0，机器代码是0000 0100 1000 1000B，即0488H。                             <code>sub R3, (R1), R2</code>，操作码是000 0011B，Md为0，Rd为11B，Ms1为1，Rs1为01B，Ms2为0，Rs2为10B，机器代码是0000 0110 1110 1010B，即	    06EAH。</p>
</li>
<li>
<p>(3). 1. 0; 2. mov; 3. mova; 4. left; 5. read; 6. sub; 7. mov; 8. SRout。</p>
</li>
<li>
<p>(4). 指令<code>sub R1,R3,(R2)</code>执行阶段需要4个时钟周期，指令<code>inc R1</code>执行阶段需要2个时钟周期。</p>
</li>
</ul>
<h3 id="45-9">45</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore full_A = x; <span class="comment">// A信箱邮件个数</span></span><br><span class="line">Semaphore full_B = y; <span class="comment">// B信箱邮件个数</span></span><br><span class="line">Semaphore empty_A = M - x; <span class="comment">// A信箱可放邮件个数</span></span><br><span class="line">Semaphore empty_B = N - y; <span class="comment">// B信箱可放邮件个数</span></span><br><span class="line">Semaphore mutex_A = <span class="number">1</span>, mutex_B = <span class="number">1</span>; <span class="comment">// 互斥访问A、B信箱</span></span><br><span class="line"></span><br><span class="line">A &#123;</span><br><span class="line">    <span class="keyword">while</span>(TRUE)</span><br><span class="line">    &#123;</span><br><span class="line">        P(full_A);</span><br><span class="line">        P(mutex_A);</span><br><span class="line">        从A的信箱中取一个邮件;</span><br><span class="line">        V(mutex_A);</span><br><span class="line">        V(empty_A);</span><br><span class="line">        回答问题并提出一个新问题;</span><br><span class="line">        P(empty_B);</span><br><span class="line">        P(mutex_B);</span><br><span class="line">        将新邮件放入B信箱;</span><br><span class="line">        V(mutex_B);</span><br><span class="line">        V(full_B);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">B &#123;</span><br><span class="line">    <span class="keyword">while</span>(TRUE)</span><br><span class="line">    &#123;</span><br><span class="line">        P(full_B);</span><br><span class="line">        P(mutex_B);</span><br><span class="line">        从B的信箱中取一个邮件;</span><br><span class="line">        V(mutex_B);</span><br><span class="line">        V(empty_B);</span><br><span class="line">        回答问题并提出一个新问题;</span><br><span class="line">        P(empty_A);</span><br><span class="line">        P(mutex_A);</span><br><span class="line">        将新邮件放入A信箱;</span><br><span class="line">        V(mutex_A);</span><br><span class="line">        V(full_A);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="46-8">46</h3>
<ul>
<li>(1). 页内偏移占12位，系统按字节编址，因此页和也框的大小均为4KB。虚拟地址32位，虚页号占20位，因此进程的虚拟地址空间大小为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>20</mn></msup></mrow><annotation encoding="application/x-tex">2^{20}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span></span></span></span></span></span></span></span>页。</li>
<li>(2). 页目录号和页表索引均为10位，因此页目录占用空间大小为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>B</mi><mo>×</mo><msup><mn>2</mn><mn>10</mn></msup><mo>=</mo><mn>4</mn><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">4B\times 2^{10}=4KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>，占1页，每个页表也占4KB，有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>10</mn></msup></mrow><annotation encoding="application/x-tex">2^{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span></span></span></span></span></span></span></span>个页表，因此页表占1024页，所以页目录和页表共占1025页。</li>
<li>(3). 因为虚拟地址0100 0000H和0111 2048H的高10位即页目录号均为 0000 0001 00B，因此共访问一个二级页表。</li>
</ul>
<h3 id="47-9">47</h3>
<ul>
<li>(1). DHCP服务器可为主机2-主机N动态分配的IP地址最大范围是111.123.15.5–111.123.15.254。发送封装DHCP发现报文的IP分组的源IP地址是0.0.0.0，目的IP地址是255.255.255.255</li>
<li>(2). 发出的第一个以太网帧的目的MAC地址是FF-FF-FF-FF-FF-FF。封装主机2发往Internet的IP分组的以太网帧的目的MAC地址是00-a1-a1-a1-a1-a1。</li>
<li>(3). 主机1能够访问WWW服务器，不能访问Internet。由于主机1的子网掩码配 置正确而默认网关IP地址被错误地配置为111.123.15.2 （正确IP地址是111.123.15.1）,所以 主机1可以访问在同一个子网内的WWW服务器，但当主机1访问Internet时，主机1发出 的IP分组会被路由到错误的默认网关（111.123.15.2）,从而无法到达目的主机。</li>
</ul>
<hr>
<h2 id="2014年-2">2014年</h2>
<h3 id="43-9">43</h3>
<ul>
<li>(1).</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">目的网络</th>
<th style="text-align:center">下一跳</th>
<th style="text-align:center">接口</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">192.1.1.0/24</td>
<td style="text-align:center">直连</td>
<td style="text-align:center">E0</td>
</tr>
<tr>
<td style="text-align:center">192.1.5.0/24</td>
<td style="text-align:center">10.1.1.10</td>
<td style="text-align:center">L1</td>
</tr>
<tr>
<td style="text-align:center">192.1.6.0/23</td>
<td style="text-align:center">10.1.1.2</td>
<td style="text-align:center">L0</td>
</tr>
</tbody>
</table>
<ul>
<li>(2). R1通过接口L0转发该IP分组。主机192.1.7.211收到的IP分组TTL是61。</li>
<li>(3). R1的LSI需要增加一条直连网络，增加Prefix：0.0.0.0/0；Metric为：10。</li>
</ul>
<h3 id="44-10">44</h3>
<ul>
<li>(1). 由于相邻两条机器代码的地址相差4，且指令字长为32位，因此M的存储器编址单位是字节。</li>
<li>(2). 表中<code>sll</code>指令左移2位，因此数组A中每个元素占32位。</li>
<li>(3). 表中<code>bne</code>指令<code>OFFSET</code>字段为FFFAH，补码表示，十进制值为-6。执行<code>bne</code>指令时，PC自动指向下一条指令，即PC值为0804 8118H，执行后跳转到第一条指令执行，则PC值应变为0804 8100H，二者相差18H，即24.而OFFSET值为-6，因此转移目标地址计算公式为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>P</mi><mi>C</mi><mo stretchy="false">)</mo><mo>+</mo><mn>4</mn><mo>+</mo><mi>O</mi><mi>F</mi><mi>F</mi><mi>S</mi><mi>E</mi><mi>T</mi><mo>&lt;</mo><mo>&lt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">(PC)+4+OFFSET&lt;&lt;2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">PC</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">OFFSET</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>.</li>
<li>(4). 由于数据相关发生流水线阻塞的指令编号为2、3、4、6；编号6的指令会发生控制冒险。因为指令6会发生控制冒险，插入3个时钟周期的阻塞，消除了指令5和指令1的数据相关。</li>
</ul>
<h3 id="45-10">45</h3>
<ul>
<li>(1). 由于(R6)=1000,因此P执行结束时，R2的内容是1000.</li>
<li>(2). 因为指令Cache共有16行，和主存块交换的块大小是32B，因此数据区的容量是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mo>×</mo><mn>32</mn><mi>B</mi><mo>=</mo><mn>512</mn><mi>B</mi></mrow><annotation encoding="application/x-tex">16\times32B=512B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">32</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">512</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。指令字长为4B，因此一个Cache行可存放8条指令，程序P有6条指令，只有在第一次访问第一条指令时发生Cache缺失，程序循环执行了1000次。因此Cache的命中率是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>1000</mn><mo>×</mo><mn>6</mn><mo>−</mo><mn>1</mn></mrow><mrow><mn>1000</mn><mo>×</mo><mn>6</mn></mrow></mfrac><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>99.98</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{1000\times6-1}{1000\times 6}\times 100 \%=99.98\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2484em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000</span><span class="mbin mtight">×</span><span class="mord mtight">6</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000</span><span class="mbin mtight">×</span><span class="mord mtight">6</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">99.98%</span></span></span></span>。</li>
<li>(3). 第4条指令执行可能发生溢出异常。第3条指令执行可能发生缺页异常。因为只有第4条指令执行的是<code>sum+=A[i]</code>，可能会发生溢出。而数组元素存放一个页中，且磁盘同一扇区，因此只有第一次访问数组元素时发生缺页，所以第3条指令加载数组元素的值可能会发生缺页异常。由于只有第一次访问数组元素时会发生缺页，因此需要读磁盘一次。而进行1000次访问，每次都需要读TLB一次，且第一次读数组元素时发生缺页，进行缺页处理后重新执行指令需要读取一次TLB，因此一共读TLB 1001次。</li>
</ul>
<h3 id="46-9">46</h3>
<ul>
<li>
<p>(1). 因为文件系统采用连续分配方式，F存储区域前后均有足够的空闲磁盘空间，因此为使访问磁盘次数最少，则应在F存储区域的前边进行插入。首先需要将前29条记录进行前移，这个过程中读取记录内容访问一次磁盘，然后将内容重新写入前边的空闲区域访问一次磁盘，总共访问58次磁盘，最后将新记录查如第30条记录的位置，访问一次磁盘，因此一共访问59次磁盘。<strong>F的文件控制块的起始块号和文件长度会发生改变</strong>。</p>
</li>
<li>
<p>(2). 文件系统采用链接分配时，首先需要访问前29条记录找到新记录要插入的位置，访问了29次磁盘，然后需要将第29条记录读入内存，修改其链接指针内容为新记录的地址，而新记录的指针内容是原来第29条记录的指针内容，最后将第29条记录写回磁盘，将第30条记录存入磁盘分配的空闲区域，访问2次磁盘，因此一共访问31次磁盘。</p>
<p>每个存储块的大小为1KB，链接指针为4B，因此文件系统支持的文件最大长度是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1024</mn><mi>B</mi><mo>−</mo><mn>4</mn><mi>B</mi><mo stretchy="false">)</mo><mo>×</mo><msup><mn>2</mn><mn>32</mn></msup><mo>=</mo><mn>4080</mn><mi>G</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">(1024B-4B)\times 2^{32}=4080GB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1024</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4080</span><span class="mord mathnormal" style="margin-right:0.05017em;">GB</span></span></span></span>。</p>
</li>
</ul>
<h3 id="47-10">47</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore mutex = <span class="number">1</span>; <span class="comment">// 实现互斥访问缓冲区</span></span><br><span class="line">Semaphore full = <span class="number">0</span>; <span class="comment">// 缓冲区中产品数量</span></span><br><span class="line">Semaphore empty = <span class="number">1000</span>; <span class="comment">// 缓冲区空闲位置数量</span></span><br><span class="line">Semaphore mutex1 = <span class="number">1</span>; <span class="comment">// 用于实现消费者互斥连续取10件产品</span></span><br><span class="line"></span><br><span class="line">生产者 &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        生产一个产品;</span><br><span class="line">        P(empty);</span><br><span class="line">        P(mutex);</span><br><span class="line">        将产品放入缓冲区;</span><br><span class="line">        V(mutex);</span><br><span class="line">        V(full);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">消费者 &#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        P(mutex1); <span class="comment">// 连续取10次</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            P(full);</span><br><span class="line">            P(mutex);</span><br><span class="line">            取一件产品;</span><br><span class="line">            V(mutex);</span><br><span class="line">            V(empty);</span><br><span class="line">        &#125;</span><br><span class="line">        V(mutex1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="2013年-2">2013年</h2>
<h3 id="43-10">43</h3>
<ul>
<li>(1). CPU的主频是800MHz，则CPU的时钟周期是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mrow><mn>800</mn><mi>M</mi></mrow></mfrac><mi>s</mi><mo>=</mo><mn>1.25</mn><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{1}{800M}s=1.25ns</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">800</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.25</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span>；总线时钟频率是200MHz，则总线时钟周期是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mrow><mn>200</mn><mi>M</mi></mrow></mfrac><mi>s</mi><mo>=</mo><mn>5</mn><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{1}{200M}s=5ns</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">200</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span>。总线宽度为32位，因此总线带宽是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>32</mn><mi>b</mi></mrow><mrow><mn>5</mn><mi>n</mi><mi>s</mi></mrow></mfrac><mo>=</mo><mn>800</mn><mi>M</mi><mi>B</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{32b}{5ns}=800MB/s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">800</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span><span class="mord">/</span><span class="mord mathnormal">s</span></span></span></span>。</li>
<li>(2). Cache的块大小为32B，一次突发传送32B数据，因此需要用一个读突发传送事务来完成一个主存块的读取。</li>
<li>(3). 存储器完成一次读突发传送总线事务过程中，传送地址用一个总线周期，存储器准备数据用40ns，之后连续传输8次，花费8个总线周期，因此所需的时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi>n</mi><mi>s</mi><mo>+</mo><mn>40</mn><mi>n</mi><mi>s</mi><mo>+</mo><mn>5</mn><mi>n</mi><mi>s</mi><mo>×</mo><mn>8</mn><mo>=</mo><mn>85</mn><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">5ns+40ns+5ns\times8=85ns</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">40</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">85</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span>。</li>
<li>(4). Cache命中时的CPI为4，因此访问Cache命中时执行一条指令时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.25</mn><mi>n</mi><mi>s</mi><mo>×</mo><mn>4</mn><mo>=</mo><mn>5</mn><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">1.25ns\times4=5ns</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.25</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span>。BP的CPU执行时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mo>×</mo><mn>5</mn><mi>n</mi><mi>s</mi><mo>+</mo><mn>100</mn><mo>×</mo><mn>1.2</mn><mo>×</mo><mn>0.05</mn><mo>×</mo><mn>85</mn><mi>n</mi><mi>s</mi><mo>=</mo><mn>1100</mn><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">100\times 5ns + 100\times 1.2 \times 0.05 \times 85ns=1100ns</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">100</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.05</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">85</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1100</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span>。（<mark>命中的时候CPI是4，也就是说一条指令执行的所有时间是4个时钟周期，未命中的时候需要进行Cache缺失处理，处理完还要去Cache里访问，所以就是100条指令的执行时间加上Cache缺失的处理时间</mark>）</li>
</ul>
<h3 id="44-11">44</h3>
<ul>
<li>(1). 指令为16位定长指令，转移目标地址计算公式为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>P</mi><mi>C</mi><mo stretchy="false">)</mo><mo>+</mo><mn>2</mn><mo>+</mo><mn>2</mn><mo>×</mo><mi>O</mi><mi>F</mi><mi>F</mi><mi>S</mi><mi>E</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">(PC)+2+2\times OFFSET</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">PC</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">OFFSET</span></span></span></span>，因此该计算机存储器按字节编址。<code>OFFSET</code>字段占8位，补码表示范围为-128~127, 转移指令执行是PC自动指向下一条指令，因此该条件转移指令反向最多可跳转127条指令。</li>
<li>(2). 指令中C=0, Z=1, N=1，因此需要检查ZF和NF，当CF=0，ZF=0，NF=1时，发生转移，指令执行后PC的值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>200</mn><mi>C</mi><mi>H</mi><mo>+</mo><mn>2</mn><mo>+</mo><mn>11100011</mn><mi>B</mi><mo>×</mo><mn>2</mn><mo>=</mo><mn>1</mn><mi>F</mi><mi>D</mi><mn>4</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">200CH+2+11100011B\times2=1FD4H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">200</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">11100011</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。当CF=1，ZF=0，NF=0时，指令不发生转移，因此指令执行后PC的值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>200</mn><mi>C</mi><mi>H</mi><mo>+</mo><mn>2</mn><mo>=</mo><mn>200</mn><mi>E</mi><mi>H</mi></mrow><annotation encoding="application/x-tex">200CH+2=200EH</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">200</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">200</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。</li>
<li>(3). 实现无符号数比较小于等于转移时，C=1，Z=1，N=0。</li>
<li>(4). <span style="font-size:17.5px; ">①</span>：指令寄存器；<span style="font-size:17.5px; ">②</span>：移位寄存器；<span style="font-size:17.5px; ">③</span>：加法器。</li>
</ul>
<h3 id="45-11">45</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore mutex = <span class="number">1</span>; <span class="comment">// 实现互斥进出门</span></span><br><span class="line">Semaphore empty = <span class="number">500</span>; <span class="comment">// 博物馆可容纳的人数</span></span><br><span class="line"></span><br><span class="line">cobegin</span><br><span class="line">    参观者进程i</span><br><span class="line">	&#123;</span><br><span class="line">    	...</span><br><span class="line">        P(empty);</span><br><span class="line">    	P(mutex);</span><br><span class="line">    	进门;</span><br><span class="line">    	V(mutex);</span><br><span class="line">    	参观;</span><br><span class="line">    	P(mutex);</span><br><span class="line">    	出门;</span><br><span class="line">    	V(mutex);</span><br><span class="line">    	V(empty);</span><br><span class="line">    	...</span><br><span class="line">	&#125;</span><br><span class="line">coend</span><br></pre></td></tr></table></figure>
<h3 id="46-10">46</h3>
<ul>
<li>(1). 页内偏移量占12位，主存按字节编址，因此页的大小是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>12</mn></msup><mi>B</mi><mo>=</mo><mn>4</mn><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">2^{12}B=4KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。页号占20位，页表项大小为4字节，所以页表最大占用空间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>20</mn></msup><mo>×</mo><mn>4</mn><mi>B</mi><mo>=</mo><mn>4</mn><mi>M</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">2^{20}\times 4B=4MB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span></span></span></span>。</li>
<li>(2). 页目录号表达式为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>L</mi><mi>A</mi><mo stretchy="false">)</mo><mtext> </mtext><mo>&gt;</mo><mo>&gt;</mo><mtext> </mtext><mn>22</mn><mo stretchy="false">)</mo><mtext> </mtext><mi mathvariant="normal">&amp;</mi><mtext> </mtext><mn>0</mn><mi>x</mi><mn>3</mn><mi>F</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">((LA) \ &gt;&gt; \ 22) \ \&amp; \ 0x3FF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">((</span><span class="mord mathnormal">L</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;&gt;</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">22</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord">&amp;</span><span class="mspace"> </span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.13889em;">FF</span></span></span></span>;页表索引的表达式为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>L</mi><mi>A</mi><mo stretchy="false">)</mo><mtext> </mtext><mo>&gt;</mo><mo>&gt;</mo><mtext> </mtext><mn>12</mn><mo stretchy="false">)</mo><mtext> </mtext><mi mathvariant="normal">&amp;</mi><mtext> </mtext><mn>0</mn><mi>x</mi><mn>3</mn><mi>F</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">((LA) \ &gt;&gt; \ 12) \ \&amp;\ 0x3FF</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">((</span><span class="mord mathnormal">L</span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;&gt;</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">12</span><span class="mclose">)</span><span class="mspace"> </span><span class="mord">&amp;</span><span class="mspace"> </span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.13889em;">FF</span></span></span></span>。</li>
<li>(3). 起始逻辑地址是0000 8000H，所以页内偏移为000H，页号为0000 8H，因为一个页表项大小为4B，所以第一个页表项的物理地址是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0020</mn><mtext> </mtext><mn>0000</mn><mi>H</mi><mo>+</mo><mn>8</mn><mo>×</mo><mn>4</mn><mo>=</mo><mn>0020</mn><mtext> </mtext><mn>0020</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">0020\ 0000H + 8 \times 4=0020 \ 0020H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">0020</span><span class="mspace"> </span><span class="mord">0000</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0020</span><span class="mspace"> </span><span class="mord">0020</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span> ,则第二个页表项的物理地址是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0020</mn><mtext> </mtext><mn>0020</mn><mi>H</mi><mo>+</mo><mn>4</mn><mo>=</mo><mn>0020</mn><mtext> </mtext><mn>0024</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">0020 \ 0020H + 4=0020\ 0024H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">0020</span><span class="mspace"> </span><span class="mord">0020</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0020</span><span class="mspace"> </span><span class="mord">0024</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>。由于第一个代码页面的物理地址是0090 0000H，对应的也框号为00900H，所以页框号1为00900H，一个页面大小为4KB，所以代码页面2的起始物理地址是0090 1000H，则页框号2为00901H。</li>
</ul>
<h3 id="47-11">47</h3>
<ul>
<li>(1). R2的路由表为</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">目的网络</th>
<th style="text-align:center">下一跳</th>
<th style="text-align:center">接口</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">194.17.20.128/25</td>
<td style="text-align:center">直连</td>
<td style="text-align:center">E0</td>
</tr>
<tr>
<td style="text-align:center">194.17.20.0/23</td>
<td style="text-align:center">194.17.24.2</td>
<td style="text-align:center">S1</td>
</tr>
<tr>
<td style="text-align:center">153.14.5.0/24</td>
<td style="text-align:center">153.14.3.2</td>
<td style="text-align:center">S0</td>
</tr>
</tbody>
</table>
<ul>
<li>(2). 根据最长匹配原则，该IP地址与194.17.20.128/25匹配，因此通过E0接口转发该分组。</li>
<li>(3). R1和R2之间利用BGP协议交换路由信息。该路由协议被封装到TCP的分组中进行传输。</li>
</ul>
<hr>
<h2 id="2012年-2">2012年</h2>
<h3 id="43-11">43</h3>
<ul>
<li>(1). 计算机的CPU主频为80MHz，CPI为4，则一秒可以执行指令条数为20M条，所以MIPS数是20。平均每条指令访存1.5次，Cache的命中率为99%，所以平均每秒Cache缺失次数是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup><mo>×</mo><mn>1.5</mn><mo>×</mo><mn>1</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>3</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">20\times 10^6 \times1.5 \times 1\%=3\times 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">20</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">1%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>次。主存与Cache之间交换的块大小是16B，因此主存带宽至少为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mi>B</mi><mo>×</mo><mn>3</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mi>B</mi><mi mathvariant="normal">/</mi><mi>s</mi><mo>=</mo><mn>4.8</mn><mi>M</mi><mi>B</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">16B\times 3\times 10^5B/s=4.8MB/s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">16</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord">/</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4.8</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span><span class="mord">/</span><span class="mord mathnormal">s</span></span></span></span>。</li>
<li>(2). CPU每秒Cache缺失次数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">3\times 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，所以平均每秒产生缺页异常次数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo>×</mo><mn>0.0005</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>1.5</mn></mrow><annotation encoding="application/x-tex">3\times 10^5 \times 0.0005\%=1.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">0.0005%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.5</span></span></span></span>次。平均每秒需要从磁盘传送数据为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mi>K</mi><mi>B</mi><mo>×</mo><mn>1.5</mn><mo>=</mo><mn>6</mn><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">4KB\times 1.5=6KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">6</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>, 每次DMA请求传送数据32位，因此每秒I/O接口发出的DMA请求次数至少是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>6</mn><mi>K</mi><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><mo>=</mo><mn>1536</mn></mrow><annotation encoding="application/x-tex">\frac{6KB}{4B}=1536</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1536</span></span></span></span>次。</li>
<li>(3). DMA控制器的优先级更高。因为如果DMA请求不能得到及时响应，可能会造成数据丢失。</li>
<li>(4). 主存能提供的最大带宽是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mfrac><mrow><mn>4</mn><mi>B</mi></mrow><mrow><mn>50</mn><mi>n</mi><mi>s</mi></mrow></mfrac><mo>=</mo><mn>320</mn><mi>M</mi><mi>B</mi><mi mathvariant="normal">/</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">4\times \frac{4B}{50ns}=320MB/s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">50</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">320</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span><span class="mord">/</span><span class="mord mathnormal">s</span></span></span></span></li>
</ul>
<h3 id="44-12">44</h3>
<ul>
<li>(1). <code>int</code>型变量-513二进制表示为：1111 1101 1111 1111B，执行算数右移指令后，结果是1111 1110 1111 1111B，所以R1的内容是FEFFH。</li>
<li>(2). 所需的时钟周期数是8</li>
<li>(3). <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">I_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的<code>ID</code>段阻塞是因为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">I_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>与<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>2</mn></msub><mtext>、</mtext><msub><mi>I</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">I_2、I_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">、</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>发生数据相关，需要等数据写会寄存器后才能继续执行。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">I_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的<code>IF</code>段阻塞是因为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">I_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的<code>ID</code>段阻塞，需要等其执行完后才能执行<code>IF</code>段。</li>
<li>对应指令序列为：</li>
</ul>
<p>​	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">I_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>        LOAD                R1, [x]</p>
<p>​	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">I_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>        LOAD                R2, [a]</p>
<p>​	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">I_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>        SHL                   R1</p>
<p>​	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">I_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>        ADD                  R1, R2</p>
<p>​	<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">I_5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>        STORE              R2, [x]</p>
<p>流水线执行过程为：</p>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center">时</th>
<th style="text-align:center">间</th>
<th style="text-align:center">单</th>
<th style="text-align:center">元</th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">指令</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">3</td>
<td style="text-align:center">4</td>
<td style="text-align:center">5</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center">8</td>
<td style="text-align:center">9</td>
<td style="text-align:center">10</td>
<td style="text-align:center">11</td>
<td style="text-align:center">12</td>
<td style="text-align:center">13</td>
<td style="text-align:center">14</td>
<td style="text-align:center">15</td>
<td style="text-align:center">16</td>
<td style="text-align:center">17</td>
</tr>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">I_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center">IF</td>
<td style="text-align:center">ID</td>
<td style="text-align:center">EX</td>
<td style="text-align:center">M</td>
<td style="text-align:center">WB</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">I_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"></td>
<td style="text-align:center">IF</td>
<td style="text-align:center">ID</td>
<td style="text-align:center">EX</td>
<td style="text-align:center">M</td>
<td style="text-align:center">WB</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">I_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">IF</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">ID</td>
<td style="text-align:center">EX</td>
<td style="text-align:center">M</td>
<td style="text-align:center">WB</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">I_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">IF</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">ID</td>
<td style="text-align:center">EX</td>
<td style="text-align:center">M</td>
<td style="text-align:center">WB</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">I_5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">IF</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">ID</td>
<td style="text-align:center">EX</td>
<td style="text-align:center">M</td>
<td style="text-align:center">WB</td>
</tr>
</tbody>
</table>
<p>所以，至少需要17个时钟周期。</p>
<h3 id="45-12">45</h3>
<ul>
<li>(1). 访问&lt;0, 4&gt;时，对应的页框号是21.</li>
<li>(2). 访问&lt;1, 11&gt;时，对应的页框号是32。因为，在时刻11，发生了第三轮扫描，虚页号1对应的页框在第一轮中分配了页框32，上轮中没有访问，存储到了空闲链表中，因此此时可以从空闲链表中取回，对应的页框号是32.</li>
<li>(3). 访问&lt;2, 14&gt;时，对应的页框号是41。因为按照题中访问顺序，在第一轮中&lt;1, 1&gt;, &lt;3, 2&gt;, &lt;0, 4&gt;依次分配页框号为32， 15，21，在第二轮中访问了虚拟页号0，第三轮访问了虚拟页号1，此时空闲链表头对应的也框号是41，因此分配给2号虚页。</li>
<li>(4). 适合。如果程序的时间局部性越好，从空闲页框链表中重新取回的机会越大，该策略的优势越明显。</li>
</ul>
<h3 id="46-11">46</h3>
<ul>
<li>(1). 文件系统的最大容量是4TB，磁盘块大小是1KB，所以磁盘块个数为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>4</mn><mi>T</mi><mi>B</mi></mrow><mrow><mn>1</mn><mi>K</mi><mi>B</mi></mrow></mfrac><mo>=</mo><msup><mn>2</mn><mn>32</mn></msup></mrow><annotation encoding="application/x-tex">\frac{4TB}{1KB}=2^{32}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight" style="margin-right:0.07153em;">K</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">TB</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span></span></span></span></span></span></span></span>，所以块号至少占32位，即索引表项总块号最少占4字节。索引表区大小为512B，所以索引表项最多有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>512</mn><mi>B</mi></mrow><mrow><mn>4</mn><mi>B</mi></mrow></mfrac><mo>=</mo><mn>128</mn></mrow><annotation encoding="application/x-tex">\frac{512B}{4B}=128</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">512</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">128</span></span></span></span>个，因此单个文件最大长度是128KB。</li>
<li>(2). 块数占2B，504B直接索引，一个索引表项占6B，所以单个文件最大长度是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msup><mn>2</mn><mn>16</mn></msup><mo>+</mo><mfrac><mrow><mn>504</mn><mi>B</mi></mrow><mrow><mn>6</mn><mi>B</mi></mrow></mfrac><mo stretchy="false">)</mo><mo>×</mo><mn>1</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>64</mn><mi>M</mi><mi>B</mi><mo>+</mo><mn>84</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>65620</mn><mi>K</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">(2^{16} + \frac{504B}{6B})\times1KB=64MB+84KB=65620KB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">504</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">64</span><span class="mord mathnormal" style="margin-right:0.05017em;">MB</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">84</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">65620</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。文件系统最多有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>32</mn></msup></mrow><annotation encoding="application/x-tex">2^{32}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">32</span></span></span></span></span></span></span></span></span></span></span></span>个磁盘块，因此当块数可表示所有磁盘块，即块数占4B时，可表示的单个文件长度最大，此时起始块号占4B。</li>
</ul>
<h3 id="47-12">47</h3>
<ul>
<li>(1). 编号1,3,4是由H发送的。编号1,2,3IP分组完成了TCP连接建立过程。编号3,5的IP分组在通过快速以太网传输时进行了填充。</li>
<li>(2). 表中前三条IP分组完成了TCP连接的建立，从第3条分组开始可以向S发送数据，其中，第5个分组是S发送的分组，其确认序号是846b 41d6H，对应H发送的分组中序号是846b 41c6H，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>846</mn><mi>B</mi><mtext> </mtext><mn>41</mn><mi>D</mi><mn>6</mn><mi>H</mi><mo>−</mo><mn>846</mn><mi>B</mi><mtext> </mtext><mn>41</mn><mi>C</mi><mn>6</mn><mi>H</mi><mo>=</mo><mn>10</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">846B\ 41D6H - 846B \ 41C6H=10H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">846</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace"> </span><span class="mord">41</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord">6</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">846</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace"> </span><span class="mord">41</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord">6</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">10</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>,所以S已经收到应用层数据为16B。</li>
<li>(3). 该IP分组发出前TTL字段为40H，H收到后对应的TTL字段为31H，40H-31H=15。所以经过了15个路由器。</li>
</ul>
<hr>
<h2 id="2011年-2">2011年</h2>
<h3 id="43-12">43</h3>
<ul>
<li>(1). R1内容是86H；R5内容是90H；R6的内容是7CH。</li>
<li>(2). 变量m的二进制为1000 0110B，补码表示的十进制数为-122；k1结果是m-n，n的二进制数为1111 0110，所以k1计算结果是1000 0110 + 0000 1001 + 1 = 1001 0000B，十进制数为-112。</li>
<li>(3). 能用一个加法器辅助电路实现。n位加法器实现的是模<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span>无符号整数加法运算。对于无符号整数a和b, a + b可以直接用加法器实现，而a-b可用a加b的补数实现，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>−</mo><mi>b</mi><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy="false">[</mo><mo>−</mo><mi>b</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mi>m</mi><mi>o</mi><mi>d</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">a-b = a +[-b]_补 mod(2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ,所以n位无符 号整数加/减运算都可在n位加法器中实现。 由于带符号整数用补码表示，补码加/减运算公式为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>a</mi><mo>+</mo><mi>b</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>a</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mi>b</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo separator="true">,</mo><mo stretchy="false">[</mo><mi>a</mi><mo>−</mo><mi>b</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><msub><mi>a</mi><mtext>补</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mo>−</mo><mi>b</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub></mrow><annotation encoding="application/x-tex">[a+b]_补=[a]_补+[b]_补, [a-b]_补=a_补+[-b]_补</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,所以n位带符号整数加减运算都可在n位加法器中实现。</li>
<li>(4). 计算机内部判断是否溢出：加法器最高位进位和次高位进位相异或，结果是1发生溢出，结果是0没有溢出。上述程序段中，最后一条运算语句执行结果发生溢出。</li>
</ul>
<h3 id="44-13">44</h3>
<ul>
<li>(1). 存储器按字节编址，虚拟地址空间大小是16MB，所以虚拟地址共24位，页面大小为4KB，则页内偏移占12位，所以高12位表示虚页号。物理地址空间大小是1MB，所以物理地址20位，高8位表示页框号。</li>
<li>(2). 访问Cache时，物理地址应划分为标记字段、Cache行号、块内偏移3个字段。主存与Cache交换的块大小是32B，所以块内偏移占5位，即0-4位表示块内偏移，Cache有8行，采用直接映射，因此行号占3位，即5-7位表示Cache行号，那么，标记占12位，所以8-19位表示Cache行号。</li>
<li>(3). 虚拟地址001C60H二进制表示为0000 0000 0001 1100 0110 0000B，所以页内偏移为C60H, 虚页号为001H，从页表可知对应的页表项有效位为1，页框号为04H，因此该页面在主存中，对应的物理地址是04C60H，即0000 0100 1100 0110 0000B，对应的块内偏移为00000B，Cache行号为011B，即为3, 标记为0000 0100 1100B，即04CH, 而Cache中行号3对应的标记为105H，因此该地址内容不在Cache中。</li>
<li>(4). TLB采用4路组相联，有8个页表项时，TLB组号占1位，虚拟地址024BACH对应的页内偏移为BACH，高12位二进制为0000 0010 0100B，对应TLB组号为0，标记为0000 0010 010B，即012H，从TLB中可知，0组中标记012H对应的有效位为1，TLB命中，所以该页面在主存中。</li>
</ul>
<h3 id="45-13">45</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore mutex = <span class="number">1</span>; <span class="comment">// 互斥使用取号机</span></span><br><span class="line">Semaphore empty = <span class="number">10</span>; <span class="comment">// 空座位个数</span></span><br><span class="line">Semaphore full = <span class="number">0</span>; <span class="comment">// 等待服务的顾客</span></span><br><span class="line">Semaphore service = <span class="number">0</span>; <span class="comment">// 等待叫号</span></span><br><span class="line"></span><br><span class="line">cobegin</span><br><span class="line">&#123;</span><br><span class="line">    process 顾客i</span><br><span class="line">    &#123;</span><br><span class="line">        P(empty);</span><br><span class="line">        p(mutex);</span><br><span class="line">        从取号机获取一个号码;</span><br><span class="line">        V(mutex);</span><br><span class="line">        V(full);</span><br><span class="line">        P(service); <span class="comment">// 等待叫号</span></span><br><span class="line">    &#125;</span><br><span class="line">    process 营业员</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            P(full);</span><br><span class="line">            V(empty);</span><br><span class="line">            V(service); <span class="comment">// 叫号</span></span><br><span class="line">            为顾客服务;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="46-12">46</h3>
<ul>
<li>(1). 采用连续存放合适，因为文件数据一次性写入数据，已经写入的数据不可以修改，但可以多次创建新文件，因此采用连续存储寻道时间更短，随机访问效率更高。在FCB中设计起始块号和块数字段</li>
<li>(2). FCB集中存储好。因为FCB集中存储时，访问对应的文件时，只需要根据文件名查询FCB找到对应的块，可以减少访问磁盘的次数，访问效率高。</li>
</ul>
<h3 id="47-13">47</h3>
<ul>
<li>(1). Web服务器的IP地址是64.176.98.32，默认网关的MAC地址是00-21-27-21-51-ee。</li>
<li>(2). 使用ARP协议确定目的MAC地址。封装该协议请求报文的以太网帧的目的MAC地址是ff-ff-ff-ff-ff-ff。</li>
<li>(3). 需要7个RTT。</li>
<li>(4). 需要修改IP分组头中的源IP地址、TTL和头部校验和。</li>
</ul>
<hr>
<h2 id="2010年-2">2010年</h2>
<h3 id="43-13">43</h3>
<ul>
<li>(1). 指令的OP字段占4位，因此该指令系统最多可有16条指令。指令中寄存器编号占3位，因此最多有8个通用寄存器。主存地址空间大小为128KB，按字编址，字长为2B，因此MAD至少需要16位，MDR至少需要16位。</li>
<li>(2). 转移地址计算公式为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>P</mi><mi>C</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>R</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(PC)+(Rn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">PC</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，通用寄存器有16位，可表示的补码数据范围为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>15</mn></msup></mrow><annotation encoding="application/x-tex">-2^{15}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span></span></span></span></span></span></span></span>到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>15</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{15}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">15</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，而PC的内容可以是0到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>16</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2^{16}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>，主存地址空间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>16</mn></msup></mrow><annotation encoding="application/x-tex">2^{16}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span></span></span></span>，所以转移目标指令的目标地址 范围为0000H-FFFFH。</li>
<li>(3). 对应的机器码为0010 0011 0001 0101B，即2315H。该指令执行后，R5的内容和存储单元5678H的内容会改变。R5的内容变为5679H，内存单元5678的内容变为68ACH。</li>
</ul>
<h3 id="44-14">44</h3>
<ul>
<li>(1). 不考虑用于Cache一致性维护和替换算法的控制位，Cache行大小为64B，数据位64B，则块内偏移占6位，主存地址空间大小为256MB，所以地址长度为28位，Cache采用直接映射，有8个Cache行，则行号占3位，标记位占28-6-3=19位，所以一个Cache行的组成包括：一位有效位，19位标记，64B数据；Cache的总容量为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mfrac><mrow><mn>19</mn><mo>+</mo><mn>1</mn></mrow><mn>8</mn></mfrac><mi>B</mi><mo>+</mo><mn>64</mn><mi>B</mi><mo stretchy="false">)</mo><mo>×</mo><mn>8</mn><mo>=</mo><mn>532</mn><mi>B</mi></mrow><annotation encoding="application/x-tex">(\frac{19+1}{8}B+64B)\times8=532B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">8</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">19</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">64</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">532</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。</li>
<li>(2). 数组a的首地址为320，一个<code>int</code>型数据元素占4B，所以a[0][31]的地址为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>320</mn><mo>+</mo><mo stretchy="false">(</mo><mn>0</mn><mo>×</mo><mn>256</mn><mo>+</mo><mn>31</mn><mo stretchy="false">)</mo><mo>×</mo><mn>4</mn><mo>=</mo><mn>444</mn></mrow><annotation encoding="application/x-tex">320 + (0\times 256+31)\times 4=444</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">320</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">256</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">31</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">444</span></span></span></span>，对应的Cache行号为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>444</mn><mi mathvariant="normal">/</mi><mn>64</mn><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mn>8</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">(444/64)\%8=6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">444/64</span><span class="mclose">)</span><span class="mord">%8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span>；a[1][1]的地址为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>320</mn><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>×</mo><mn>256</mn><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mn>4</mn><mo>=</mo><mn>1348</mn></mrow><annotation encoding="application/x-tex">320+(1\times256+1)\times4=1348</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">320</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">256</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1348</span></span></span></span>，对应的Cache行号为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1348</mn><mi mathvariant="normal">/</mi><mn>64</mn><mo stretchy="false">)</mo><mi mathvariant="normal">%</mi><mn>8</mn><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">(1348/64)\%8=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1348/64</span><span class="mclose">)</span><span class="mord">%8</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span>。</li>
<li>(3). Cache行大小为64B，一个Cache可存放数组元素16个，程序A按行优先访问数组a，则只有每次访问对应Cache行的第一个元素时发生缺失，存放数组元素需要的Cache行数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>256</mn><mo>×</mo><mn>256</mn></mrow><mn>16</mn></mfrac><mo>=</mo><msup><mn>2</mn><mn>12</mn></msup></mrow><annotation encoding="application/x-tex">\frac{256\times256}{16}=2^{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">256</span><span class="mbin mtight">×</span><span class="mord mtight">256</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span></span></span></span>,即缺失<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>12</mn></msup></mrow><annotation encoding="application/x-tex">2^{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span></span></span></span>次，所以A的命中率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>256</mn><mo>×</mo><mn>256</mn><mo>−</mo><msup><mn>2</mn><mn>12</mn></msup></mrow><mrow><mn>256</mn><mo>×</mo><mn>256</mn></mrow></mfrac><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>93.75</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{256\times256-2^{12}}{256\times256}\times 100\%=93.75\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4213em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0179em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">256</span><span class="mbin mtight">×</span><span class="mord mtight">256</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">256</span><span class="mbin mtight">×</span><span class="mord mtight">256</span><span class="mbin mtight">−</span><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">93.75%</span></span></span></span>。程序B按列优先访问数组，因此每次访问时都不命中，所以命中率为0。所以程序A的执行比程序B执行快得多。</li>
</ul>
<h3 id="45-14">45</h3>
<ul>
<li>(1). 因为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>K</mi><mi>B</mi><mo>=</mo><mn>2</mn><mo>×</mo><mn>1024</mn><mo>×</mo><mn>8</mn><mi>b</mi><mo>=</mo><mn>16384</mn><mi>b</mi></mrow><annotation encoding="application/x-tex">2KB=2\times 1024 \times 8b=16384b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1024</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">8</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">16384</span><span class="mord mathnormal">b</span></span></span></span>，所以采用位示图法管理磁盘空闲状态，即用一位表示一个磁盘的状态，0表示空闲，1表示占用。</li>
<li>(2). 磁盘转一圈时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>60</mn><mi>s</mi></mrow><mn>6000</mn></mfrac><mo>=</mo><mn>10</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{60s}{6000}=10ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6000</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">60</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span>，每个磁道有100个扇区，所以读取一个磁道中随机一个扇区需要的时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi>m</mi><mi>s</mi><mo>+</mo><mfrac><mrow><mn>10</mn><mi>m</mi><mi>s</mi></mrow><mn>100</mn></mfrac><mo>=</mo><mn>5.1</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">5ms+\frac{10ms}{100}=5.1ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">100</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5.1</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span>，俺请求顺序50,90,30,120移动磁道个数为170，因此读完4个扇区总共需要时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5.1</mn><mi>m</mi><mi>s</mi><mo>×</mo><mn>4</mn><mo>+</mo><mn>170</mn><mo>×</mo><mn>1</mn><mi>m</mi><mi>s</mi><mo>=</mo><mn>190.4</mn><mi>m</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">5.1ms\times 4+ 170\times1ms=190.4ms</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5.1</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">170</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">190.4</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span>。</li>
<li>(3). 有，采用先来先服务调度策略更高效。因为Flash半导体存储器的物理结构不需要考虑寻道时间和旋转延迟，可直接按IO请求的先后顺序服务。</li>
</ul>
<h3 id="46-13">46</h3>
<ul>
<li>(1). 页大小为1KB，按字节编址，因此页内偏移占10位，虚拟地址和物理地址空间均为64KB，因此虚拟地址和物理地址长度均为16位，所以虚页号占6位。虚拟地址17CAH的二进制为0001 0111 1100 1010B，对应虚页号为000101B，所以页号为5。</li>
<li>(2). 采用先进先出的置换算法，最早进入的为0号页，因此0号页发生替换，对应的页框号为7，所以物理地址是0001 1111 1100 1010B，十六进制表示为1FCAH。</li>
<li>(3). 采用时钟置换算法时，当前指向2号页，从2号页开始，前4次查找也框号顺序为2,4,7,9，并将对应页框的使用位清零，在第5次查找中指针指向2号页，使用位为0，因此淘汰2号页，对应页框号为2，所以物理地址是0000 1011 1100 1010B，十六进制表示为0BCAH。</li>
</ul>
<h3 id="47-14">47</h3>
<ul>
<li>
<p>(1). 主机甲和主机乙之间单向传播延迟时间：10us。</p>
<p>两台主机均检测到冲突时，最短所需时间和最长所需时间对应下面两种极端情况。</p>
<p>① 主机甲和主机乙同时各发送一个数据帧，信号在信道中发生冲突后，冲突信号继续向两个方向传播。因此，甲乙两台主机均检测到冲突时，最短需经过10us。</p>
<p>② 主机甲（或主机乙）先发送一个数据帧，当该数据帧即将到达主机乙（或主机甲）时，主机乙（或主机甲）也开始发送一个数据帧。这时，主机乙（或主机甲）将立即检测到冲突; 而主机甲（或主机乙）要检测到冲突，冲突信号还需要从主机乙（或主机甲）传播到主机甲（或主机乙），因此,甲乙两台主机均检测到冲突时，最长需经过20us。</p>
</li>
<li>
<p>(2). 发送1518B的数据帧传输时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>1518</mn><mo>×</mo><mn>8</mn></mrow><mrow><mn>10</mn><mi>M</mi></mrow></mfrac><mo>=</mo><mn>1214.4</mn><mi>u</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{1518\times 8}{10M}=1214.4us</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1518</span><span class="mbin mtight">×</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1214.4</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span></span></span></span></p>
<p>发送64B数据传输时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>64</mn><mo>×</mo><mn>8</mn></mrow><mrow><mn>10</mn><mi>M</mi></mrow></mfrac><mo>=</mo><mn>51.2</mn><mi>u</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{64\times 8}{10M}=51.2us</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">64</span><span class="mbin mtight">×</span><span class="mord mtight">8</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">51.2</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span></span></span></span></p>
<p>所以主机甲的有效数据传输速率是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>1500</mn><mo>×</mo><mn>8</mn><mi>b</mi></mrow><mrow><mn>20</mn><mi>u</mi><mi>s</mi><mo>+</mo><mn>1214.4</mn><mi>u</mi><mi>s</mi><mo>+</mo><mn>51.2</mn><mi>u</mi><mi>s</mi></mrow></mfrac><mo>=</mo><mn>9.33</mn><mi>M</mi><mi>b</mi><mi>p</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">\frac{1500\times8b}{20us+1214.4us+51.2us}=9.33Mbps</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2834em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">20</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">+</span><span class="mord mtight">1214.4</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">+</span><span class="mord mtight">51.2</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">s</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1500</span><span class="mbin mtight">×</span><span class="mord mtight">8</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">9.33</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">b</span><span class="mord mathnormal">p</span><span class="mord mathnormal">s</span></span></span></span>。</p>
</li>
</ul>
<hr>
<h2 id="2009年-2">2009年</h2>
<h3 id="43-14">43</h3>
<ul>
<li>(1). 在中断方式下，数据传输率为0.5MB/s，以32位为单位进行传输，则每秒需要传输次数至少为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>0.5</mn><mi>M</mi></mrow><mn>4</mn></mfrac><mo>=</mo><mn>1.25</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">\frac{0.5M}{4}=1.25\times 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.25</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，CPI为4，一次中断处理开销指向时间相当于20条指令，所以每秒中断处理需要时钟周期数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.25</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup><mo>×</mo><mn>20</mn><mo>×</mo><mn>5</mn><mo>=</mo><mn>12.5</mn><mi>M</mi></mrow><annotation encoding="application/x-tex">1.25\times 10^5\times 20\times 5=12.5M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.25</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">20</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">12.5</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>，CPU的主频为500MHz，所以用于外设IO的时间占整个CPU时间的百分比是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>12.5</mn><mi>M</mi></mrow><mrow><mn>500</mn><mi>M</mi></mrow></mfrac><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>2.5</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{12.5M}{500M}\times 100 \%=2.5\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">500</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12.5</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">2.5%</span></span></span></span>。</li>
<li>(2). 采用DMA传送，每秒DMA请求次数至少是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>5</mn><mi>M</mi></mrow><mn>5000</mn></mfrac><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">\frac{5M}{5000}=1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2173em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5000</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">5</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1000</span></span></span></span>次，DMA的总开销是500个时钟周期，所以用于IO的时间占比是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mn>1000</mn><mo>×</mo><mn>500</mn></mrow><mrow><mn>500</mn><mi>M</mi></mrow></mfrac><mo>×</mo><mn>100</mn><mi mathvariant="normal">%</mi><mo>=</mo><mn>0.1</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\frac{1000 \times500}{500M}\times 100\%=0.1\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">500</span><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1000</span><span class="mbin mtight">×</span><span class="mord mtight">500</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">100%</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8056em;vertical-align:-0.0556em;"></span><span class="mord">0.1%</span></span></span></span>。】</li>
</ul>
<h3 id="44-15">44</h3>
<p>执行阶段的每个节拍的功能和有效控制信号为：</p>
<table>
<thead>
<tr>
<th style="text-align:center">时钟</th>
<th style="text-align:center">功能</th>
<th style="text-align:center">有效控制信号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">C5</td>
<td style="text-align:center">MAR <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span> (R1)</td>
<td style="text-align:center">R1out, MARin</td>
</tr>
<tr>
<td style="text-align:center">C6</td>
<td style="text-align:center">MDR <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span> M(MAR)</td>
<td style="text-align:center">MemR, MDRinE</td>
</tr>
<tr>
<td style="text-align:center">C7</td>
<td style="text-align:center">A <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span> (MDR)</td>
<td style="text-align:center">MDRout, Ain</td>
</tr>
<tr>
<td style="text-align:center">C8</td>
<td style="text-align:center">AC <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span> (A) + (R0)</td>
<td style="text-align:center">R0out, Add, ACin</td>
</tr>
<tr>
<td style="text-align:center">C9</td>
<td style="text-align:center">MDR <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span> (AC)</td>
<td style="text-align:center">ACout, MDRin</td>
</tr>
<tr>
<td style="text-align:center">C10</td>
<td style="text-align:center">M(MAR) <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>←</mo></mrow><annotation encoding="application/x-tex">\leftarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">←</span></span></span></span> (MDR)</td>
<td style="text-align:center">MDRoutE, MemW</td>
</tr>
</tbody>
</table>
<h3 id="45-15">45</h3>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">Semaphore mutex = <span class="number">1</span>; <span class="comment">// 互斥访问缓冲区</span></span><br><span class="line">Semaphore empty = N; <span class="comment">// 缓冲区空闲位置</span></span><br><span class="line">Semaphore full_odd = <span class="number">0</span>; <span class="comment">// 奇数个数</span></span><br><span class="line">Semaphore full_even = <span class="number">0</span>; <span class="comment">// 偶数个数</span></span><br><span class="line"></span><br><span class="line">P1 &#123;</span><br><span class="line">    <span class="type">int</span> x = produce();</span><br><span class="line">    P(empty);</span><br><span class="line">    P(mutex);</span><br><span class="line">  	put();</span><br><span class="line">    V(mutex);</span><br><span class="line">    <span class="keyword">if</span>(x % <span class="number">2</span> == <span class="number">0</span>) V(full_even);</span><br><span class="line">    <span class="keyword">else</span> V(full_odd);  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">P2 &#123;</span><br><span class="line">    P(full_odd);</span><br><span class="line">    P(mutex);</span><br><span class="line">    getodd();</span><br><span class="line">    countodd();</span><br><span class="line">    V(empty);</span><br><span class="line">    V(mutex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">P3 &#123;</span><br><span class="line">    P(full_even);</span><br><span class="line">    P(mutex);</span><br><span class="line">    geteven();</span><br><span class="line">    counteven();</span><br><span class="line">    V(empty);</span><br><span class="line">    V(mutex);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="46-14">46</h3>
<ul>
<li>(1). 页面大小为4KB，则页内偏移占12位                                                                                                                                                                                                                        访问虚拟地址2362H，页内偏移为362H，页号为2，初识时TLB为空，因此查询TLB未命中，花费10ns，然后查询页表花费100ns，页表中页号2对应的表项有效位1，页框号为254H，因此物理地址为254362H，然后根据物理地址访问内存中的数据，花费100ns，总共需要时间为210ns。                                                                        访问虚拟地址1565H，页内偏移为565H，页号为1，先查询TLB，未命中，花费10ns，难后查询内存中的页表，对应页表项的有效位为0，因此发生缺页，需要进行缺页处理，处理后再次执行该命令，访问TLB命中，分配的页号为0，对应也框号为101H，最后根据物理地址访问内存中的数据，因此总共需要时间为10ns + 100ns + <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">10^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span>ns + 10ns + 100ns = 10000 0220ns。                                                                                                                                                                                    访问虚拟地址25A5H时，对应的页号为2，在访问2362H时，已将对应的页表项存入TLB，因此查询TLB命中，转换成物理地址后访问内存中的数据，因此总共需要时间为110ns。</li>
<li>(2). 访问虚拟地址1565H时，页内偏移为565H，页号为1，查询页表发生缺页，因为进程的驻留集为2，所以采用最近最少使用替换策略应将0号页替换，对应的页框号为101H，所以物理地址为101565H。</li>
</ul>
<h3 id="47-15">47</h3>
<ul>
<li>(1). 每个局域网的IP地址数不少于120个，因此主机号为7位，网络号为1位，两个子网分别为202.118.1.0/25, 202.118.1.128/25。因此局域网1与局域网2可以分别为202.118.1.0/25，子网掩码是255.255.255.128，局域网2：子网地址为202.118.1.128/25，子网掩码是255.255.255.128。</li>
<li>(2). R1的路由表如下：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">目的网络IP地址</th>
<th style="text-align:center">子网掩码</th>
<th style="text-align:center">下一跳IP地址</th>
<th style="text-align:center">接口</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">202.118.1.0/25</td>
<td style="text-align:center">255.255.255.128</td>
<td style="text-align:center">——</td>
<td style="text-align:center">E1</td>
</tr>
<tr>
<td style="text-align:center">202.118.1.128/25</td>
<td style="text-align:center">255.255.255.128</td>
<td style="text-align:center">——</td>
<td style="text-align:center">E2</td>
</tr>
<tr>
<td style="text-align:center">202.118.3.2/32</td>
<td style="text-align:center">255.255.255.255</td>
<td style="text-align:center">202.118.2.2</td>
<td style="text-align:center">L0</td>
</tr>
<tr>
<td style="text-align:center">0.0.0.0/0</td>
<td style="text-align:center">0.0.0.0</td>
<td style="text-align:center">202.118.2.2</td>
<td style="text-align:center">L0</td>
</tr>
</tbody>
</table>
<ul>
<li>(3). 局域网1与局域网2可以聚合为202.118.1.0/24， 子网掩码为255.255.255.0，所以R2到局域网1和局域网2的路由为</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">目的网络IP地址</th>
<th style="text-align:center">子网掩码</th>
<th style="text-align:center">吓一跳IP地址</th>
<th style="text-align:center">接口</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">202.118.1.0/24</td>
<td style="text-align:center">255.255.255.0</td>
<td style="text-align:center">202.118.2.1</td>
<td style="text-align:center">L0</td>
</tr>
</tbody>
</table>
]]></content>
      <categories>
        <category>研究生入学考试</category>
        <category>真题n刷</category>
      </categories>
      <tags>
        <tag>408</tag>
      </tags>
  </entry>
</search>
